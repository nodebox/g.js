var g=(()=>{var Ra=Object.create;var hn=Object.defineProperty;var Fa=Object.getOwnPropertyDescriptor;var ka=Object.getOwnPropertyNames;var Da=Object.getPrototypeOf,Wa=Object.prototype.hasOwnProperty;var Gt=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ie=(t,e)=>{for(var r in e)hn(t,r,{get:e[r],enumerable:!0})},ko=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of ka(e))!Wa.call(t,i)&&i!==r&&hn(t,i,{get:()=>e[i],enumerable:!(n=Fa(e,i))||n.enumerable});return t};var Nr=(t,e,r)=>(r=t!=null?Ra(Da(t)):{},ko(e||!t||!t.__esModule?hn(r,"default",{value:t,enumerable:!0}):r,t)),Ua=t=>ko(hn({},"__esModule",{value:!0}),t);var Xr=Gt(sr=>{"use strict";function Qa(t,e,r){if(r===void 0&&(r=Array.prototype),t&&typeof r.find=="function")return r.find.call(t,e);for(var n=0;n<t.length;n++)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];if(e.call(void 0,i,n,t))return i}}function xi(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function Ka(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}var Uo=xi({HTML:"text/html",isHTML:function(t){return t===Uo.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),qo=xi({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===qo.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});sr.assign=Ka;sr.find=Qa;sr.freeze=xi;sr.MIME_TYPE=Uo;sr.NAMESPACE=qo});var Ni=Gt(ye=>{var $o=Xr(),Jt=$o.find,Yr=$o.NAMESPACE;function tf(t){return t!==""}function ef(t){return t?t.split(/[\t\n\f\r ]+/).filter(tf):[]}function rf(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function Ho(t){if(!t)return[];var e=ef(t);return Object.keys(e.reduce(rf,{}))}function nf(t){return function(e){return t&&t.indexOf(e)!==-1}}function Rr(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function Ot(t,e){var r=t.prototype;if(!(r instanceof e)){let i=function(){};var n=i;i.prototype=e.prototype,i=new i,Rr(r,i),t.prototype=r=i}r.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),r.constructor=t)}var At={},kt=At.ELEMENT_NODE=1,ar=At.ATTRIBUTE_NODE=2,gn=At.TEXT_NODE=3,Qo=At.CDATA_SECTION_NODE=4,Ko=At.ENTITY_REFERENCE_NODE=5,of=At.ENTITY_NODE=6,ts=At.PROCESSING_INSTRUCTION_NODE=7,es=At.COMMENT_NODE=8,rs=At.DOCUMENT_NODE=9,ns=At.DOCUMENT_TYPE_NODE=10,le=At.DOCUMENT_FRAGMENT_NODE=11,sf=At.NOTATION_NODE=12,Ct={},Pt={},Gy=Ct.INDEX_SIZE_ERR=(Pt[1]="Index size error",1),Vy=Ct.DOMSTRING_SIZE_ERR=(Pt[2]="DOMString size error",2),bt=Ct.HIERARCHY_REQUEST_ERR=(Pt[3]="Hierarchy request error",3),zy=Ct.WRONG_DOCUMENT_ERR=(Pt[4]="Wrong document",4),Zy=Ct.INVALID_CHARACTER_ERR=(Pt[5]="Invalid character",5),Jy=Ct.NO_DATA_ALLOWED_ERR=(Pt[6]="No data allowed",6),jy=Ct.NO_MODIFICATION_ALLOWED_ERR=(Pt[7]="No modification allowed",7),is=Ct.NOT_FOUND_ERR=(Pt[8]="Not found",8),$y=Ct.NOT_SUPPORTED_ERR=(Pt[9]="Not supported",9),Go=Ct.INUSE_ATTRIBUTE_ERR=(Pt[10]="Attribute in use",10),Qy=Ct.INVALID_STATE_ERR=(Pt[11]="Invalid state",11),Ky=Ct.SYNTAX_ERR=(Pt[12]="Syntax error",12),t1=Ct.INVALID_MODIFICATION_ERR=(Pt[13]="Invalid modification",13),e1=Ct.NAMESPACE_ERR=(Pt[14]="Invalid namespace",14),r1=Ct.INVALID_ACCESS_ERR=(Pt[15]="Invalid access",15);function pt(t,e){if(e instanceof Error)var r=e;else r=this,Error.call(this,Pt[t]),this.message=Pt[t],Error.captureStackTrace&&Error.captureStackTrace(this,pt);return r.code=t,e&&(this.message=this.message+": "+e),r}pt.prototype=Error.prototype;Rr(Ct,pt);function se(){}se.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var r=[],n=0;n<this.length;n++)lr(this[n],r,t,e);return r.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function fr(t,e){this._node=t,this._refresh=e,_i(this)}function _i(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var r=t._refresh(t._node);vs(t,"length",r.length),Rr(r,t),t._inc=e}}fr.prototype.item=function(t){return _i(this),this[t]};Ot(fr,se);function xn(){}function os(t,e){for(var r=t.length;r--;)if(t[r]===e)return r}function Vo(t,e,r,n){if(n?e[os(e,n)]=r:e[e.length++]=r,t){r.ownerElement=t;var i=t.ownerDocument;i&&(n&&as(i,t,n),lf(i,t,r))}}function zo(t,e,r){var n=os(e,r);if(n>=0){for(var i=e.length-1;n<i;)e[n]=e[++n];if(e.length=i,t){var o=t.ownerDocument;o&&(as(o,t,r),r.ownerElement=null)}}else throw new pt(is,new Error(t.tagName+"@"+r))}xn.prototype={length:0,item:se.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==t)return r}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new pt(Go);var r=this.getNamedItem(t.nodeName);return Vo(this._ownerElement,this,t,r),r},setNamedItemNS:function(t){var e=t.ownerElement,r;if(e&&e!=this._ownerElement)throw new pt(Go);return r=this.getNamedItemNS(t.namespaceURI,t.localName),Vo(this._ownerElement,this,t,r),r},removeNamedItem:function(t){var e=this.getNamedItem(t);return zo(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var r=this.getNamedItemNS(t,e);return zo(this._ownerElement,this,r),r},getNamedItemNS:function(t,e){for(var r=this.length;r--;){var n=this[r];if(n.localName==e&&n.namespaceURI==t)return n}return null}};function ss(){}ss.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,r){var n=new Fr;if(n.implementation=this,n.childNodes=new se,n.doctype=r||null,r&&n.appendChild(r),e){var i=n.createElementNS(t,e);n.appendChild(i)}return n},createDocumentType:function(t,e,r){var n=new _n;return n.name=t,n.nodeName=t,n.publicId=e||"",n.systemId=r||"",n}};function st(){}st.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return Pn(this,t,e)},replaceChild:function(t,e){Pn(this,t,e,us),e&&this.removeChild(e)},removeChild:function(t){return fs(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return wi(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==gn&&t.nodeType==gn?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var r=e._nsMap;if(r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&r[n]===t)return n}e=e.nodeType==ar?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var r=e._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];e=e.nodeType==ar?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function ls(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}Rr(At,st);Rr(At,st.prototype);function Br(t,e){if(e(t))return!0;if(t=t.firstChild)do if(Br(t,e))return!0;while(t=t.nextSibling)}function Fr(){this.ownerDocument=this}function lf(t,e,r){t&&t._inc++;var n=r.namespaceURI;n===Yr.XMLNS&&(e._nsMap[r.prefix?r.localName:""]=r.value)}function as(t,e,r,n){t&&t._inc++;var i=r.namespaceURI;i===Yr.XMLNS&&delete e._nsMap[r.prefix?r.localName:""]}function Ci(t,e,r){if(t&&t._inc){t._inc++;var n=e.childNodes;if(r)n[n.length++]=r;else{for(var i=e.firstChild,o=0;i;)n[o++]=i,i=i.nextSibling;n.length=o,delete n[n.length]}}}function fs(t,e){var r=e.previousSibling,n=e.nextSibling;return r?r.nextSibling=n:t.firstChild=n,n?n.previousSibling=r:t.lastChild=r,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,Ci(t.ownerDocument,t),e}function af(t){return t&&(t.nodeType===st.DOCUMENT_NODE||t.nodeType===st.DOCUMENT_FRAGMENT_NODE||t.nodeType===st.ELEMENT_NODE)}function ff(t){return t&&(jt(t)||Ii(t)||ae(t)||t.nodeType===st.DOCUMENT_FRAGMENT_NODE||t.nodeType===st.COMMENT_NODE||t.nodeType===st.PROCESSING_INSTRUCTION_NODE)}function ae(t){return t&&t.nodeType===st.DOCUMENT_TYPE_NODE}function jt(t){return t&&t.nodeType===st.ELEMENT_NODE}function Ii(t){return t&&t.nodeType===st.TEXT_NODE}function Zo(t,e){var r=t.childNodes||[];if(Jt(r,jt)||ae(e))return!1;var n=Jt(r,ae);return!(e&&n&&r.indexOf(n)>r.indexOf(e))}function Jo(t,e){var r=t.childNodes||[];function n(o){return jt(o)&&o!==e}if(Jt(r,n))return!1;var i=Jt(r,ae);return!(e&&i&&r.indexOf(i)>r.indexOf(e))}function uf(t,e,r){if(!af(t))throw new pt(bt,"Unexpected parent node type "+t.nodeType);if(r&&r.parentNode!==t)throw new pt(is,"child not in parent");if(!ff(e)||ae(e)&&t.nodeType!==st.DOCUMENT_NODE)throw new pt(bt,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function hf(t,e,r){var n=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===st.DOCUMENT_FRAGMENT_NODE){var o=i.filter(jt);if(o.length>1||Jt(i,Ii))throw new pt(bt,"More than one element or text in fragment");if(o.length===1&&!Zo(t,r))throw new pt(bt,"Element in fragment can not be inserted before doctype")}if(jt(e)&&!Zo(t,r))throw new pt(bt,"Only one element can be added and only after doctype");if(ae(e)){if(Jt(n,ae))throw new pt(bt,"Only one doctype is allowed");var s=Jt(n,jt);if(r&&n.indexOf(s)<n.indexOf(r))throw new pt(bt,"Doctype can only be inserted before an element");if(!r&&s)throw new pt(bt,"Doctype can not be appended since element is present")}}function us(t,e,r){var n=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===st.DOCUMENT_FRAGMENT_NODE){var o=i.filter(jt);if(o.length>1||Jt(i,Ii))throw new pt(bt,"More than one element or text in fragment");if(o.length===1&&!Jo(t,r))throw new pt(bt,"Element in fragment can not be inserted before doctype")}if(jt(e)&&!Jo(t,r))throw new pt(bt,"Only one element can be added and only after doctype");if(ae(e)){let f=function(u){return ae(u)&&u!==r};var l=f;if(Jt(n,f))throw new pt(bt,"Only one doctype is allowed");var s=Jt(n,jt);if(r&&n.indexOf(s)<n.indexOf(r))throw new pt(bt,"Doctype can only be inserted before an element")}}function Pn(t,e,r,n){uf(t,e,r),t.nodeType===st.DOCUMENT_NODE&&(n||hf)(t,e,r);var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===le){var o=e.firstChild;if(o==null)return e;var s=e.lastChild}else o=s=e;var l=r?r.previousSibling:t.lastChild;o.previousSibling=l,s.nextSibling=r,l?l.nextSibling=o:t.firstChild=o,r==null?t.lastChild=s:r.previousSibling=s;do o.parentNode=t;while(o!==s&&(o=o.nextSibling));return Ci(t.ownerDocument||t,t),e.nodeType==le&&(e.firstChild=e.lastChild=null),e}function pf(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,Ci(t.ownerDocument,t,e),e}Fr.prototype={nodeName:"#document",nodeType:rs,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==le){for(var r=t.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,e),r=n}return t}return Pn(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===kt&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),fs(this,t)},replaceChild:function(t,e){Pn(this,t,e,us),t.ownerDocument=this,e&&this.removeChild(e),jt(t)&&(this.documentElement=t)},importNode:function(t,e){return ds(this,t,e)},getElementById:function(t){var e=null;return Br(this.documentElement,function(r){if(r.nodeType==kt&&r.getAttribute("id")==t)return e=r,!0}),e},getElementsByClassName:function(t){var e=Ho(t);return new fr(this,function(r){var n=[];return e.length>0&&Br(r.documentElement,function(i){if(i!==r&&i.nodeType===kt){var o=i.getAttribute("class");if(o){var s=t===o;if(!s){var l=Ho(o);s=e.every(nf(l))}s&&n.push(i)}}}),n})},createElement:function(t){var e=new Ue;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new se;var r=e.attributes=new xn;return r._ownerElement=e,e},createDocumentFragment:function(){var t=new Cn;return t.ownerDocument=this,t.childNodes=new se,t},createTextNode:function(t){var e=new Ti;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new Ei;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new bi;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var r=new Ai;return r.ownerDocument=this,r.tagName=r.target=t,r.nodeValue=r.data=e,r},createAttribute:function(t){var e=new wn;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new Oi;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var r=new Ue,n=e.split(":"),i=r.attributes=new xn;return r.childNodes=new se,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=t,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=e,i._ownerElement=r,r},createAttributeNS:function(t,e){var r=new wn,n=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=t,r.specified=!0,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=e,r}};Ot(Fr,st);function Ue(){this._nsMap={}}Ue.prototype={nodeType:kt,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var r=this.ownerDocument.createAttribute(t);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===le?this.insertBefore(t,null):pf(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);return r&&r.value||""},setAttributeNS:function(t,e,r){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new fr(this,function(e){var r=[];return Br(e,function(n){n!==e&&n.nodeType==kt&&(t==="*"||n.tagName==t)&&r.push(n)}),r})},getElementsByTagNameNS:function(t,e){return new fr(this,function(r){var n=[];return Br(r,function(i){i!==r&&i.nodeType===kt&&(t==="*"||i.namespaceURI===t)&&(e==="*"||i.localName==e)&&n.push(i)}),n})}};Fr.prototype.getElementsByTagName=Ue.prototype.getElementsByTagName;Fr.prototype.getElementsByTagNameNS=Ue.prototype.getElementsByTagNameNS;Ot(Ue,st);function wn(){}wn.prototype.nodeType=ar;Ot(wn,st);function kr(){}kr.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Pt[bt])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,r){var n=this.data.substring(0,t),i=this.data.substring(t+e);r=n+r+i,this.nodeValue=this.data=r,this.length=r.length}};Ot(kr,st);function Ti(){}Ti.prototype={nodeName:"#text",nodeType:gn,splitText:function(t){var e=this.data,r=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};Ot(Ti,kr);function Ei(){}Ei.prototype={nodeName:"#comment",nodeType:es};Ot(Ei,kr);function bi(){}bi.prototype={nodeName:"#cdata-section",nodeType:Qo};Ot(bi,kr);function _n(){}_n.prototype.nodeType=ns;Ot(_n,st);function hs(){}hs.prototype.nodeType=sf;Ot(hs,st);function ps(){}ps.prototype.nodeType=of;Ot(ps,st);function Oi(){}Oi.prototype.nodeType=Ko;Ot(Oi,st);function Cn(){}Cn.prototype.nodeName="#document-fragment";Cn.prototype.nodeType=le;Ot(Cn,st);function Ai(){}Ai.prototype.nodeType=ts;Ot(Ai,st);function cs(){}cs.prototype.serializeToString=function(t,e,r){return ms.call(t,e,r)};st.prototype.toString=ms;function ms(t,e){var r=[],n=this.nodeType==9&&this.documentElement||this,i=n.prefix,o=n.namespaceURI;if(o&&i==null){var i=n.lookupPrefix(o);if(i==null)var s=[{namespace:o,prefix:null}]}return lr(this,r,t,e,s),r.join("")}function jo(t,e,r){var n=t.prefix||"",i=t.namespaceURI;if(!i||n==="xml"&&i===Yr.XML||i===Yr.XMLNS)return!1;for(var o=r.length;o--;){var s=r[o];if(s.prefix===n)return s.namespace!==i}return!0}function Pi(t,e,r){t.push(" ",e,'="',r.replace(/[<>&"\t\n\r]/g,ls),'"')}function lr(t,e,r,n,i){if(i||(i=[]),n)if(t=n(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case kt:var o=t.attributes,s=o.length,I=t.firstChild,l=t.tagName;r=Yr.isHTML(t.namespaceURI)||r;var f=l;if(!r&&!t.prefix&&t.namespaceURI){for(var u,p=0;p<o.length;p++)if(o.item(p).name==="xmlns"){u=o.item(p).value;break}if(!u)for(var c=i.length-1;c>=0;c--){var m=i[c];if(m.prefix===""&&m.namespace===t.namespaceURI){u=m.namespace;break}}if(u!==t.namespaceURI)for(var c=i.length-1;c>=0;c--){var m=i[c];if(m.namespace===t.namespaceURI){m.prefix&&(f=m.prefix+":"+l);break}}}e.push("<",f);for(var d=0;d<s;d++){var v=o.item(d);v.prefix=="xmlns"?i.push({prefix:v.localName,namespace:v.value}):v.nodeName=="xmlns"&&i.push({prefix:"",namespace:v.value})}for(var d=0;d<s;d++){var v=o.item(d);if(jo(v,r,i)){var y=v.prefix||"",x=v.namespaceURI;Pi(e,y?"xmlns:"+y:"xmlns",x),i.push({prefix:y,namespace:x})}lr(v,e,r,n,i)}if(l===f&&jo(t,r,i)){var y=t.prefix||"",x=t.namespaceURI;Pi(e,y?"xmlns:"+y:"xmlns",x),i.push({prefix:y,namespace:x})}if(I||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(e.push(">"),r&&/^script$/i.test(l))for(;I;)I.data?e.push(I.data):lr(I,e,r,n,i.slice()),I=I.nextSibling;else for(;I;)lr(I,e,r,n,i.slice()),I=I.nextSibling;e.push("</",f,">")}else e.push("/>");return;case rs:case le:for(var I=t.firstChild;I;)lr(I,e,r,n,i.slice()),I=I.nextSibling;return;case ar:return Pi(e,t.name,t.value);case gn:return e.push(t.data.replace(/[<&>]/g,ls));case Qo:return e.push("<![CDATA[",t.data,"]]>");case es:return e.push("<!--",t.data,"-->");case ns:var C=t.publicId,w=t.systemId;if(e.push("<!DOCTYPE ",t.name),C)e.push(" PUBLIC ",C),w&&w!="."&&e.push(" ",w),e.push(">");else if(w&&w!=".")e.push(" SYSTEM ",w,">");else{var T=t.internalSubset;T&&e.push(" [",T,"]"),e.push(">")}return;case ts:return e.push("<?",t.target," ",t.data,"?>");case Ko:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function ds(t,e,r){var n;switch(e.nodeType){case kt:n=e.cloneNode(!1),n.ownerDocument=t;case le:break;case ar:r=!0;break}if(n||(n=e.cloneNode(!1)),n.ownerDocument=t,n.parentNode=null,r)for(var i=e.firstChild;i;)n.appendChild(ds(t,i,r)),i=i.nextSibling;return n}function wi(t,e,r){var n=new e.constructor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=e[i];typeof o!="object"&&o!=n[i]&&(n[i]=o)}switch(e.childNodes&&(n.childNodes=new se),n.ownerDocument=t,n.nodeType){case kt:var s=e.attributes,l=n.attributes=new xn,f=s.length;l._ownerElement=n;for(var u=0;u<f;u++)n.setAttributeNode(wi(t,s.item(u),!0));break;case ar:r=!0}if(r)for(var p=e.firstChild;p;)n.appendChild(wi(t,p,r)),p=p.nextSibling;return n}function vs(t,e,r){t[e]=r}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case kt:case le:var r=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&r.push(t(e)),e=e.nextSibling;return r.join("");default:return e.nodeValue}};n1=t,Object.defineProperty(fr.prototype,"length",{get:function(){return _i(this),this.$$length}}),Object.defineProperty(st.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case kt:case le:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),vs=function(e,r,n){e["$$"+r]=n}}}catch{}var n1;ye.DocumentType=_n;ye.DOMException=pt;ye.DOMImplementation=ss;ye.Element=Ue;ye.Node=st;ye.NodeList=se;ye.XMLSerializer=cs});var gs=Gt(Dr=>{var ys=Xr().freeze;Dr.XML_ENTITIES=ys({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'});Dr.HTML_ENTITIES=ys({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",times:"\xD7",divide:"\xF7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",euro:"\u20AC",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"});Dr.entityMap=Dr.HTML_ENTITIES});var Es=Gt(Li=>{var Hr=Xr().NAMESPACE,Si=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,xs=new RegExp("[\\-\\.0-9"+Si.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Ps=new RegExp("^"+Si.source+xs.source+"*(?::"+Si.source+xs.source+"*)?$"),Wr=0,ge=1,ur=2,Ur=3,hr=4,pr=5,qr=6,In=7;function cr(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,cr)}cr.prototype=new Error;cr.prototype.name=cr.name;function Cs(){}Cs.prototype={parse:function(t,e,r){var n=this.domBuilder;n.startDocument(),Is(e,e={}),cf(t,e,r,n,this.errorHandler),n.endDocument()}};function cf(t,e,r,n,i){function o(k){if(k>65535){k-=65536;var q=55296+(k>>10),ft=56320+(k&1023);return String.fromCharCode(q,ft)}else return String.fromCharCode(k)}function s(k){var q=k.slice(1,-1);return Object.hasOwnProperty.call(r,q)?r[q]:q.charAt(0)==="#"?o(parseInt(q.substr(1).replace("x","0x"))):(i.error("entity not found:"+k),k)}function l(k){if(k>y){var q=t.substring(y,k).replace(/&#?\w+;/g,s);m&&f(y),n.characters(q,0,k-y),y=k}}function f(k,q){for(;k>=p&&(q=c.exec(t));)u=q.index,p=u+q[0].length,m.lineNumber++;m.columnNumber=k-u+1}for(var u=0,p=0,c=/.*(?:\r\n?|\n)|.*$/g,m=n.locator,d=[{currentNSMap:e}],v={},y=0;;){try{var x=t.indexOf("<",y);if(x<0){if(!t.substr(y).match(/^\s*$/)){var I=n.doc,C=I.createTextNode(t.substr(y));I.appendChild(C),n.currentElement=C}return}switch(x>y&&l(x),t.charAt(x+1)){case"/":var B=t.indexOf(">",x+3),w=t.substring(x+2,B).replace(/[ \t\n\r]+$/g,""),T=d.pop();B<0?(w=t.substring(x+2).replace(/[\s<].*/,""),i.error("end tag name: "+w+" is not complete:"+T.tagName),B=x+1+w.length):w.match(/\s</)&&(w=w.replace(/[\s<].*/,""),i.error("end tag name: "+w+" maybe not complete"),B=x+1+w.length);var E=T.localNSMap,M=T.tagName==w,N=M||T.tagName&&T.tagName.toLowerCase()==w.toLowerCase();if(N){if(n.endElement(T.uri,T.localName,w),E)for(var L in E)Object.prototype.hasOwnProperty.call(E,L)&&n.endPrefixMapping(L);M||i.fatalError("end tag name: "+w+" is not match the current start tagName:"+T.tagName)}else d.push(T);B++;break;case"?":m&&f(x),B=gf(t,x,n);break;case"!":m&&f(x),B=yf(t,x,n,i);break;default:m&&f(x);var Y=new Ts,X=d[d.length-1].currentNSMap,B=mf(t,x,Y,X,s,i),G=Y.length;if(!Y.closed&&vf(t,B,Y.tagName,v)&&(Y.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),m&&G){for(var wt=ws(m,{}),$=0;$<G;$++){var lt=Y[$];f(lt.offset),lt.locator=ws(m,{})}n.locator=wt,_s(Y,n,X)&&d.push(Y),n.locator=m}else _s(Y,n,X)&&d.push(Y);Hr.isHTML(Y.uri)&&!Y.closed?B=df(t,B,Y.tagName,s,n):B++}}catch(k){if(k instanceof cr)throw k;i.error("element parse error: "+k),B=-1}B>y?y=B:l(Math.max(x,y)+1)}}function ws(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function mf(t,e,r,n,i,o){function s(d,v,y){r.attributeNames.hasOwnProperty(d)&&o.fatalError("Attribute "+d+" redefined"),r.addValue(d,v.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),y)}for(var l,f,u=++e,p=Wr;;){var c=t.charAt(u);switch(c){case"=":if(p===ge)l=t.slice(e,u),p=Ur;else if(p===ur)p=Ur;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(p===Ur||p===ge)if(p===ge&&(o.warning('attribute value must after "="'),l=t.slice(e,u)),e=u+1,u=t.indexOf(c,e),u>0)f=t.slice(e,u),s(l,f,e-1),p=pr;else throw new Error("attribute value no end '"+c+"' match");else if(p==hr)f=t.slice(e,u),s(l,f,e),o.warning('attribute "'+l+'" missed start quot('+c+")!!"),e=u+1,p=pr;else throw new Error('attribute value must after "="');break;case"/":switch(p){case Wr:r.setTagName(t.slice(e,u));case pr:case qr:case In:p=In,r.closed=!0;case hr:case ge:break;case ur:r.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),p==Wr&&r.setTagName(t.slice(e,u)),u;case">":switch(p){case Wr:r.setTagName(t.slice(e,u));case pr:case qr:case In:break;case hr:case ge:f=t.slice(e,u),f.slice(-1)==="/"&&(r.closed=!0,f=f.slice(0,-1));case ur:p===ur&&(f=l),p==hr?(o.warning('attribute "'+f+'" missed quot(")!'),s(l,f,e)):((!Hr.isHTML(n[""])||!f.match(/^(?:disabled|checked|selected)$/i))&&o.warning('attribute "'+f+'" missed value!! "'+f+'" instead!!'),s(f,f,e));break;case Ur:throw new Error("attribute value missed!!")}return u;case"\x80":c=" ";default:if(c<=" ")switch(p){case Wr:r.setTagName(t.slice(e,u)),p=qr;break;case ge:l=t.slice(e,u),p=ur;break;case hr:var f=t.slice(e,u);o.warning('attribute "'+f+'" missed quot(")!!'),s(l,f,e);case pr:p=qr;break}else switch(p){case ur:var m=r.tagName;(!Hr.isHTML(n[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&o.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),s(l,l,e),e=u,p=ge;break;case pr:o.warning('attribute space is required"'+l+'"!!');case qr:p=ge,e=u;break;case Ur:p=hr,e=u;break;case In:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function _s(t,e,r){for(var n=t.tagName,i=null,c=t.length;c--;){var o=t[c],s=o.qName,l=o.value,m=s.indexOf(":");if(m>0)var f=o.prefix=s.slice(0,m),u=s.slice(m+1),p=f==="xmlns"&&u;else u=s,f=null,p=s==="xmlns"&&"";o.localName=u,p!==!1&&(i==null&&(i={},Is(r,r={})),r[p]=i[p]=l,o.uri=Hr.XMLNS,e.startPrefixMapping(p,l))}for(var c=t.length;c--;){o=t[c];var f=o.prefix;f&&(f==="xml"&&(o.uri=Hr.XML),f!=="xmlns"&&(o.uri=r[f||""]))}var m=n.indexOf(":");m>0?(f=t.prefix=n.slice(0,m),u=t.localName=n.slice(m+1)):(f=null,u=t.localName=n);var d=t.uri=r[f||""];if(e.startElement(d,u,n,t),t.closed){if(e.endElement(d,u,n),i)for(f in i)Object.prototype.hasOwnProperty.call(i,f)&&e.endPrefixMapping(f)}else return t.currentNSMap=r,t.localNSMap=i,!0}function df(t,e,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var o=t.indexOf("</"+r+">",e),s=t.substring(e+1,o);if(/[&<]/.test(s))return/^script$/i.test(r)?(i.characters(s,0,s.length),o):(s=s.replace(/&#?\w+;/g,n),i.characters(s,0,s.length),o)}return e+1}function vf(t,e,r,n){var i=n[r];return i==null&&(i=t.lastIndexOf("</"+r+">"),i<e&&(i=t.lastIndexOf("</"+r)),n[r]=i),i<e}function Is(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function yf(t,e,r,n){var i=t.charAt(e+2);switch(i){case"-":if(t.charAt(e+3)==="-"){var o=t.indexOf("-->",e+4);return o>e?(r.comment(t,e+4,o-e-4),o+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var o=t.indexOf("]]>",e+9);return r.startCDATA(),r.characters(t,e+9,o-e-9),r.endCDATA(),o+3}var s=xf(t,e),l=s.length;if(l>1&&/!doctype/i.test(s[0][0])){var f=s[1][0],u=!1,p=!1;l>3&&(/^public$/i.test(s[2][0])?(u=s[3][0],p=l>4&&s[4][0]):/^system$/i.test(s[2][0])&&(p=s[3][0]));var c=s[l-1];return r.startDTD(f,u,p),r.endDTD(),c.index+c[0].length}}return-1}function gf(t,e,r){var n=t.indexOf("?>",e);if(n){var i=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){var o=i[0].length;return r.processingInstruction(i[1],i[2]),n+2}else return-1}return-1}function Ts(){this.attributeNames={}}Ts.prototype={setTagName:function(t){if(!Ps.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,r){if(!Ps.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function xf(t,e){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);r=i.exec(t);)if(n.push(r),r[1])return n}Li.XMLReader=Cs;Li.ParseError=cr});var Ms=Gt(En=>{var Pf=Xr(),wf=Ni(),bs=gs(),Ns=Es(),_f=wf.DOMImplementation,Os=Pf.NAMESPACE,Cf=Ns.ParseError,If=Ns.XMLReader;function Ss(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function Ls(t){this.options=t||{locator:{}}}Ls.prototype.parseFromString=function(t,e){var r=this.options,n=new If,i=r.domBuilder||new Gr,o=r.errorHandler,s=r.locator,l=r.xmlns||{},f=/\/x?html?$/.test(e),u=f?bs.HTML_ENTITIES:bs.XML_ENTITIES;s&&i.setDocumentLocator(s),n.errorHandler=Tf(o,i,s),n.domBuilder=r.domBuilder||i,f&&(l[""]=Os.HTML),l.xml=l.xml||Os.XML;var p=r.normalizeLineEndings||Ss;return t&&typeof t=="string"?n.parse(p(t),l,u):n.errorHandler.error("invalid doc source"),i.doc};function Tf(t,e,r){if(!t){if(e instanceof Gr)return e;t=e}var n={},i=t instanceof Function;r=r||{};function o(s){var l=t[s];!l&&i&&(l=t.length==2?function(f){t(s,f)}:t),n[s]=l&&function(f){l("[xmldom "+s+"]	"+f+Mi(r))}||function(){}}return o("warning"),o("error"),o("fatalError"),n}function Gr(){this.cdata=!1}function mr(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}Gr.prototype={startDocument:function(){this.doc=new _f().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,r,n){var i=this.doc,o=i.createElementNS(t,r||e),s=n.length;Tn(this,o),this.currentElement=o,this.locator&&mr(this.locator,o);for(var l=0;l<s;l++){var t=n.getURI(l),f=n.getValue(l),r=n.getQName(l),u=i.createAttributeNS(t,r);this.locator&&mr(n.getLocator(l),u),u.value=u.nodeValue=f,o.setAttributeNode(u)}},endElement:function(t,e,r){var n=this.currentElement,i=n.tagName;this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var r=this.doc.createProcessingInstruction(t,e);this.locator&&mr(this.locator,r),Tn(this,r)},ignorableWhitespace:function(t,e,r){},characters:function(t,e,r){if(t=As.apply(this,arguments),t){if(this.cdata)var n=this.doc.createCDATASection(t);else var n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&mr(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,r){t=As.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&mr(this.locator,n),Tn(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(t,e,r);this.locator&&mr(this.locator,i),Tn(this,i),this.doc.doctype=i}},warning:function(t){console.warn("[xmldom warning]	"+t,Mi(this.locator))},error:function(t){console.error("[xmldom error]	"+t,Mi(this.locator))},fatalError:function(t){throw new Cf(t,this.locator)}};function Mi(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function As(t,e,r){return typeof t=="string"?t.substr(e,r):t.length>=e+r||e?new java.lang.String(t,e,r)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){Gr.prototype[t]=function(){return null}});function Tn(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}En.__DOMHandler=Gr;En.normalizeLineEndings=Ss;En.DOMParser=Ls});var Ys=Gt(bn=>{var Xs=Ni();bn.DOMImplementation=Xs.DOMImplementation;bn.XMLSerializer=Xs.XMLSerializer;bn.DOMParser=Ms().DOMParser});var el=Gt(($1,zr)=>{"use strict";var Iu=!1,Ge=!1,Zs=!0,Js=!1,h={},js=!1;typeof zr<"u"&&zr.exports?(zr.exports=h,js=!0):typeof document<"u"?window.ClipperLib=h:self.ClipperLib=h;var Sn;js?(xt="chrome",Sn="Netscape"):(xt=navigator.userAgent.toString().toLowerCase(),Sn=navigator.appName);var xt,j={};xt.indexOf("chrome")!=-1&&xt.indexOf("chromium")==-1?j.chrome=1:j.chrome=0;xt.indexOf("chromium")!=-1?j.chromium=1:j.chromium=0;xt.indexOf("safari")!=-1&&xt.indexOf("chrome")==-1&&xt.indexOf("chromium")==-1?j.safari=1:j.safari=0;xt.indexOf("firefox")!=-1?j.firefox=1:j.firefox=0;xt.indexOf("firefox/17")!=-1?j.firefox17=1:j.firefox17=0;xt.indexOf("firefox/15")!=-1?j.firefox15=1:j.firefox15=0;xt.indexOf("firefox/3")!=-1?j.firefox3=1:j.firefox3=0;xt.indexOf("opera")!=-1?j.opera=1:j.opera=0;xt.indexOf("msie 10")!=-1?j.msie10=1:j.msie10=0;xt.indexOf("msie 9")!=-1?j.msie9=1:j.msie9=0;xt.indexOf("msie 8")!=-1?j.msie8=1:j.msie8=0;xt.indexOf("msie 7")!=-1?j.msie7=1:j.msie7=0;xt.indexOf("msie ")!=-1?j.msie=1:j.msie=0;h.biginteger_used=null;var Ce,Tu=0xdeadbeefcafe,Vs=(Tu&16777215)==15715070;function A(t,e,r){h.biginteger_used=1,t!=null&&(typeof t=="number"&&typeof e>"u"?this.fromInt(t):typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}function K(){return new A(null)}function Eu(t,e,r,n,i,o){for(;--o>=0;){var s=e*this[t++]+r[n]+i;i=Math.floor(s/67108864),r[n++]=s&67108863}return i}function bu(t,e,r,n,i,o){for(var s=e&32767,l=e>>15;--o>=0;){var f=this[t]&32767,u=this[t++]>>15,p=l*f+u*s;f=s*f+((p&32767)<<15)+r[n]+(i&1073741823),i=(f>>>30)+(p>>>15)+l*u+(i>>>30),r[n++]=f&1073741823}return i}function Ou(t,e,r,n,i,o){for(var s=e&16383,l=e>>14;--o>=0;){var f=this[t]&16383,u=this[t++]>>14,p=l*f+u*s;f=s*f+((p&16383)<<14)+r[n]+i,i=(f>>28)+(p>>14)+l*u,r[n++]=f&268435455}return i}Vs&&Sn=="Microsoft Internet Explorer"?(A.prototype.am=bu,Ce=30):Vs&&Sn!="Netscape"?(A.prototype.am=Eu,Ce=26):(A.prototype.am=Ou,Ce=28);A.prototype.DB=Ce;A.prototype.DM=(1<<Ce)-1;A.prototype.DV=1<<Ce;var ki=52;A.prototype.FV=Math.pow(2,ki);A.prototype.F1=ki-Ce;A.prototype.F2=2*Ce-ki;var Au="0123456789abcdefghijklmnopqrstuvwxyz",Mn=new Array,vr,Bt;vr="0".charCodeAt(0);for(Bt=0;Bt<=9;++Bt)Mn[vr++]=Bt;vr="a".charCodeAt(0);for(Bt=10;Bt<36;++Bt)Mn[vr++]=Bt;vr="A".charCodeAt(0);for(Bt=10;Bt<36;++Bt)Mn[vr++]=Bt;function zs(t){return Au.charAt(t)}function $s(t,e){var r=Mn[t.charCodeAt(e)];return r??-1}function Nu(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function Su(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0}function _e(t){var e=K();return e.fromInt(t),e}function Lu(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var n=t.length,i=!1,o=0;--n>=0;){var s=r==8?t[n]&255:$s(t,n);if(s<0){t.charAt(n)=="-"&&(i=!0);continue}i=!1,o==0?this[this.t++]=s:o+r>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,o+=r,o>=this.DB&&(o-=this.DB)}r==8&&t[0]&128&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&A.ZERO.subTo(this,this)}function Mu(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function Xu(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,n,i=!1,o="",s=this.t,l=this.DB-s*this.DB%e;if(s-- >0)for(l<this.DB&&(n=this[s]>>l)>0&&(i=!0,o=zs(n));s>=0;)l<e?(n=(this[s]&(1<<l)-1)<<e-l,n|=this[--s]>>(l+=this.DB-e)):(n=this[s]>>(l-=e)&r,l<=0&&(l+=this.DB,--s)),n>0&&(i=!0),i&&(o+=zs(n));return i?o:"0"}function Yu(){var t=K();return A.ZERO.subTo(this,t),t}function Bu(){return this.s<0?this.negate():this}function Ru(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this[r]-t[r])!=0)return e;return 0}function Xn(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function Fu(){return this.t<=0?0:this.DB*(this.t-1)+Xn(this[this.t-1]^this.s&this.DM)}function ku(t,e){var r;for(r=this.t-1;r>=0;--r)e[r+t]=this[r];for(r=t-1;r>=0;--r)e[r]=0;e.t=this.t+t,e.s=this.s}function Du(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s}function Wu(t,e){var r=t%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(t/this.DB),s=this.s<<r&this.DM,l;for(l=this.t-1;l>=0;--l)e[l+o+1]=this[l]>>n|s,s=(this[l]&i)<<r;for(l=o-1;l>=0;--l)e[l]=0;e[o]=s,e.t=this.t+o+1,e.s=this.s,e.clamp()}function Uu(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var n=t%this.DB,i=this.DB-n,o=(1<<n)-1;e[0]=this[r]>>n;for(var s=r+1;s<this.t;++s)e[s-r-1]|=(this[s]&o)<<i,e[s-r]=this[s]>>n;n>0&&(e[this.t-r-1]|=(this.s&o)<<i),e.t=this.t-r,e.clamp()}function qu(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]-t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t[r],e[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[r++]=this.DV+n:n>0&&(e[r++]=n),e.t=r,e.clamp()}function Hu(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e[i]=0;for(i=0;i<n.t;++i)e[i+r.t]=r.am(0,n[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&A.ZERO.subTo(e,e)}function Gu(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()}function Vu(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){e?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=K());var o=K(),s=this.s,l=t.s,f=this.DB-Xn(n[n.t-1]);f>0?(n.lShiftTo(f,o),i.lShiftTo(f,r)):(n.copyTo(o),i.copyTo(r));var u=o.t,p=o[u-1];if(p!=0){var c=p*(1<<this.F1)+(u>1?o[u-2]>>this.F2:0),m=this.FV/c,d=(1<<this.F1)/c,v=1<<this.F2,y=r.t,x=y-u,I=e??K();for(o.dlShiftTo(x,I),r.compareTo(I)>=0&&(r[r.t++]=1,r.subTo(I,r)),A.ONE.dlShiftTo(u,I),I.subTo(o,o);o.t<u;)o[o.t++]=0;for(;--x>=0;){var C=r[--y]==p?this.DM:Math.floor(r[y]*m+(r[y-1]+v)*d);if((r[y]+=o.am(0,C,r,x,0,u))<C)for(o.dlShiftTo(x,I),r.subTo(I,r);r[y]<--C;)r.subTo(I,r)}e!=null&&(r.drShiftTo(u,e),s!=l&&A.ZERO.subTo(e,e)),r.t=u,r.clamp(),f>0&&r.rShiftTo(f,r),s<0&&A.ZERO.subTo(r,r)}}}function zu(t){var e=K();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(A.ZERO)>0&&t.subTo(e,e),e}function Ve(t){this.m=t}function Zu(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function Ju(t){return t}function ju(t){t.divRemTo(this.m,null,t)}function $u(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function Qu(t,e){t.squareTo(e),this.reduce(e)}Ve.prototype.convert=Zu;Ve.prototype.revert=Ju;Ve.prototype.reduce=ju;Ve.prototype.mulTo=$u;Ve.prototype.sqrTo=Qu;function Ku(){if(this.t<1)return 0;var t=this[0];if(!(t&1))return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function ze(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function th(t){var e=K();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(A.ZERO)>0&&this.m.subTo(e,e),e}function eh(t){var e=K();return t.copyTo(e),this.reduce(e),e}function rh(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t[e]&32767,n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t[r]+=this.m.am(0,n,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function nh(t,e){t.squareTo(e),this.reduce(e)}function ih(t,e,r){t.multiplyTo(e,r),this.reduce(r)}ze.prototype.convert=th;ze.prototype.revert=eh;ze.prototype.reduce=rh;ze.prototype.mulTo=ih;ze.prototype.sqrTo=nh;function oh(){return(this.t>0?this[0]&1:this.s)==0}function sh(t,e){if(t>4294967295||t<1)return A.ONE;var r=K(),n=K(),i=e.convert(this),o=Xn(t)-1;for(i.copyTo(r);--o>=0;)if(e.sqrTo(r,n),(t&1<<o)>0)e.mulTo(n,i,r);else{var s=r;r=n,n=s}return e.revert(r)}function lh(t,e){var r;return t<256||e.isEven()?r=new Ve(e):r=new ze(e),this.exp(t,r)}A.prototype.copyTo=Nu;A.prototype.fromInt=Su;A.prototype.fromString=Lu;A.prototype.clamp=Mu;A.prototype.dlShiftTo=ku;A.prototype.drShiftTo=Du;A.prototype.lShiftTo=Wu;A.prototype.rShiftTo=Uu;A.prototype.subTo=qu;A.prototype.multiplyTo=Hu;A.prototype.squareTo=Gu;A.prototype.divRemTo=Vu;A.prototype.invDigit=Ku;A.prototype.isEven=oh;A.prototype.exp=sh;A.prototype.toString=Xu;A.prototype.negate=Yu;A.prototype.abs=Bu;A.prototype.compareTo=Ru;A.prototype.bitLength=Fu;A.prototype.mod=zu;A.prototype.modPowInt=lh;A.ZERO=_e(0);A.ONE=_e(1);function ah(){var t=K();return this.copyTo(t),t}function fh(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function uh(){return this.t==0?this.s:this[0]<<24>>24}function hh(){return this.t==0?this.s:this[0]<<16>>16}function ph(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function ch(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function mh(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=_e(r),i=K(),o=K(),s="";for(this.divRemTo(n,i,o);i.signum()>0;)s=(r+o.intValue()).toString(t).substr(1)+s,i.divRemTo(n,i,o);return o.intValue().toString(t)+s}function dh(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,o=0,s=0,l=0;l<t.length;++l){var f=$s(t,l);if(f<0){t.charAt(l)=="-"&&this.signum()==0&&(i=!0);continue}s=e*s+f,++o>=r&&(this.dMultiply(n),this.dAddOffset(s,0),o=0,s=0)}o>0&&(this.dMultiply(Math.pow(e,o)),this.dAddOffset(s,0)),i&&A.ZERO.subTo(this,this)}function vh(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(A.ONE.shiftLeft(t-1),Di,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(A.ONE.shiftLeft(t-1),this);else{var n=new Array,i=t&7;n.length=(t>>3)+1,e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function yh(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,n,i=0;if(t-- >0)for(r<this.DB&&(n=this[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this[t]&(1<<r)-1)<<8-r,n|=this[--t]>>(r+=this.DB-8)):(n=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),n&128&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e}function gh(t){return this.compareTo(t)==0}function xh(t){return this.compareTo(t)<0?this:t}function Ph(t){return this.compareTo(t)>0?this:t}function wh(t,e,r){var n,i,o=Math.min(t.t,this.t);for(n=0;n<o;++n)r[n]=e(this[n],t[n]);if(t.t<this.t){for(i=t.s&this.DM,n=o;n<this.t;++n)r[n]=e(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<t.t;++n)r[n]=e(i,t[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}function _h(t,e){return t&e}function Ch(t){var e=K();return this.bitwiseTo(t,_h,e),e}function Di(t,e){return t|e}function Ih(t){var e=K();return this.bitwiseTo(t,Di,e),e}function Qs(t,e){return t^e}function Th(t){var e=K();return this.bitwiseTo(t,Qs,e),e}function Ks(t,e){return t&~e}function Eh(t){var e=K();return this.bitwiseTo(t,Ks,e),e}function bh(){for(var t=K(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t}function Oh(t){var e=K();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function Ah(t){var e=K();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function Nh(t){if(t==0)return-1;var e=0;return t&65535||(t>>=16,e+=16),t&255||(t>>=8,e+=8),t&15||(t>>=4,e+=4),t&3||(t>>=2,e+=2),t&1||++e,e}function Sh(){for(var t=0;t<this.t;++t)if(this[t]!=0)return t*this.DB+Nh(this[t]);return this.s<0?this.t*this.DB:-1}function Lh(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function Mh(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=Lh(this[r]^e);return t}function Xh(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this[e]&1<<t%this.DB)!=0}function Yh(t,e){var r=A.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function Bh(t){return this.changeBit(t,Di)}function Rh(t){return this.changeBit(t,Ks)}function Fh(t){return this.changeBit(t,Qs)}function kh(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]+t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t[r],e[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e[r++]=n:n<-1&&(e[r++]=this.DV+n),e.t=r,e.clamp()}function Dh(t){var e=K();return this.addTo(t,e),e}function Wh(t){var e=K();return this.subTo(t,e),e}function Uh(t){var e=K();return this.multiplyTo(t,e),e}function qh(){var t=K();return this.squareTo(t),t}function Hh(t){var e=K();return this.divRemTo(t,e,null),e}function Gh(t){var e=K();return this.divRemTo(t,null,e),e}function Vh(t){var e=K(),r=K();return this.divRemTo(t,e,r),new Array(e,r)}function zh(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Zh(t,e){if(t!=0){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}}function Zr(){}function tl(t){return t}function Jh(t,e,r){t.multiplyTo(e,r)}function jh(t,e){t.squareTo(e)}Zr.prototype.convert=tl;Zr.prototype.revert=tl;Zr.prototype.mulTo=Jh;Zr.prototype.sqrTo=jh;function $h(t){return this.exp(t,new Zr)}function Qh(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r[n+this.t]=this.am(0,t[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t[n],r,n,0,e-n);r.clamp()}function Kh(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r[this.t+n-e]=this.am(e-n,t[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}function yr(t){this.r2=K(),this.q3=K(),A.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function tp(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=K();return t.copyTo(e),this.reduce(e),e}function ep(t){return t}function rp(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function np(t,e){t.squareTo(e),this.reduce(e)}function ip(t,e,r){t.multiplyTo(e,r),this.reduce(r)}yr.prototype.convert=tp;yr.prototype.revert=ep;yr.prototype.reduce=rp;yr.prototype.mulTo=ip;yr.prototype.sqrTo=np;function op(t,e){var r=t.bitLength(),n,i=_e(1),o;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?o=new Ve(e):e.isEven()?o=new yr(e):o=new ze(e);var s=new Array,l=3,f=n-1,u=(1<<n)-1;if(s[1]=o.convert(this),n>1){var p=K();for(o.sqrTo(s[1],p);l<=u;)s[l]=K(),o.mulTo(p,s[l-2],s[l]),l+=2}var c=t.t-1,m,d=!0,v=K(),y;for(r=Xn(t[c])-1;c>=0;){for(r>=f?m=t[c]>>r-f&u:(m=(t[c]&(1<<r+1)-1)<<f-r,c>0&&(m|=t[c-1]>>this.DB+r-f)),l=n;!(m&1);)m>>=1,--l;if((r-=l)<0&&(r+=this.DB,--c),d)s[m].copyTo(i),d=!1;else{for(;l>1;)o.sqrTo(i,v),o.sqrTo(v,i),l-=2;l>0?o.sqrTo(i,v):(y=i,i=v,v=y),o.mulTo(v,s[m],i)}for(;c>=0&&!(t[c]&1<<r);)o.sqrTo(i,v),y=i,i=v,v=y,--r<0&&(r=this.DB-1,--c)}return o.revert(i)}function sp(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),r.rShiftTo(o,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r}function lp(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this[n])%t;return r}function ap(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return A.ZERO;for(var r=t.clone(),n=this.clone(),i=_e(1),o=_e(0),s=_e(0),l=_e(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!i.isEven()||!o.isEven())&&(i.addTo(this,i),o.subTo(t,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),e?((!s.isEven()||!l.isEven())&&(s.addTo(this,s),l.subTo(t,l)),s.rShiftTo(1,s)):l.isEven()||l.subTo(t,l),l.rShiftTo(1,l);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(s,i),o.subTo(l,o)):(n.subTo(r,n),e&&s.subTo(i,s),l.subTo(o,l))}if(n.compareTo(A.ONE)!=0)return A.ZERO;if(l.compareTo(t)>=0)return l.subtract(t);if(l.signum()<0)l.addTo(t,l);else return l;return l.signum()<0?l.add(t):l}var Tt=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],fp=(1<<26)/Tt[Tt.length-1];function up(t){var e,r=this.abs();if(r.t==1&&r[0]<=Tt[Tt.length-1]){for(e=0;e<Tt.length;++e)if(r[0]==Tt[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<Tt.length;){for(var n=Tt[e],i=e+1;i<Tt.length&&n<fp;)n*=Tt[i++];for(n=r.modInt(n);e<i;)if(n%Tt[e++]==0)return!1}return r.millerRabin(t)}function hp(t){var e=this.subtract(A.ONE),r=e.getLowestSetBit();if(r<=0)return!1;var n=e.shiftRight(r);t=t+1>>1,t>Tt.length&&(t=Tt.length);for(var i=K(),o=0;o<t;++o){i.fromInt(Tt[Math.floor(Math.random()*Tt.length)]);var s=i.modPow(n,this);if(s.compareTo(A.ONE)!=0&&s.compareTo(e)!=0){for(var l=1;l++<r&&s.compareTo(e)!=0;)if(s=s.modPowInt(2,this),s.compareTo(A.ONE)==0)return!1;if(s.compareTo(e)!=0)return!1}}return!0}A.prototype.chunkSize=ph;A.prototype.toRadix=mh;A.prototype.fromRadix=dh;A.prototype.fromNumber=vh;A.prototype.bitwiseTo=wh;A.prototype.changeBit=Yh;A.prototype.addTo=kh;A.prototype.dMultiply=zh;A.prototype.dAddOffset=Zh;A.prototype.multiplyLowerTo=Qh;A.prototype.multiplyUpperTo=Kh;A.prototype.modInt=lp;A.prototype.millerRabin=hp;A.prototype.clone=ah;A.prototype.intValue=fh;A.prototype.byteValue=uh;A.prototype.shortValue=hh;A.prototype.signum=ch;A.prototype.toByteArray=yh;A.prototype.equals=gh;A.prototype.min=xh;A.prototype.max=Ph;A.prototype.and=Ch;A.prototype.or=Ih;A.prototype.xor=Th;A.prototype.andNot=Eh;A.prototype.not=bh;A.prototype.shiftLeft=Oh;A.prototype.shiftRight=Ah;A.prototype.getLowestSetBit=Sh;A.prototype.bitCount=Mh;A.prototype.testBit=Xh;A.prototype.setBit=Bh;A.prototype.clearBit=Rh;A.prototype.flipBit=Fh;A.prototype.add=Dh;A.prototype.subtract=Wh;A.prototype.multiply=Uh;A.prototype.divide=Hh;A.prototype.remainder=Gh;A.prototype.divideAndRemainder=Vh;A.prototype.modPow=op;A.prototype.modInverse=ap;A.prototype.pow=$h;A.prototype.gcd=sp;A.prototype.isProbablePrime=up;A.prototype.square=qh;var J=A;J.prototype.IsNegative=function(){return this.compareTo(J.ZERO)==-1};J.op_Equality=function(t,e){return t.compareTo(e)==0};J.op_Inequality=function(t,e){return t.compareTo(e)!=0};J.op_GreaterThan=function(t,e){return t.compareTo(e)>0};J.op_LessThan=function(t,e){return t.compareTo(e)<0};J.op_Addition=function(t,e){return new J(t).add(new J(e))};J.op_Subtraction=function(t,e){return new J(t).subtract(new J(e))};J.Int128Mul=function(t,e){return new J(t).multiply(new J(e))};J.op_Division=function(t,e){return t.divide(e)};J.prototype.ToDouble=function(){return parseFloat(this.toString())};typeof Ln>"u"&&(Ln=function(t,e){var r;if(typeof Object.getOwnPropertyNames>"u"){for(r in e.prototype)(typeof t.prototype[r]>"u"||t.prototype[r]==Object.prototype[r])&&(t.prototype[r]=e.prototype[r]);for(r in e)typeof t[r]>"u"&&(t[r]=e[r]);t.$baseCtor=e}else{for(var n=Object.getOwnPropertyNames(e.prototype),i=0;i<n.length;i++)typeof Object.getOwnPropertyDescriptor(t.prototype,n[i])>"u"&&Object.defineProperty(t.prototype,n[i],Object.getOwnPropertyDescriptor(e.prototype,n[i]));for(r in e)typeof t[r]>"u"&&(t[r]=e[r]);t.$baseCtor=e}});var Ln;h.Path=function(){return[]};h.Paths=function(){return[]};h.DoublePoint=function(){var t=arguments;this.X=0,this.Y=0,t.length==1?(this.X=t[0].X,this.Y=t[0].Y):t.length==2&&(this.X=t[0],this.Y=t[1])};h.DoublePoint0=function(){this.X=0,this.Y=0};h.DoublePoint1=function(t){this.X=t.X,this.Y=t.Y};h.DoublePoint2=function(t,e){this.X=t,this.Y=e};h.PolyNode=function(){this.m_Parent=null,this.m_polygon=new h.Path,this.m_Index=0,this.m_jointype=0,this.m_endtype=0,this.m_Childs=[],this.IsOpen=!1};h.PolyNode.prototype.IsHoleNode=function(){for(var t=!0,e=this.m_Parent;e!==null;)t=!t,e=e.m_Parent;return t};h.PolyNode.prototype.ChildCount=function(){return this.m_Childs.length};h.PolyNode.prototype.Contour=function(){return this.m_polygon};h.PolyNode.prototype.AddChild=function(t){var e=this.m_Childs.length;this.m_Childs.push(t),t.m_Parent=this,t.m_Index=e};h.PolyNode.prototype.GetNext=function(){return this.m_Childs.length>0?this.m_Childs[0]:this.GetNextSiblingUp()};h.PolyNode.prototype.GetNextSiblingUp=function(){return this.m_Parent===null?null:this.m_Index==this.m_Parent.m_Childs.length-1?this.m_Parent.GetNextSiblingUp():this.m_Parent.m_Childs[this.m_Index+1]};h.PolyNode.prototype.Childs=function(){return this.m_Childs};h.PolyNode.prototype.Parent=function(){return this.m_Parent};h.PolyNode.prototype.IsHole=function(){return this.IsHoleNode()};h.PolyTree=function(){this.m_AllPolys=[],h.PolyNode.call(this)};h.PolyTree.prototype.Clear=function(){for(var t=0,e=this.m_AllPolys.length;t<e;t++)this.m_AllPolys[t]=null;this.m_AllPolys.length=0,this.m_Childs.length=0};h.PolyTree.prototype.GetFirst=function(){return this.m_Childs.length>0?this.m_Childs[0]:null};h.PolyTree.prototype.Total=function(){return this.m_AllPolys.length};Ln(h.PolyTree,h.PolyNode);h.Math_Abs_Int64=h.Math_Abs_Int32=h.Math_Abs_Double=function(t){return Math.abs(t)};h.Math_Max_Int32_Int32=function(t,e){return Math.max(t,e)};j.msie||j.opera||j.safari?h.Cast_Int32=function(t){return t|0}:h.Cast_Int32=function(t){return~~t};j.chrome?h.Cast_Int64=function(t){return t<-2147483648||t>2147483647?t<0?Math.ceil(t):Math.floor(t):~~t}:j.firefox&&typeof Number.toInteger=="function"?h.Cast_Int64=function(t){return Number.toInteger(t)}:j.msie7||j.msie8?h.Cast_Int64=function(t){return parseInt(t,10)}:j.msie?h.Cast_Int64=function(t){return t<-2147483648||t>2147483647?t<0?Math.ceil(t):Math.floor(t):t|0}:h.Cast_Int64=function(t){return t<0?Math.ceil(t):Math.floor(t)};h.Clear=function(t){t.length=0};h.PI=3.141592653589793;h.PI2=2*3.141592653589793;h.IntPoint=function(){var t=arguments,e=t.length;if(this.X=0,this.Y=0,Ge)if(this.Z=0,e==3)this.X=t[0],this.Y=t[1],this.Z=t[2];else if(e==2)this.X=t[0],this.Y=t[1],this.Z=0;else if(e==1)if(t[0]instanceof h.DoublePoint){var r=t[0];this.X=h.Clipper.Round(r.X),this.Y=h.Clipper.Round(r.Y),this.Z=0}else{var n=t[0];typeof n.Z>"u"&&(n.Z=0),this.X=n.X,this.Y=n.Y,this.Z=n.Z}else this.X=0,this.Y=0,this.Z=0;else if(e==2)this.X=t[0],this.Y=t[1];else if(e==1)if(t[0]instanceof h.DoublePoint){var r=t[0];this.X=h.Clipper.Round(r.X),this.Y=h.Clipper.Round(r.Y)}else{var n=t[0];this.X=n.X,this.Y=n.Y}else this.X=0,this.Y=0};h.IntPoint.op_Equality=function(t,e){return t.X==e.X&&t.Y==e.Y};h.IntPoint.op_Inequality=function(t,e){return t.X!=e.X||t.Y!=e.Y};Ge?(h.IntPoint0=function(){this.X=0,this.Y=0,this.Z=0},h.IntPoint1=function(t){this.X=t.X,this.Y=t.Y,this.Z=t.Z},h.IntPoint1dp=function(t){this.X=h.Clipper.Round(t.X),this.Y=h.Clipper.Round(t.Y),this.Z=0},h.IntPoint2=function(t,e){this.X=t,this.Y=e,this.Z=0},h.IntPoint3=function(t,e,r){this.X=t,this.Y=e,this.Z=r}):(h.IntPoint0=function(){this.X=0,this.Y=0},h.IntPoint1=function(t){this.X=t.X,this.Y=t.Y},h.IntPoint1dp=function(t){this.X=h.Clipper.Round(t.X),this.Y=h.Clipper.Round(t.Y)},h.IntPoint2=function(t,e){this.X=t,this.Y=e});h.IntRect=function(){var t=arguments,e=t.length;e==4?(this.left=t[0],this.top=t[1],this.right=t[2],this.bottom=t[3]):e==1?(this.left=ir.left,this.top=ir.top,this.right=ir.right,this.bottom=ir.bottom):(this.left=0,this.top=0,this.right=0,this.bottom=0)};h.IntRect0=function(){this.left=0,this.top=0,this.right=0,this.bottom=0};h.IntRect1=function(t){this.left=t.left,this.top=t.top,this.right=t.right,this.bottom=t.bottom};h.IntRect4=function(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n};h.ClipType={ctIntersection:0,ctUnion:1,ctDifference:2,ctXor:3};h.PolyType={ptSubject:0,ptClip:1};h.PolyFillType={pftEvenOdd:0,pftNonZero:1,pftPositive:2,pftNegative:3};h.JoinType={jtSquare:0,jtRound:1,jtMiter:2};h.EndType={etOpenSquare:0,etOpenRound:1,etOpenButt:2,etClosedLine:3,etClosedPolygon:4};Js&&(h.EndType_={etSquare:0,etRound:1,etButt:2,etClosed:3});h.EdgeSide={esLeft:0,esRight:1};h.Direction={dRightToLeft:0,dLeftToRight:1};h.TEdge=function(){this.Bot=new h.IntPoint,this.Curr=new h.IntPoint,this.Top=new h.IntPoint,this.Delta=new h.IntPoint,this.Dx=0,this.PolyTyp=h.PolyType.ptSubject,this.Side=h.EdgeSide.esLeft,this.WindDelta=0,this.WindCnt=0,this.WindCnt2=0,this.OutIdx=0,this.Next=null,this.Prev=null,this.NextInLML=null,this.NextInAEL=null,this.PrevInAEL=null,this.NextInSEL=null,this.PrevInSEL=null};h.IntersectNode=function(){this.Edge1=null,this.Edge2=null,this.Pt=new h.IntPoint};h.MyIntersectNodeSort=function(){};h.MyIntersectNodeSort.Compare=function(t,e){return e.Pt.Y-t.Pt.Y};h.LocalMinima=function(){this.Y=0,this.LeftBound=null,this.RightBound=null,this.Next=null};h.Scanbeam=function(){this.Y=0,this.Next=null};h.OutRec=function(){this.Idx=0,this.IsHole=!1,this.IsOpen=!1,this.FirstLeft=null,this.Pts=null,this.BottomPt=null,this.PolyNode=null};h.OutPt=function(){this.Idx=0,this.Pt=new h.IntPoint,this.Next=null,this.Prev=null};h.Join=function(){this.OutPt1=null,this.OutPt2=null,this.OffPt=new h.IntPoint};h.ClipperBase=function(){this.m_MinimaList=null,this.m_CurrentLM=null,this.m_edges=new Array,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1,this.PreserveCollinear=!1,this.m_MinimaList=null,this.m_CurrentLM=null,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1};h.ClipperBase.horizontal=-9007199254740992;h.ClipperBase.Skip=-2;h.ClipperBase.Unassigned=-1;h.ClipperBase.tolerance=1e-20;Iu?(h.ClipperBase.loRange=46340,h.ClipperBase.hiRange=46340):(h.ClipperBase.loRange=47453132,h.ClipperBase.hiRange=0xfffffffffffff);h.ClipperBase.near_zero=function(t){return t>-h.ClipperBase.tolerance&&t<h.ClipperBase.tolerance};h.ClipperBase.IsHorizontal=function(t){return t.Delta.Y===0};h.ClipperBase.prototype.PointIsVertex=function(t,e){var r=e;do{if(h.IntPoint.op_Equality(r.Pt,t))return!0;r=r.Next}while(r!=e);return!1};h.ClipperBase.prototype.PointOnLineSegment=function(t,e,r,n){return n?t.X==e.X&&t.Y==e.Y||t.X==r.X&&t.Y==r.Y||t.X>e.X==t.X<r.X&&t.Y>e.Y==t.Y<r.Y&&J.op_Equality(J.Int128Mul(t.X-e.X,r.Y-e.Y),J.Int128Mul(r.X-e.X,t.Y-e.Y)):t.X==e.X&&t.Y==e.Y||t.X==r.X&&t.Y==r.Y||t.X>e.X==t.X<r.X&&t.Y>e.Y==t.Y<r.Y&&(t.X-e.X)*(r.Y-e.Y)==(r.X-e.X)*(t.Y-e.Y)};h.ClipperBase.prototype.PointOnPolygon=function(t,e,r){for(var n=e;;){if(this.PointOnLineSegment(t,n.Pt,n.Next.Pt,r))return!0;if(n=n.Next,n==e)break}return!1};h.ClipperBase.prototype.SlopesEqual=h.ClipperBase.SlopesEqual=function(){var t=arguments,e=t.length,r,n,i,o,s,l,f;return e==3?(r=t[0],n=t[1],f=t[2],f?J.op_Equality(J.Int128Mul(r.Delta.Y,n.Delta.X),J.Int128Mul(r.Delta.X,n.Delta.Y)):h.Cast_Int64(r.Delta.Y*n.Delta.X)==h.Cast_Int64(r.Delta.X*n.Delta.Y)):e==4?(i=t[0],o=t[1],s=t[2],f=t[3],f?J.op_Equality(J.Int128Mul(i.Y-o.Y,o.X-s.X),J.Int128Mul(i.X-o.X,o.Y-s.Y)):h.Cast_Int64((i.Y-o.Y)*(o.X-s.X))-h.Cast_Int64((i.X-o.X)*(o.Y-s.Y))===0):(i=t[0],o=t[1],s=t[2],l=t[3],f=t[4],f?J.op_Equality(J.Int128Mul(i.Y-o.Y,s.X-l.X),J.Int128Mul(i.X-o.X,s.Y-l.Y)):h.Cast_Int64((i.Y-o.Y)*(s.X-l.X))-h.Cast_Int64((i.X-o.X)*(s.Y-l.Y))===0)};h.ClipperBase.SlopesEqual3=function(t,e,r){return r?J.op_Equality(J.Int128Mul(t.Delta.Y,e.Delta.X),J.Int128Mul(t.Delta.X,e.Delta.Y)):h.Cast_Int64(t.Delta.Y*e.Delta.X)==h.Cast_Int64(t.Delta.X*e.Delta.Y)};h.ClipperBase.SlopesEqual4=function(t,e,r,n){return n?J.op_Equality(J.Int128Mul(t.Y-e.Y,e.X-r.X),J.Int128Mul(t.X-e.X,e.Y-r.Y)):h.Cast_Int64((t.Y-e.Y)*(e.X-r.X))-h.Cast_Int64((t.X-e.X)*(e.Y-r.Y))===0};h.ClipperBase.SlopesEqual5=function(t,e,r,n,i){return i?J.op_Equality(J.Int128Mul(t.Y-e.Y,r.X-n.X),J.Int128Mul(t.X-e.X,r.Y-n.Y)):h.Cast_Int64((t.Y-e.Y)*(r.X-n.X))-h.Cast_Int64((t.X-e.X)*(r.Y-n.Y))===0};h.ClipperBase.prototype.Clear=function(){this.DisposeLocalMinimaList();for(var t=0,e=this.m_edges.length;t<e;++t){for(var r=0,n=this.m_edges[t].length;r<n;++r)this.m_edges[t][r]=null;h.Clear(this.m_edges[t])}h.Clear(this.m_edges),this.m_UseFullRange=!1,this.m_HasOpenPaths=!1};h.ClipperBase.prototype.DisposeLocalMinimaList=function(){for(;this.m_MinimaList!==null;){var t=this.m_MinimaList.Next;this.m_MinimaList=null,this.m_MinimaList=t}this.m_CurrentLM=null};h.ClipperBase.prototype.RangeTest=function(t,e){e.Value?(t.X>h.ClipperBase.hiRange||t.Y>h.ClipperBase.hiRange||-t.X>h.ClipperBase.hiRange||-t.Y>h.ClipperBase.hiRange)&&h.Error("Coordinate outside allowed range in RangeTest()."):(t.X>h.ClipperBase.loRange||t.Y>h.ClipperBase.loRange||-t.X>h.ClipperBase.loRange||-t.Y>h.ClipperBase.loRange)&&(e.Value=!0,this.RangeTest(t,e))};h.ClipperBase.prototype.InitEdge=function(t,e,r,n){t.Next=e,t.Prev=r,t.Curr.X=n.X,t.Curr.Y=n.Y,t.OutIdx=-1};h.ClipperBase.prototype.InitEdge2=function(t,e){t.Curr.Y>=t.Next.Curr.Y?(t.Bot.X=t.Curr.X,t.Bot.Y=t.Curr.Y,t.Top.X=t.Next.Curr.X,t.Top.Y=t.Next.Curr.Y):(t.Top.X=t.Curr.X,t.Top.Y=t.Curr.Y,t.Bot.X=t.Next.Curr.X,t.Bot.Y=t.Next.Curr.Y),this.SetDx(t),t.PolyTyp=e};h.ClipperBase.prototype.FindNextLocMin=function(t){for(var e;;){for(;h.IntPoint.op_Inequality(t.Bot,t.Prev.Bot)||h.IntPoint.op_Equality(t.Curr,t.Top);)t=t.Next;if(t.Dx!=h.ClipperBase.horizontal&&t.Prev.Dx!=h.ClipperBase.horizontal)break;for(;t.Prev.Dx==h.ClipperBase.horizontal;)t=t.Prev;for(e=t;t.Dx==h.ClipperBase.horizontal;)t=t.Next;if(t.Top.Y!=t.Prev.Bot.Y){e.Prev.Bot.X<t.Bot.X&&(t=e);break}}return t};h.ClipperBase.prototype.ProcessBound=function(t,e){var r=t,n=t,i,o;if(t.Dx==h.ClipperBase.horizontal&&(e?o=t.Prev.Bot.X:o=t.Next.Bot.X,t.Bot.X!=o&&this.ReverseHorizontal(t)),n.OutIdx!=h.ClipperBase.Skip)if(e){for(;n.Top.Y==n.Next.Bot.Y&&n.Next.OutIdx!=h.ClipperBase.Skip;)n=n.Next;if(n.Dx==h.ClipperBase.horizontal&&n.Next.OutIdx!=h.ClipperBase.Skip){for(i=n;i.Prev.Dx==h.ClipperBase.horizontal;)i=i.Prev;i.Prev.Top.X==n.Next.Top.X?e||(n=i.Prev):i.Prev.Top.X>n.Next.Top.X&&(n=i.Prev)}for(;t!=n;)t.NextInLML=t.Next,t.Dx==h.ClipperBase.horizontal&&t!=r&&t.Bot.X!=t.Prev.Top.X&&this.ReverseHorizontal(t),t=t.Next;t.Dx==h.ClipperBase.horizontal&&t!=r&&t.Bot.X!=t.Prev.Top.X&&this.ReverseHorizontal(t),n=n.Next}else{for(;n.Top.Y==n.Prev.Bot.Y&&n.Prev.OutIdx!=h.ClipperBase.Skip;)n=n.Prev;if(n.Dx==h.ClipperBase.horizontal&&n.Prev.OutIdx!=h.ClipperBase.Skip){for(i=n;i.Next.Dx==h.ClipperBase.horizontal;)i=i.Next;i.Next.Top.X==n.Prev.Top.X?e||(n=i.Next):i.Next.Top.X>n.Prev.Top.X&&(n=i.Next)}for(;t!=n;)t.NextInLML=t.Prev,t.Dx==h.ClipperBase.horizontal&&t!=r&&t.Bot.X!=t.Next.Top.X&&this.ReverseHorizontal(t),t=t.Prev;t.Dx==h.ClipperBase.horizontal&&t!=r&&t.Bot.X!=t.Next.Top.X&&this.ReverseHorizontal(t),n=n.Prev}if(n.OutIdx==h.ClipperBase.Skip){if(t=n,e){for(;t.Top.Y==t.Next.Bot.Y;)t=t.Next;for(;t!=n&&t.Dx==h.ClipperBase.horizontal;)t=t.Prev}else{for(;t.Top.Y==t.Prev.Bot.Y;)t=t.Prev;for(;t!=n&&t.Dx==h.ClipperBase.horizontal;)t=t.Next}if(t==n)e?n=t.Next:n=t.Prev;else{e?t=n.Next:t=n.Prev;var s=new h.LocalMinima;s.Next=null,s.Y=t.Bot.Y,s.LeftBound=null,s.RightBound=t,s.RightBound.WindDelta=0,n=this.ProcessBound(s.RightBound,e),this.InsertLocalMinima(s)}}return n};h.ClipperBase.prototype.AddPath=function(t,e,r){Zs?!r&&e==h.PolyType.ptClip&&h.Error("AddPath: Open paths must be subject."):r||h.Error("AddPath: Open paths have been disabled.");var n=t.length-1;if(r)for(;n>0&&h.IntPoint.op_Equality(t[n],t[0]);)--n;for(;n>0&&h.IntPoint.op_Equality(t[n],t[n-1]);)--n;if(r&&n<2||!r&&n<1)return!1;for(var i=new Array,o=0;o<=n;o++)i.push(new h.TEdge);var s=!0;i[1].Curr.X=t[1].X,i[1].Curr.Y=t[1].Y;var l={Value:this.m_UseFullRange};this.RangeTest(t[0],l),this.m_UseFullRange=l.Value,l.Value=this.m_UseFullRange,this.RangeTest(t[n],l),this.m_UseFullRange=l.Value,this.InitEdge(i[0],i[1],i[n],t[0]),this.InitEdge(i[n],i[0],i[n-1],t[n]);for(var o=n-1;o>=1;--o)l.Value=this.m_UseFullRange,this.RangeTest(t[o],l),this.m_UseFullRange=l.Value,this.InitEdge(i[o],i[o+1],i[o-1],t[o]);for(var f=i[0],u=f,p=f;;){if(h.IntPoint.op_Equality(u.Curr,u.Next.Curr)){if(u==u.Next)break;u==f&&(f=u.Next),u=this.RemoveEdge(u),p=u;continue}if(u.Prev==u.Next)break;if(r&&h.ClipperBase.SlopesEqual(u.Prev.Curr,u.Curr,u.Next.Curr,this.m_UseFullRange)&&(!this.PreserveCollinear||!this.Pt2IsBetweenPt1AndPt3(u.Prev.Curr,u.Curr,u.Next.Curr))){u==f&&(f=u.Next),u=this.RemoveEdge(u),u=u.Prev,p=u;continue}if(u=u.Next,u==p)break}if(!r&&u==u.Next||r&&u.Prev==u.Next)return!1;r||(this.m_HasOpenPaths=!0,f.Prev.OutIdx=h.ClipperBase.Skip);var c=f;u=f;do this.InitEdge2(u,e),u=u.Next,s&&u.Curr.Y!=f.Curr.Y&&(s=!1);while(u!=f);if(s){if(r)return!1;u.Prev.OutIdx=h.ClipperBase.Skip,u.Prev.Bot.X<u.Prev.Top.X&&this.ReverseHorizontal(u.Prev);var m=new h.LocalMinima;for(m.Next=null,m.Y=u.Bot.Y,m.LeftBound=null,m.RightBound=u,m.RightBound.Side=h.EdgeSide.esRight,m.RightBound.WindDelta=0;u.Next.OutIdx!=h.ClipperBase.Skip;)u.NextInLML=u.Next,u.Bot.X!=u.Prev.Top.X&&this.ReverseHorizontal(u),u=u.Next;return this.InsertLocalMinima(m),this.m_edges.push(i),!0}this.m_edges.push(i);for(var d,v=null;u=this.FindNextLocMin(u),u!=v;){v==null&&(v=u);var m=new h.LocalMinima;m.Next=null,m.Y=u.Bot.Y,u.Dx<u.Prev.Dx?(m.LeftBound=u.Prev,m.RightBound=u,d=!1):(m.LeftBound=u,m.RightBound=u.Prev,d=!0),m.LeftBound.Side=h.EdgeSide.esLeft,m.RightBound.Side=h.EdgeSide.esRight,r?m.LeftBound.Next==m.RightBound?m.LeftBound.WindDelta=-1:m.LeftBound.WindDelta=1:m.LeftBound.WindDelta=0,m.RightBound.WindDelta=-m.LeftBound.WindDelta,u=this.ProcessBound(m.LeftBound,d);var y=this.ProcessBound(m.RightBound,!d);m.LeftBound.OutIdx==h.ClipperBase.Skip?m.LeftBound=null:m.RightBound.OutIdx==h.ClipperBase.Skip&&(m.RightBound=null),this.InsertLocalMinima(m),d||(u=y)}return!0};h.ClipperBase.prototype.AddPaths=function(t,e,r){for(var n=!1,i=0,o=t.length;i<o;++i)this.AddPath(t[i],e,r)&&(n=!0);return n};h.ClipperBase.prototype.Pt2IsBetweenPt1AndPt3=function(t,e,r){return h.IntPoint.op_Equality(t,r)||h.IntPoint.op_Equality(t,e)||h.IntPoint.op_Equality(r,e)?!1:t.X!=r.X?e.X>t.X==e.X<r.X:e.Y>t.Y==e.Y<r.Y};h.ClipperBase.prototype.RemoveEdge=function(t){t.Prev.Next=t.Next,t.Next.Prev=t.Prev;var e=t.Next;return t.Prev=null,e};h.ClipperBase.prototype.SetDx=function(t){t.Delta.X=t.Top.X-t.Bot.X,t.Delta.Y=t.Top.Y-t.Bot.Y,t.Delta.Y===0?t.Dx=h.ClipperBase.horizontal:t.Dx=t.Delta.X/t.Delta.Y};h.ClipperBase.prototype.InsertLocalMinima=function(t){if(this.m_MinimaList===null)this.m_MinimaList=t;else if(t.Y>=this.m_MinimaList.Y)t.Next=this.m_MinimaList,this.m_MinimaList=t;else{for(var e=this.m_MinimaList;e.Next!==null&&t.Y<e.Next.Y;)e=e.Next;t.Next=e.Next,e.Next=t}};h.ClipperBase.prototype.PopLocalMinima=function(){this.m_CurrentLM!==null&&(this.m_CurrentLM=this.m_CurrentLM.Next)};h.ClipperBase.prototype.ReverseHorizontal=function(t){var e=t.Top.X;t.Top.X=t.Bot.X,t.Bot.X=e,Ge&&(e=t.Top.Z,t.Top.Z=t.Bot.Z,t.Bot.Z=e)};h.ClipperBase.prototype.Reset=function(){if(this.m_CurrentLM=this.m_MinimaList,this.m_CurrentLM!=null)for(var t=this.m_MinimaList;t!=null;){var e=t.LeftBound;e!=null&&(e.Curr.X=e.Bot.X,e.Curr.Y=e.Bot.Y,e.Side=h.EdgeSide.esLeft,e.OutIdx=h.ClipperBase.Unassigned),e=t.RightBound,e!=null&&(e.Curr.X=e.Bot.X,e.Curr.Y=e.Bot.Y,e.Side=h.EdgeSide.esRight,e.OutIdx=h.ClipperBase.Unassigned),t=t.Next}};h.Clipper=function(t){typeof t>"u"&&(t=0),this.m_PolyOuts=null,this.m_ClipType=h.ClipType.ctIntersection,this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=null,this.m_IntersectNodeComparer=null,this.m_ExecuteLocked=!1,this.m_ClipFillType=h.PolyFillType.pftEvenOdd,this.m_SubjFillType=h.PolyFillType.pftEvenOdd,this.m_Joins=null,this.m_GhostJoins=null,this.m_UsingPolyTree=!1,this.ReverseSolution=!1,this.StrictlySimple=!1,h.ClipperBase.call(this),this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=new Array,this.m_IntersectNodeComparer=h.MyIntersectNodeSort.Compare,this.m_ExecuteLocked=!1,this.m_UsingPolyTree=!1,this.m_PolyOuts=new Array,this.m_Joins=new Array,this.m_GhostJoins=new Array,this.ReverseSolution=(1&t)!==0,this.StrictlySimple=(2&t)!==0,this.PreserveCollinear=(4&t)!==0,Ge&&(this.ZFillFunction=null)};h.Clipper.ioReverseSolution=1;h.Clipper.ioStrictlySimple=2;h.Clipper.ioPreserveCollinear=4;h.Clipper.prototype.Clear=function(){this.m_edges.length!==0&&(this.DisposeAllPolyPts(),h.ClipperBase.prototype.Clear.call(this))};h.Clipper.prototype.DisposeScanbeamList=function(){for(;this.m_Scanbeam!==null;){var t=this.m_Scanbeam.Next;this.m_Scanbeam=null,this.m_Scanbeam=t}};h.Clipper.prototype.Reset=function(){h.ClipperBase.prototype.Reset.call(this),this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null;for(var t=this.m_MinimaList;t!==null;)this.InsertScanbeam(t.Y),t=t.Next};h.Clipper.prototype.InsertScanbeam=function(t){if(this.m_Scanbeam===null)this.m_Scanbeam=new h.Scanbeam,this.m_Scanbeam.Next=null,this.m_Scanbeam.Y=t;else if(t>this.m_Scanbeam.Y){var e=new h.Scanbeam;e.Y=t,e.Next=this.m_Scanbeam,this.m_Scanbeam=e}else{for(var r=this.m_Scanbeam;r.Next!==null&&t<=r.Next.Y;)r=r.Next;if(t==r.Y)return;var e=new h.Scanbeam;e.Y=t,e.Next=r.Next,r.Next=e}};h.Clipper.prototype.Execute=function(){var t=arguments,e=t.length,r=t[1]instanceof h.PolyTree;if(e==4&&!r){var n=t[0],i=t[1],o=t[2],s=t[3];if(this.m_ExecuteLocked)return!1;this.m_HasOpenPaths&&h.Error("Error: PolyTree struct is need for open path clipping."),this.m_ExecuteLocked=!0,h.Clear(i),this.m_SubjFillType=o,this.m_ClipFillType=s,this.m_ClipType=n,this.m_UsingPolyTree=!1;try{var l=this.ExecuteInternal();l&&this.BuildResult(i)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return l}else if(e==4&&r){var n=t[0],f=t[1],o=t[2],s=t[3];if(this.m_ExecuteLocked)return!1;this.m_ExecuteLocked=!0,this.m_SubjFillType=o,this.m_ClipFillType=s,this.m_ClipType=n,this.m_UsingPolyTree=!0;try{var l=this.ExecuteInternal();l&&this.BuildResult2(f)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return l}else if(e==2&&!r){var n=t[0],i=t[1];return this.Execute(n,i,h.PolyFillType.pftEvenOdd,h.PolyFillType.pftEvenOdd)}else if(e==2&&r){var n=t[0],f=t[1];return this.Execute(n,f,h.PolyFillType.pftEvenOdd,h.PolyFillType.pftEvenOdd)}};h.Clipper.prototype.FixHoleLinkage=function(t){if(!(t.FirstLeft===null||t.IsHole!=t.FirstLeft.IsHole&&t.FirstLeft.Pts!==null)){for(var e=t.FirstLeft;e!==null&&(e.IsHole==t.IsHole||e.Pts===null);)e=e.FirstLeft;t.FirstLeft=e}};h.Clipper.prototype.ExecuteInternal=function(){try{if(this.Reset(),this.m_CurrentLM===null)return!1;var t=this.PopScanbeam();do{if(this.InsertLocalMinimaIntoAEL(t),h.Clear(this.m_GhostJoins),this.ProcessHorizontals(!1),this.m_Scanbeam===null)break;var e=this.PopScanbeam();if(!this.ProcessIntersections(t,e))return!1;this.ProcessEdgesAtTopOfScanbeam(e),t=e}while(this.m_Scanbeam!==null||this.m_CurrentLM!==null);for(var r=0,n=this.m_PolyOuts.length;r<n;r++){var i=this.m_PolyOuts[r];i.Pts===null||i.IsOpen||(i.IsHole^this.ReverseSolution)==this.Area(i)>0&&this.ReversePolyPtLinks(i.Pts)}this.JoinCommonEdges();for(var r=0,n=this.m_PolyOuts.length;r<n;r++){var i=this.m_PolyOuts[r];i.Pts!==null&&!i.IsOpen&&this.FixupOutPolygon(i)}return this.StrictlySimple&&this.DoSimplePolygons(),!0}finally{h.Clear(this.m_Joins),h.Clear(this.m_GhostJoins)}};h.Clipper.prototype.PopScanbeam=function(){var t=this.m_Scanbeam.Y,e=this.m_Scanbeam;return this.m_Scanbeam=this.m_Scanbeam.Next,e=null,t};h.Clipper.prototype.DisposeAllPolyPts=function(){for(var t=0,e=this.m_PolyOuts.length;t<e;++t)this.DisposeOutRec(t);h.Clear(this.m_PolyOuts)};h.Clipper.prototype.DisposeOutRec=function(t){var e=this.m_PolyOuts[t];e.Pts!==null&&this.DisposeOutPts(e.Pts),e=null,this.m_PolyOuts[t]=null};h.Clipper.prototype.DisposeOutPts=function(t){if(t!==null){var e=null;for(t.Prev.Next=null;t!==null;)e=t,t=t.Next,e=null}};h.Clipper.prototype.AddJoin=function(t,e,r){var n=new h.Join;n.OutPt1=t,n.OutPt2=e,n.OffPt.X=r.X,n.OffPt.Y=r.Y,this.m_Joins.push(n)};h.Clipper.prototype.AddGhostJoin=function(t,e){var r=new h.Join;r.OutPt1=t,r.OffPt.X=e.X,r.OffPt.Y=e.Y,this.m_GhostJoins.push(r)};Ge&&(h.Clipper.prototype.SetZ=function(t,e){t.Z=0,this.ZFillFunction!==null&&(e.OutIdx<0?this.ZFillFunction(e.Bot,e.Top,t):this.ZFillFunction(e.Top,e.Bot,t))});h.Clipper.prototype.InsertLocalMinimaIntoAEL=function(t){for(;this.m_CurrentLM!==null&&this.m_CurrentLM.Y==t;){var e=this.m_CurrentLM.LeftBound,r=this.m_CurrentLM.RightBound;this.PopLocalMinima();var n=null;if(e===null?(this.InsertEdgeIntoAEL(r,null),this.SetWindingCount(r),this.IsContributing(r)&&(n=this.AddOutPt(r,r.Bot))):r==null?(this.InsertEdgeIntoAEL(e,null),this.SetWindingCount(e),this.IsContributing(e)&&(n=this.AddOutPt(e,e.Bot)),this.InsertScanbeam(e.Top.Y)):(this.InsertEdgeIntoAEL(e,null),this.InsertEdgeIntoAEL(r,e),this.SetWindingCount(e),r.WindCnt=e.WindCnt,r.WindCnt2=e.WindCnt2,this.IsContributing(e)&&(n=this.AddLocalMinPoly(e,r,e.Bot)),this.InsertScanbeam(e.Top.Y)),r!=null&&(h.ClipperBase.IsHorizontal(r)?this.AddEdgeToSEL(r):this.InsertScanbeam(r.Top.Y)),!(e==null||r==null)){if(n!==null&&h.ClipperBase.IsHorizontal(r)&&this.m_GhostJoins.length>0&&r.WindDelta!==0)for(var i=0,o=this.m_GhostJoins.length;i<o;i++){var s=this.m_GhostJoins[i];this.HorzSegmentsOverlap(s.OutPt1.Pt,s.OffPt,r.Bot,r.Top)&&this.AddJoin(s.OutPt1,n,s.OffPt)}if(e.OutIdx>=0&&e.PrevInAEL!==null&&e.PrevInAEL.Curr.X==e.Bot.X&&e.PrevInAEL.OutIdx>=0&&h.ClipperBase.SlopesEqual(e.PrevInAEL,e,this.m_UseFullRange)&&e.WindDelta!==0&&e.PrevInAEL.WindDelta!==0){var l=this.AddOutPt(e.PrevInAEL,e.Bot);this.AddJoin(n,l,e.Top)}if(e.NextInAEL!=r){if(r.OutIdx>=0&&r.PrevInAEL.OutIdx>=0&&h.ClipperBase.SlopesEqual(r.PrevInAEL,r,this.m_UseFullRange)&&r.WindDelta!==0&&r.PrevInAEL.WindDelta!==0){var l=this.AddOutPt(r.PrevInAEL,r.Bot);this.AddJoin(n,l,r.Top)}var f=e.NextInAEL;if(f!==null)for(;f!=r;)this.IntersectEdges(r,f,e.Curr,!1),f=f.NextInAEL}}}};h.Clipper.prototype.InsertEdgeIntoAEL=function(t,e){if(this.m_ActiveEdges===null)t.PrevInAEL=null,t.NextInAEL=null,this.m_ActiveEdges=t;else if(e===null&&this.E2InsertsBeforeE1(this.m_ActiveEdges,t))t.PrevInAEL=null,t.NextInAEL=this.m_ActiveEdges,this.m_ActiveEdges.PrevInAEL=t,this.m_ActiveEdges=t;else{for(e===null&&(e=this.m_ActiveEdges);e.NextInAEL!==null&&!this.E2InsertsBeforeE1(e.NextInAEL,t);)e=e.NextInAEL;t.NextInAEL=e.NextInAEL,e.NextInAEL!==null&&(e.NextInAEL.PrevInAEL=t),t.PrevInAEL=e,e.NextInAEL=t}};h.Clipper.prototype.E2InsertsBeforeE1=function(t,e){return e.Curr.X==t.Curr.X?e.Top.Y>t.Top.Y?e.Top.X<h.Clipper.TopX(t,e.Top.Y):t.Top.X>h.Clipper.TopX(e,t.Top.Y):e.Curr.X<t.Curr.X};h.Clipper.prototype.IsEvenOddFillType=function(t){return t.PolyTyp==h.PolyType.ptSubject?this.m_SubjFillType==h.PolyFillType.pftEvenOdd:this.m_ClipFillType==h.PolyFillType.pftEvenOdd};h.Clipper.prototype.IsEvenOddAltFillType=function(t){return t.PolyTyp==h.PolyType.ptSubject?this.m_ClipFillType==h.PolyFillType.pftEvenOdd:this.m_SubjFillType==h.PolyFillType.pftEvenOdd};h.Clipper.prototype.IsContributing=function(t){var e,r;switch(t.PolyTyp==h.PolyType.ptSubject?(e=this.m_SubjFillType,r=this.m_ClipFillType):(e=this.m_ClipFillType,r=this.m_SubjFillType),e){case h.PolyFillType.pftEvenOdd:if(t.WindDelta===0&&t.WindCnt!=1)return!1;break;case h.PolyFillType.pftNonZero:if(Math.abs(t.WindCnt)!=1)return!1;break;case h.PolyFillType.pftPositive:if(t.WindCnt!=1)return!1;break;default:if(t.WindCnt!=-1)return!1;break}switch(this.m_ClipType){case h.ClipType.ctIntersection:switch(r){case h.PolyFillType.pftEvenOdd:case h.PolyFillType.pftNonZero:return t.WindCnt2!==0;case h.PolyFillType.pftPositive:return t.WindCnt2>0;default:return t.WindCnt2<0}case h.ClipType.ctUnion:switch(r){case h.PolyFillType.pftEvenOdd:case h.PolyFillType.pftNonZero:return t.WindCnt2===0;case h.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}case h.ClipType.ctDifference:if(t.PolyTyp==h.PolyType.ptSubject)switch(r){case h.PolyFillType.pftEvenOdd:case h.PolyFillType.pftNonZero:return t.WindCnt2===0;case h.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}else switch(r){case h.PolyFillType.pftEvenOdd:case h.PolyFillType.pftNonZero:return t.WindCnt2!==0;case h.PolyFillType.pftPositive:return t.WindCnt2>0;default:return t.WindCnt2<0}case h.ClipType.ctXor:if(t.WindDelta===0)switch(r){case h.PolyFillType.pftEvenOdd:case h.PolyFillType.pftNonZero:return t.WindCnt2===0;case h.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}else return!0}return!0};h.Clipper.prototype.SetWindingCount=function(t){for(var e=t.PrevInAEL;e!==null&&(e.PolyTyp!=t.PolyTyp||e.WindDelta===0);)e=e.PrevInAEL;if(e===null)t.WindCnt=t.WindDelta===0?1:t.WindDelta,t.WindCnt2=0,e=this.m_ActiveEdges;else if(t.WindDelta===0&&this.m_ClipType!=h.ClipType.ctUnion)t.WindCnt=1,t.WindCnt2=e.WindCnt2,e=e.NextInAEL;else if(this.IsEvenOddFillType(t)){if(t.WindDelta===0){for(var r=!0,n=e.PrevInAEL;n!==null;)n.PolyTyp==e.PolyTyp&&n.WindDelta!==0&&(r=!r),n=n.PrevInAEL;t.WindCnt=r?0:1}else t.WindCnt=t.WindDelta;t.WindCnt2=e.WindCnt2,e=e.NextInAEL}else e.WindCnt*e.WindDelta<0?Math.abs(e.WindCnt)>1?e.WindDelta*t.WindDelta<0?t.WindCnt=e.WindCnt:t.WindCnt=e.WindCnt+t.WindDelta:t.WindCnt=t.WindDelta===0?1:t.WindDelta:t.WindDelta===0?t.WindCnt=e.WindCnt<0?e.WindCnt-1:e.WindCnt+1:e.WindDelta*t.WindDelta<0?t.WindCnt=e.WindCnt:t.WindCnt=e.WindCnt+t.WindDelta,t.WindCnt2=e.WindCnt2,e=e.NextInAEL;if(this.IsEvenOddAltFillType(t))for(;e!=t;)e.WindDelta!==0&&(t.WindCnt2=t.WindCnt2===0?1:0),e=e.NextInAEL;else for(;e!=t;)t.WindCnt2+=e.WindDelta,e=e.NextInAEL};h.Clipper.prototype.AddEdgeToSEL=function(t){this.m_SortedEdges===null?(this.m_SortedEdges=t,t.PrevInSEL=null,t.NextInSEL=null):(t.NextInSEL=this.m_SortedEdges,t.PrevInSEL=null,this.m_SortedEdges.PrevInSEL=t,this.m_SortedEdges=t)};h.Clipper.prototype.CopyAELToSEL=function(){var t=this.m_ActiveEdges;for(this.m_SortedEdges=t;t!==null;)t.PrevInSEL=t.PrevInAEL,t.NextInSEL=t.NextInAEL,t=t.NextInAEL};h.Clipper.prototype.SwapPositionsInAEL=function(t,e){if(!(t.NextInAEL==t.PrevInAEL||e.NextInAEL==e.PrevInAEL)){if(t.NextInAEL==e){var r=e.NextInAEL;r!==null&&(r.PrevInAEL=t);var n=t.PrevInAEL;n!==null&&(n.NextInAEL=e),e.PrevInAEL=n,e.NextInAEL=t,t.PrevInAEL=e,t.NextInAEL=r}else if(e.NextInAEL==t){var r=t.NextInAEL;r!==null&&(r.PrevInAEL=e);var n=e.PrevInAEL;n!==null&&(n.NextInAEL=t),t.PrevInAEL=n,t.NextInAEL=e,e.PrevInAEL=t,e.NextInAEL=r}else{var r=t.NextInAEL,n=t.PrevInAEL;t.NextInAEL=e.NextInAEL,t.NextInAEL!==null&&(t.NextInAEL.PrevInAEL=t),t.PrevInAEL=e.PrevInAEL,t.PrevInAEL!==null&&(t.PrevInAEL.NextInAEL=t),e.NextInAEL=r,e.NextInAEL!==null&&(e.NextInAEL.PrevInAEL=e),e.PrevInAEL=n,e.PrevInAEL!==null&&(e.PrevInAEL.NextInAEL=e)}t.PrevInAEL===null?this.m_ActiveEdges=t:e.PrevInAEL===null&&(this.m_ActiveEdges=e)}};h.Clipper.prototype.SwapPositionsInSEL=function(t,e){if(!(t.NextInSEL===null&&t.PrevInSEL===null)&&!(e.NextInSEL===null&&e.PrevInSEL===null)){if(t.NextInSEL==e){var r=e.NextInSEL;r!==null&&(r.PrevInSEL=t);var n=t.PrevInSEL;n!==null&&(n.NextInSEL=e),e.PrevInSEL=n,e.NextInSEL=t,t.PrevInSEL=e,t.NextInSEL=r}else if(e.NextInSEL==t){var r=t.NextInSEL;r!==null&&(r.PrevInSEL=e);var n=e.PrevInSEL;n!==null&&(n.NextInSEL=t),t.PrevInSEL=n,t.NextInSEL=e,e.PrevInSEL=t,e.NextInSEL=r}else{var r=t.NextInSEL,n=t.PrevInSEL;t.NextInSEL=e.NextInSEL,t.NextInSEL!==null&&(t.NextInSEL.PrevInSEL=t),t.PrevInSEL=e.PrevInSEL,t.PrevInSEL!==null&&(t.PrevInSEL.NextInSEL=t),e.NextInSEL=r,e.NextInSEL!==null&&(e.NextInSEL.PrevInSEL=e),e.PrevInSEL=n,e.PrevInSEL!==null&&(e.PrevInSEL.NextInSEL=e)}t.PrevInSEL===null?this.m_SortedEdges=t:e.PrevInSEL===null&&(this.m_SortedEdges=e)}};h.Clipper.prototype.AddLocalMaxPoly=function(t,e,r){this.AddOutPt(t,r),e.WindDelta==0&&this.AddOutPt(e,r),t.OutIdx==e.OutIdx?(t.OutIdx=-1,e.OutIdx=-1):t.OutIdx<e.OutIdx?this.AppendPolygon(t,e):this.AppendPolygon(e,t)};h.Clipper.prototype.AddLocalMinPoly=function(t,e,r){var n,i,o;if(h.ClipperBase.IsHorizontal(e)||t.Dx>e.Dx?(n=this.AddOutPt(t,r),e.OutIdx=t.OutIdx,t.Side=h.EdgeSide.esLeft,e.Side=h.EdgeSide.esRight,i=t,i.PrevInAEL==e?o=e.PrevInAEL:o=i.PrevInAEL):(n=this.AddOutPt(e,r),t.OutIdx=e.OutIdx,t.Side=h.EdgeSide.esRight,e.Side=h.EdgeSide.esLeft,i=e,i.PrevInAEL==t?o=t.PrevInAEL:o=i.PrevInAEL),o!==null&&o.OutIdx>=0&&h.Clipper.TopX(o,r.Y)==h.Clipper.TopX(i,r.Y)&&h.ClipperBase.SlopesEqual(i,o,this.m_UseFullRange)&&i.WindDelta!==0&&o.WindDelta!==0){var s=this.AddOutPt(o,r);this.AddJoin(n,s,i.Top)}return n};h.Clipper.prototype.CreateOutRec=function(){var t=new h.OutRec;return t.Idx=-1,t.IsHole=!1,t.IsOpen=!1,t.FirstLeft=null,t.Pts=null,t.BottomPt=null,t.PolyNode=null,this.m_PolyOuts.push(t),t.Idx=this.m_PolyOuts.length-1,t};h.Clipper.prototype.AddOutPt=function(t,e){var r=t.Side==h.EdgeSide.esLeft;if(t.OutIdx<0){var n=this.CreateOutRec();n.IsOpen=t.WindDelta===0;var i=new h.OutPt;return n.Pts=i,i.Idx=n.Idx,i.Pt.X=e.X,i.Pt.Y=e.Y,i.Next=i,i.Prev=i,n.IsOpen||this.SetHoleState(t,n),Ge&&(h.IntPoint.op_Equality(e,t.Bot)?(i.Pt.X=t.Bot.X,i.Pt.Y=t.Bot.Y,i.Pt.Z=t.Bot.Z):h.IntPoint.op_Equality(e,t.Top)?(i.Pt.X=t.Top.X,i.Pt.Y=t.Top.Y,i.Pt.Z=t.Top.Z):this.SetZ(i.Pt,t)),t.OutIdx=n.Idx,i}else{var n=this.m_PolyOuts[t.OutIdx],o=n.Pts;if(r&&h.IntPoint.op_Equality(e,o.Pt))return o;if(!r&&h.IntPoint.op_Equality(e,o.Prev.Pt))return o.Prev;var i=new h.OutPt;return i.Idx=n.Idx,i.Pt.X=e.X,i.Pt.Y=e.Y,i.Next=o,i.Prev=o.Prev,i.Prev.Next=i,o.Prev=i,r&&(n.Pts=i),Ge&&(h.IntPoint.op_Equality(e,t.Bot)?(i.Pt.X=t.Bot.X,i.Pt.Y=t.Bot.Y,i.Pt.Z=t.Bot.Z):h.IntPoint.op_Equality(e,t.Top)?(i.Pt.X=t.Top.X,i.Pt.Y=t.Top.Y,i.Pt.Z=t.Top.Z):this.SetZ(i.Pt,t)),i}};h.Clipper.prototype.SwapPoints=function(t,e){var r=new h.IntPoint(t.Value);t.Value.X=e.Value.X,t.Value.Y=e.Value.Y,e.Value.X=r.X,e.Value.Y=r.Y};h.Clipper.prototype.HorzSegmentsOverlap=function(t,e,r,n){return t.X>r.X==t.X<n.X||e.X>r.X==e.X<n.X||r.X>t.X==r.X<e.X||n.X>t.X==n.X<e.X||t.X==r.X&&e.X==n.X?!0:t.X==n.X&&e.X==r.X};h.Clipper.prototype.InsertPolyPtBetween=function(t,e,r){var n=new h.OutPt;return n.Pt.X=r.X,n.Pt.Y=r.Y,e==t.Next?(t.Next=n,e.Prev=n,n.Next=e,n.Prev=t):(e.Next=n,t.Prev=n,n.Next=t,n.Prev=e),n};h.Clipper.prototype.SetHoleState=function(t,e){for(var r=!1,n=t.PrevInAEL;n!==null;)n.OutIdx>=0&&n.WindDelta!=0&&(r=!r,e.FirstLeft===null&&(e.FirstLeft=this.m_PolyOuts[n.OutIdx])),n=n.PrevInAEL;r&&(e.IsHole=!0)};h.Clipper.prototype.GetDx=function(t,e){return t.Y==e.Y?h.ClipperBase.horizontal:(e.X-t.X)/(e.Y-t.Y)};h.Clipper.prototype.FirstIsBottomPt=function(t,e){for(var r=t.Prev;h.IntPoint.op_Equality(r.Pt,t.Pt)&&r!=t;)r=r.Prev;var n=Math.abs(this.GetDx(t.Pt,r.Pt));for(r=t.Next;h.IntPoint.op_Equality(r.Pt,t.Pt)&&r!=t;)r=r.Next;var i=Math.abs(this.GetDx(t.Pt,r.Pt));for(r=e.Prev;h.IntPoint.op_Equality(r.Pt,e.Pt)&&r!=e;)r=r.Prev;var o=Math.abs(this.GetDx(e.Pt,r.Pt));for(r=e.Next;h.IntPoint.op_Equality(r.Pt,e.Pt)&&r!=e;)r=r.Next;var s=Math.abs(this.GetDx(e.Pt,r.Pt));return n>=o&&n>=s||i>=o&&i>=s};h.Clipper.prototype.GetBottomPt=function(t){for(var e=null,r=t.Next;r!=t;)r.Pt.Y>t.Pt.Y?(t=r,e=null):r.Pt.Y==t.Pt.Y&&r.Pt.X<=t.Pt.X&&(r.Pt.X<t.Pt.X?(e=null,t=r):r.Next!=t&&r.Prev!=t&&(e=r)),r=r.Next;if(e!==null)for(;e!=r;)for(this.FirstIsBottomPt(r,e)||(t=e),e=e.Next;h.IntPoint.op_Inequality(e.Pt,t.Pt);)e=e.Next;return t};h.Clipper.prototype.GetLowermostRec=function(t,e){t.BottomPt===null&&(t.BottomPt=this.GetBottomPt(t.Pts)),e.BottomPt===null&&(e.BottomPt=this.GetBottomPt(e.Pts));var r=t.BottomPt,n=e.BottomPt;return r.Pt.Y>n.Pt.Y?t:r.Pt.Y<n.Pt.Y?e:r.Pt.X<n.Pt.X?t:r.Pt.X>n.Pt.X||r.Next==r?e:n.Next==n||this.FirstIsBottomPt(r,n)?t:e};h.Clipper.prototype.Param1RightOfParam2=function(t,e){do if(t=t.FirstLeft,t==e)return!0;while(t!==null);return!1};h.Clipper.prototype.GetOutRec=function(t){for(var e=this.m_PolyOuts[t];e!=this.m_PolyOuts[e.Idx];)e=this.m_PolyOuts[e.Idx];return e};h.Clipper.prototype.AppendPolygon=function(t,e){var r=this.m_PolyOuts[t.OutIdx],n=this.m_PolyOuts[e.OutIdx],i;this.Param1RightOfParam2(r,n)?i=n:this.Param1RightOfParam2(n,r)?i=r:i=this.GetLowermostRec(r,n);var o=r.Pts,s=o.Prev,l=n.Pts,f=l.Prev,u;t.Side==h.EdgeSide.esLeft?(e.Side==h.EdgeSide.esLeft?(this.ReversePolyPtLinks(l),l.Next=o,o.Prev=l,s.Next=f,f.Prev=s,r.Pts=f):(f.Next=o,o.Prev=f,l.Prev=s,s.Next=l,r.Pts=l),u=h.EdgeSide.esLeft):(e.Side==h.EdgeSide.esRight?(this.ReversePolyPtLinks(l),s.Next=f,f.Prev=s,l.Next=o,o.Prev=l):(s.Next=l,l.Prev=s,o.Prev=f,f.Next=o),u=h.EdgeSide.esRight),r.BottomPt=null,i==n&&(n.FirstLeft!=r&&(r.FirstLeft=n.FirstLeft),r.IsHole=n.IsHole),n.Pts=null,n.BottomPt=null,n.FirstLeft=r;var p=t.OutIdx,c=e.OutIdx;t.OutIdx=-1,e.OutIdx=-1;for(var m=this.m_ActiveEdges;m!==null;){if(m.OutIdx==c){m.OutIdx=p,m.Side=u;break}m=m.NextInAEL}n.Idx=r.Idx};h.Clipper.prototype.ReversePolyPtLinks=function(t){if(t!==null){var e,r;e=t;do r=e.Next,e.Next=e.Prev,e.Prev=r,e=r;while(e!=t)}};h.Clipper.SwapSides=function(t,e){var r=t.Side;t.Side=e.Side,e.Side=r};h.Clipper.SwapPolyIndexes=function(t,e){var r=t.OutIdx;t.OutIdx=e.OutIdx,e.OutIdx=r};h.Clipper.prototype.IntersectEdges=function(t,e,r,n){var i=!n&&t.NextInLML===null&&t.Top.X==r.X&&t.Top.Y==r.Y,o=!n&&e.NextInLML===null&&e.Top.X==r.X&&e.Top.Y==r.Y,s=t.OutIdx>=0,l=e.OutIdx>=0;if(Zs&&(t.WindDelta===0||e.WindDelta===0)){t.WindDelta===0&&e.WindDelta===0?(i||o)&&s&&l&&this.AddLocalMaxPoly(t,e,r):t.PolyTyp==e.PolyTyp&&t.WindDelta!=e.WindDelta&&this.m_ClipType==h.ClipType.ctUnion?t.WindDelta===0?l&&(this.AddOutPt(t,r),s&&(t.OutIdx=-1)):s&&(this.AddOutPt(e,r),l&&(e.OutIdx=-1)):t.PolyTyp!=e.PolyTyp&&(t.WindDelta===0&&Math.abs(e.WindCnt)==1&&(this.m_ClipType!=h.ClipType.ctUnion||e.WindCnt2===0)?(this.AddOutPt(t,r),s&&(t.OutIdx=-1)):e.WindDelta===0&&Math.abs(t.WindCnt)==1&&(this.m_ClipType!=h.ClipType.ctUnion||t.WindCnt2===0)&&(this.AddOutPt(e,r),l&&(e.OutIdx=-1))),i&&(t.OutIdx<0?this.DeleteFromAEL(t):h.Error("Error intersecting polylines")),o&&(e.OutIdx<0?this.DeleteFromAEL(e):h.Error("Error intersecting polylines"));return}if(t.PolyTyp==e.PolyTyp)if(this.IsEvenOddFillType(t)){var f=t.WindCnt;t.WindCnt=e.WindCnt,e.WindCnt=f}else t.WindCnt+e.WindDelta===0?t.WindCnt=-t.WindCnt:t.WindCnt+=e.WindDelta,e.WindCnt-t.WindDelta===0?e.WindCnt=-e.WindCnt:e.WindCnt-=t.WindDelta;else this.IsEvenOddFillType(e)?t.WindCnt2=t.WindCnt2===0?1:0:t.WindCnt2+=e.WindDelta,this.IsEvenOddFillType(t)?e.WindCnt2=e.WindCnt2===0?1:0:e.WindCnt2-=t.WindDelta;var u,p,c,m;t.PolyTyp==h.PolyType.ptSubject?(u=this.m_SubjFillType,c=this.m_ClipFillType):(u=this.m_ClipFillType,c=this.m_SubjFillType),e.PolyTyp==h.PolyType.ptSubject?(p=this.m_SubjFillType,m=this.m_ClipFillType):(p=this.m_ClipFillType,m=this.m_SubjFillType);var d,v;switch(u){case h.PolyFillType.pftPositive:d=t.WindCnt;break;case h.PolyFillType.pftNegative:d=-t.WindCnt;break;default:d=Math.abs(t.WindCnt);break}switch(p){case h.PolyFillType.pftPositive:v=e.WindCnt;break;case h.PolyFillType.pftNegative:v=-e.WindCnt;break;default:v=Math.abs(e.WindCnt);break}if(s&&l)i||o||d!==0&&d!=1||v!==0&&v!=1||t.PolyTyp!=e.PolyTyp&&this.m_ClipType!=h.ClipType.ctXor?this.AddLocalMaxPoly(t,e,r):(this.AddOutPt(t,r),this.AddOutPt(e,r),h.Clipper.SwapSides(t,e),h.Clipper.SwapPolyIndexes(t,e));else if(s)(v===0||v==1)&&(this.AddOutPt(t,r),h.Clipper.SwapSides(t,e),h.Clipper.SwapPolyIndexes(t,e));else if(l)(d===0||d==1)&&(this.AddOutPt(e,r),h.Clipper.SwapSides(t,e),h.Clipper.SwapPolyIndexes(t,e));else if((d===0||d==1)&&(v===0||v==1)&&!i&&!o){var y,x;switch(c){case h.PolyFillType.pftPositive:y=t.WindCnt2;break;case h.PolyFillType.pftNegative:y=-t.WindCnt2;break;default:y=Math.abs(t.WindCnt2);break}switch(m){case h.PolyFillType.pftPositive:x=e.WindCnt2;break;case h.PolyFillType.pftNegative:x=-e.WindCnt2;break;default:x=Math.abs(e.WindCnt2);break}if(t.PolyTyp!=e.PolyTyp)this.AddLocalMinPoly(t,e,r);else if(d==1&&v==1)switch(this.m_ClipType){case h.ClipType.ctIntersection:y>0&&x>0&&this.AddLocalMinPoly(t,e,r);break;case h.ClipType.ctUnion:y<=0&&x<=0&&this.AddLocalMinPoly(t,e,r);break;case h.ClipType.ctDifference:(t.PolyTyp==h.PolyType.ptClip&&y>0&&x>0||t.PolyTyp==h.PolyType.ptSubject&&y<=0&&x<=0)&&this.AddLocalMinPoly(t,e,r);break;case h.ClipType.ctXor:this.AddLocalMinPoly(t,e,r);break}else h.Clipper.SwapSides(t,e)}i!=o&&(i&&t.OutIdx>=0||o&&e.OutIdx>=0)&&(h.Clipper.SwapSides(t,e),h.Clipper.SwapPolyIndexes(t,e)),i&&this.DeleteFromAEL(t),o&&this.DeleteFromAEL(e)};h.Clipper.prototype.DeleteFromAEL=function(t){var e=t.PrevInAEL,r=t.NextInAEL;e===null&&r===null&&t!=this.m_ActiveEdges||(e!==null?e.NextInAEL=r:this.m_ActiveEdges=r,r!==null&&(r.PrevInAEL=e),t.NextInAEL=null,t.PrevInAEL=null)};h.Clipper.prototype.DeleteFromSEL=function(t){var e=t.PrevInSEL,r=t.NextInSEL;e===null&&r===null&&t!=this.m_SortedEdges||(e!==null?e.NextInSEL=r:this.m_SortedEdges=r,r!==null&&(r.PrevInSEL=e),t.NextInSEL=null,t.PrevInSEL=null)};h.Clipper.prototype.UpdateEdgeIntoAEL=function(t){t.NextInLML===null&&h.Error("UpdateEdgeIntoAEL: invalid call");var e=t.PrevInAEL,r=t.NextInAEL;return t.NextInLML.OutIdx=t.OutIdx,e!==null?e.NextInAEL=t.NextInLML:this.m_ActiveEdges=t.NextInLML,r!==null&&(r.PrevInAEL=t.NextInLML),t.NextInLML.Side=t.Side,t.NextInLML.WindDelta=t.WindDelta,t.NextInLML.WindCnt=t.WindCnt,t.NextInLML.WindCnt2=t.WindCnt2,t=t.NextInLML,t.Curr.X=t.Bot.X,t.Curr.Y=t.Bot.Y,t.PrevInAEL=e,t.NextInAEL=r,h.ClipperBase.IsHorizontal(t)||this.InsertScanbeam(t.Top.Y),t};h.Clipper.prototype.ProcessHorizontals=function(t){for(var e=this.m_SortedEdges;e!==null;)this.DeleteFromSEL(e),this.ProcessHorizontal(e,t),e=this.m_SortedEdges};h.Clipper.prototype.GetHorzDirection=function(t,e){t.Bot.X<t.Top.X?(e.Left=t.Bot.X,e.Right=t.Top.X,e.Dir=h.Direction.dLeftToRight):(e.Left=t.Top.X,e.Right=t.Bot.X,e.Dir=h.Direction.dRightToLeft)};h.Clipper.prototype.PrepareHorzJoins=function(t,e){var r=this.m_PolyOuts[t.OutIdx].Pts;t.Side!=h.EdgeSide.esLeft&&(r=r.Prev),e&&(h.IntPoint.op_Equality(r.Pt,t.Top)?this.AddGhostJoin(r,t.Bot):this.AddGhostJoin(r,t.Top))};h.Clipper.prototype.ProcessHorizontal=function(t,e){var r={Dir:null,Left:null,Right:null};this.GetHorzDirection(t,r);for(var n=r.Dir,i=r.Left,o=r.Right,s=t,l=null;s.NextInLML!==null&&h.ClipperBase.IsHorizontal(s.NextInLML);)s=s.NextInLML;for(s.NextInLML===null&&(l=this.GetMaximaPair(s));;){for(var f=t==s,u=this.GetNextInAEL(t,n);u!==null&&!(u.Curr.X==t.Top.X&&t.NextInLML!==null&&u.Dx<t.NextInLML.Dx);){var p=this.GetNextInAEL(u,n);if(n==h.Direction.dLeftToRight&&u.Curr.X<=o||n==h.Direction.dRightToLeft&&u.Curr.X>=i){if(t.OutIdx>=0&&t.WindDelta!=0&&this.PrepareHorzJoins(t,e),u==l&&f){n==h.Direction.dLeftToRight?this.IntersectEdges(t,u,u.Top,!1):this.IntersectEdges(u,t,u.Top,!1),l.OutIdx>=0&&h.Error("ProcessHorizontal error");return}else if(n==h.Direction.dLeftToRight){var c=new h.IntPoint(u.Curr.X,t.Curr.Y);this.IntersectEdges(t,u,c,!0)}else{var c=new h.IntPoint(u.Curr.X,t.Curr.Y);this.IntersectEdges(u,t,c,!0)}this.SwapPositionsInAEL(t,u)}else if(n==h.Direction.dLeftToRight&&u.Curr.X>=o||n==h.Direction.dRightToLeft&&u.Curr.X<=i)break;u=p}if(t.OutIdx>=0&&t.WindDelta!==0&&this.PrepareHorzJoins(t,e),t.NextInLML!==null&&h.ClipperBase.IsHorizontal(t.NextInLML)){t=this.UpdateEdgeIntoAEL(t),t.OutIdx>=0&&this.AddOutPt(t,t.Bot);var r={Dir:n,Left:i,Right:o};this.GetHorzDirection(t,r),n=r.Dir,i=r.Left,o=r.Right}else break}if(t.NextInLML!==null)if(t.OutIdx>=0){var m=this.AddOutPt(t,t.Top);if(t=this.UpdateEdgeIntoAEL(t),t.WindDelta===0)return;var d=t.PrevInAEL,p=t.NextInAEL;if(d!==null&&d.Curr.X==t.Bot.X&&d.Curr.Y==t.Bot.Y&&d.WindDelta!==0&&d.OutIdx>=0&&d.Curr.Y>d.Top.Y&&h.ClipperBase.SlopesEqual(t,d,this.m_UseFullRange)){var v=this.AddOutPt(d,t.Bot);this.AddJoin(m,v,t.Top)}else if(p!==null&&p.Curr.X==t.Bot.X&&p.Curr.Y==t.Bot.Y&&p.WindDelta!==0&&p.OutIdx>=0&&p.Curr.Y>p.Top.Y&&h.ClipperBase.SlopesEqual(t,p,this.m_UseFullRange)){var v=this.AddOutPt(p,t.Bot);this.AddJoin(m,v,t.Top)}}else t=this.UpdateEdgeIntoAEL(t);else l!==null?l.OutIdx>=0?(n==h.Direction.dLeftToRight?this.IntersectEdges(t,l,t.Top,!1):this.IntersectEdges(l,t,t.Top,!1),l.OutIdx>=0&&h.Error("ProcessHorizontal error")):(this.DeleteFromAEL(t),this.DeleteFromAEL(l)):(t.OutIdx>=0&&this.AddOutPt(t,t.Top),this.DeleteFromAEL(t))};h.Clipper.prototype.GetNextInAEL=function(t,e){return e==h.Direction.dLeftToRight?t.NextInAEL:t.PrevInAEL};h.Clipper.prototype.IsMinima=function(t){return t!==null&&t.Prev.NextInLML!=t&&t.Next.NextInLML!=t};h.Clipper.prototype.IsMaxima=function(t,e){return t!==null&&t.Top.Y==e&&t.NextInLML===null};h.Clipper.prototype.IsIntermediate=function(t,e){return t.Top.Y==e&&t.NextInLML!==null};h.Clipper.prototype.GetMaximaPair=function(t){var e=null;return h.IntPoint.op_Equality(t.Next.Top,t.Top)&&t.Next.NextInLML===null?e=t.Next:h.IntPoint.op_Equality(t.Prev.Top,t.Top)&&t.Prev.NextInLML===null&&(e=t.Prev),e!==null&&(e.OutIdx==-2||e.NextInAEL==e.PrevInAEL&&!h.ClipperBase.IsHorizontal(e))?null:e};h.Clipper.prototype.ProcessIntersections=function(t,e){if(this.m_ActiveEdges==null)return!0;try{if(this.BuildIntersectList(t,e),this.m_IntersectList.length==0)return!0;if(this.m_IntersectList.length==1||this.FixupIntersectionOrder())this.ProcessIntersectList();else return!1}catch{this.m_SortedEdges=null,this.m_IntersectList.length=0,h.Error("ProcessIntersections error")}return this.m_SortedEdges=null,!0};h.Clipper.prototype.BuildIntersectList=function(t,e){if(this.m_ActiveEdges!==null){var r=this.m_ActiveEdges;for(this.m_SortedEdges=r;r!==null;)r.PrevInSEL=r.PrevInAEL,r.NextInSEL=r.NextInAEL,r.Curr.X=h.Clipper.TopX(r,e),r=r.NextInAEL;for(var n=!0;n&&this.m_SortedEdges!==null;){for(n=!1,r=this.m_SortedEdges;r.NextInSEL!==null;){var i=r.NextInSEL,o=new h.IntPoint;if(r.Curr.X>i.Curr.X){!this.IntersectPoint(r,i,o)&&r.Curr.X>i.Curr.X+1&&h.Error("Intersection error"),o.Y>t&&(o.Y=t,Math.abs(r.Dx)>Math.abs(i.Dx)?o.X=h.Clipper.TopX(i,t):o.X=h.Clipper.TopX(r,t));var s=new h.IntersectNode;s.Edge1=r,s.Edge2=i,s.Pt.X=o.X,s.Pt.Y=o.Y,this.m_IntersectList.push(s),this.SwapPositionsInSEL(r,i),n=!0}else r=i}if(r.PrevInSEL!==null)r.PrevInSEL.NextInSEL=null;else break}this.m_SortedEdges=null}};h.Clipper.prototype.EdgesAdjacent=function(t){return t.Edge1.NextInSEL==t.Edge2||t.Edge1.PrevInSEL==t.Edge2};h.Clipper.IntersectNodeSort=function(t,e){return e.Pt.Y-t.Pt.Y};h.Clipper.prototype.FixupIntersectionOrder=function(){this.m_IntersectList.sort(this.m_IntersectNodeComparer),this.CopyAELToSEL();for(var t=this.m_IntersectList.length,e=0;e<t;e++){if(!this.EdgesAdjacent(this.m_IntersectList[e])){for(var r=e+1;r<t&&!this.EdgesAdjacent(this.m_IntersectList[r]);)r++;if(r==t)return!1;var n=this.m_IntersectList[e];this.m_IntersectList[e]=this.m_IntersectList[r],this.m_IntersectList[r]=n}this.SwapPositionsInSEL(this.m_IntersectList[e].Edge1,this.m_IntersectList[e].Edge2)}return!0};h.Clipper.prototype.ProcessIntersectList=function(){for(var t=0,e=this.m_IntersectList.length;t<e;t++){var r=this.m_IntersectList[t];this.IntersectEdges(r.Edge1,r.Edge2,r.Pt,!0),this.SwapPositionsInAEL(r.Edge1,r.Edge2)}this.m_IntersectList.length=0};var pp=function(t){return t<0?Math.ceil(t-.5):Math.round(t)},cp=function(t){return t<0?Math.ceil(t-.5):Math.floor(t+.5)},mp=function(t){return t<0?-Math.round(Math.abs(t)):Math.round(t)},dp=function(t){return t<0?(t-=.5,t<-2147483648?Math.ceil(t):t|0):(t+=.5,t>2147483647?Math.floor(t):t|0)};j.msie?h.Clipper.Round=pp:j.chromium?h.Clipper.Round=mp:j.safari?h.Clipper.Round=dp:h.Clipper.Round=cp;h.Clipper.TopX=function(t,e){return e==t.Top.Y?t.Top.X:t.Bot.X+h.Clipper.Round(t.Dx*(e-t.Bot.Y))};h.Clipper.prototype.IntersectPoint=function(t,e,r){r.X=0,r.Y=0;var n,i;if(h.ClipperBase.SlopesEqual(t,e,this.m_UseFullRange)||t.Dx==e.Dx)return e.Bot.Y>t.Bot.Y?(r.X=e.Bot.X,r.Y=e.Bot.Y):(r.X=t.Bot.X,r.Y=t.Bot.Y),!1;if(t.Delta.X===0)r.X=t.Bot.X,h.ClipperBase.IsHorizontal(e)?r.Y=e.Bot.Y:(i=e.Bot.Y-e.Bot.X/e.Dx,r.Y=h.Clipper.Round(r.X/e.Dx+i));else if(e.Delta.X===0)r.X=e.Bot.X,h.ClipperBase.IsHorizontal(t)?r.Y=t.Bot.Y:(n=t.Bot.Y-t.Bot.X/t.Dx,r.Y=h.Clipper.Round(r.X/t.Dx+n));else{n=t.Bot.X-t.Bot.Y*t.Dx,i=e.Bot.X-e.Bot.Y*e.Dx;var o=(i-n)/(t.Dx-e.Dx);r.Y=h.Clipper.Round(o),Math.abs(t.Dx)<Math.abs(e.Dx)?r.X=h.Clipper.Round(t.Dx*o+n):r.X=h.Clipper.Round(e.Dx*o+i)}if(r.Y<t.Top.Y||r.Y<e.Top.Y){if(t.Top.Y>e.Top.Y)return r.Y=t.Top.Y,r.X=h.Clipper.TopX(e,t.Top.Y),r.X<t.Top.X;r.Y=e.Top.Y,Math.abs(t.Dx)<Math.abs(e.Dx)?r.X=h.Clipper.TopX(t,r.Y):r.X=h.Clipper.TopX(e,r.Y)}return!0};h.Clipper.prototype.ProcessEdgesAtTopOfScanbeam=function(t){for(var e=this.m_ActiveEdges;e!==null;){var r=this.IsMaxima(e,t);if(r){var n=this.GetMaximaPair(e);r=n===null||!h.ClipperBase.IsHorizontal(n)}if(r){var i=e.PrevInAEL;this.DoMaxima(e),i===null?e=this.m_ActiveEdges:e=i.NextInAEL}else{if(this.IsIntermediate(e,t)&&h.ClipperBase.IsHorizontal(e.NextInLML)?(e=this.UpdateEdgeIntoAEL(e),e.OutIdx>=0&&this.AddOutPt(e,e.Bot),this.AddEdgeToSEL(e)):(e.Curr.X=h.Clipper.TopX(e,t),e.Curr.Y=t),this.StrictlySimple){var i=e.PrevInAEL;if(e.OutIdx>=0&&e.WindDelta!==0&&i!==null&&i.OutIdx>=0&&i.Curr.X==e.Curr.X&&i.WindDelta!==0){var o=this.AddOutPt(i,e.Curr),s=this.AddOutPt(e,e.Curr);this.AddJoin(o,s,e.Curr)}}e=e.NextInAEL}}for(this.ProcessHorizontals(!0),e=this.m_ActiveEdges;e!==null;){if(this.IsIntermediate(e,t)){var o=null;e.OutIdx>=0&&(o=this.AddOutPt(e,e.Top)),e=this.UpdateEdgeIntoAEL(e);var i=e.PrevInAEL,l=e.NextInAEL;if(i!==null&&i.Curr.X==e.Bot.X&&i.Curr.Y==e.Bot.Y&&o!==null&&i.OutIdx>=0&&i.Curr.Y>i.Top.Y&&h.ClipperBase.SlopesEqual(e,i,this.m_UseFullRange)&&e.WindDelta!==0&&i.WindDelta!==0){var s=this.AddOutPt(i,e.Bot);this.AddJoin(o,s,e.Top)}else if(l!==null&&l.Curr.X==e.Bot.X&&l.Curr.Y==e.Bot.Y&&o!==null&&l.OutIdx>=0&&l.Curr.Y>l.Top.Y&&h.ClipperBase.SlopesEqual(e,l,this.m_UseFullRange)&&e.WindDelta!==0&&l.WindDelta!==0){var s=this.AddOutPt(l,e.Bot);this.AddJoin(o,s,e.Top)}}e=e.NextInAEL}};h.Clipper.prototype.DoMaxima=function(t){var e=this.GetMaximaPair(t);if(e===null){t.OutIdx>=0&&this.AddOutPt(t,t.Top),this.DeleteFromAEL(t);return}for(var r=t.NextInAEL,n=!0;r!==null&&r!=e;)this.IntersectEdges(t,r,t.Top,!0),this.SwapPositionsInAEL(t,r),r=t.NextInAEL;t.OutIdx==-1&&e.OutIdx==-1?(this.DeleteFromAEL(t),this.DeleteFromAEL(e)):t.OutIdx>=0&&e.OutIdx>=0?this.IntersectEdges(t,e,t.Top,!1):n&&t.WindDelta===0?(t.OutIdx>=0&&(this.AddOutPt(t,t.Top),t.OutIdx=-1),this.DeleteFromAEL(t),e.OutIdx>=0&&(this.AddOutPt(e,t.Top),e.OutIdx=-1),this.DeleteFromAEL(e)):h.Error("DoMaxima error")};h.Clipper.ReversePaths=function(t){for(var e=0,r=t.length;e<r;e++)t[e].reverse()};h.Clipper.Orientation=function(t){return h.Clipper.Area(t)>=0};h.Clipper.prototype.PointCount=function(t){if(t===null)return 0;var e=0,r=t;do e++,r=r.Next;while(r!=t);return e};h.Clipper.prototype.BuildResult=function(t){h.Clear(t);for(var e=0,r=this.m_PolyOuts.length;e<r;e++){var n=this.m_PolyOuts[e];if(n.Pts!==null){var i=n.Pts.Prev,o=this.PointCount(i);if(!(o<2)){for(var s=new Array(o),l=0;l<o;l++)s[l]=i.Pt,i=i.Prev;t.push(s)}}}};h.Clipper.prototype.BuildResult2=function(t){t.Clear();for(var e=0,r=this.m_PolyOuts.length;e<r;e++){var n=this.m_PolyOuts[e],i=this.PointCount(n.Pts);if(!(n.IsOpen&&i<2||!n.IsOpen&&i<3)){this.FixHoleLinkage(n);var o=new h.PolyNode;t.m_AllPolys.push(o),n.PolyNode=o,o.m_polygon.length=i;for(var s=n.Pts.Prev,l=0;l<i;l++)o.m_polygon[l]=s.Pt,s=s.Prev}}for(var e=0,r=this.m_PolyOuts.length;e<r;e++){var n=this.m_PolyOuts[e];n.PolyNode!==null&&(n.IsOpen?(n.PolyNode.IsOpen=!0,t.AddChild(n.PolyNode)):n.FirstLeft!==null&&n.FirstLeft.PolyNode!=null?n.FirstLeft.PolyNode.AddChild(n.PolyNode):t.AddChild(n.PolyNode))}};h.Clipper.prototype.FixupOutPolygon=function(t){var e=null;t.BottomPt=null;for(var r=t.Pts;;){if(r.Prev==r||r.Prev==r.Next){this.DisposeOutPts(r),t.Pts=null;return}if(h.IntPoint.op_Equality(r.Pt,r.Next.Pt)||h.IntPoint.op_Equality(r.Pt,r.Prev.Pt)||h.ClipperBase.SlopesEqual(r.Prev.Pt,r.Pt,r.Next.Pt,this.m_UseFullRange)&&(!this.PreserveCollinear||!this.Pt2IsBetweenPt1AndPt3(r.Prev.Pt,r.Pt,r.Next.Pt))){e=null;var n=r;r.Prev.Next=r.Next,r.Next.Prev=r.Prev,r=r.Prev,n=null}else{if(r==e)break;e===null&&(e=r),r=r.Next}}t.Pts=r};h.Clipper.prototype.DupOutPt=function(t,e){var r=new h.OutPt;return r.Pt.X=t.Pt.X,r.Pt.Y=t.Pt.Y,r.Idx=t.Idx,e?(r.Next=t.Next,r.Prev=t,t.Next.Prev=r,t.Next=r):(r.Prev=t.Prev,r.Next=t,t.Prev.Next=r,t.Prev=r),r};h.Clipper.prototype.GetOverlap=function(t,e,r,n,i){return t<e?r<n?(i.Left=Math.max(t,r),i.Right=Math.min(e,n)):(i.Left=Math.max(t,n),i.Right=Math.min(e,r)):r<n?(i.Left=Math.max(e,r),i.Right=Math.min(t,n)):(i.Left=Math.max(e,n),i.Right=Math.min(t,r)),i.Left<i.Right};h.Clipper.prototype.JoinHorz=function(t,e,r,n,i,o){var s=t.Pt.X>e.Pt.X?h.Direction.dRightToLeft:h.Direction.dLeftToRight,l=r.Pt.X>n.Pt.X?h.Direction.dRightToLeft:h.Direction.dLeftToRight;if(s==l)return!1;if(s==h.Direction.dLeftToRight){for(;t.Next.Pt.X<=i.X&&t.Next.Pt.X>=t.Pt.X&&t.Next.Pt.Y==i.Y;)t=t.Next;o&&t.Pt.X!=i.X&&(t=t.Next),e=this.DupOutPt(t,!o),h.IntPoint.op_Inequality(e.Pt,i)&&(t=e,t.Pt.X=i.X,t.Pt.Y=i.Y,e=this.DupOutPt(t,!o))}else{for(;t.Next.Pt.X>=i.X&&t.Next.Pt.X<=t.Pt.X&&t.Next.Pt.Y==i.Y;)t=t.Next;!o&&t.Pt.X!=i.X&&(t=t.Next),e=this.DupOutPt(t,o),h.IntPoint.op_Inequality(e.Pt,i)&&(t=e,t.Pt.X=i.X,t.Pt.Y=i.Y,e=this.DupOutPt(t,o))}if(l==h.Direction.dLeftToRight){for(;r.Next.Pt.X<=i.X&&r.Next.Pt.X>=r.Pt.X&&r.Next.Pt.Y==i.Y;)r=r.Next;o&&r.Pt.X!=i.X&&(r=r.Next),n=this.DupOutPt(r,!o),h.IntPoint.op_Inequality(n.Pt,i)&&(r=n,r.Pt.X=i.X,r.Pt.Y=i.Y,n=this.DupOutPt(r,!o))}else{for(;r.Next.Pt.X>=i.X&&r.Next.Pt.X<=r.Pt.X&&r.Next.Pt.Y==i.Y;)r=r.Next;!o&&r.Pt.X!=i.X&&(r=r.Next),n=this.DupOutPt(r,o),h.IntPoint.op_Inequality(n.Pt,i)&&(r=n,r.Pt.X=i.X,r.Pt.Y=i.Y,n=this.DupOutPt(r,o))}return s==h.Direction.dLeftToRight==o?(t.Prev=r,r.Next=t,e.Next=n,n.Prev=e):(t.Next=r,r.Prev=t,e.Prev=n,n.Next=e),!0};h.Clipper.prototype.JoinPoints=function(t,e,r){var n=t.OutPt1,i=new h.OutPt,o=t.OutPt2,s=new h.OutPt,l=t.OutPt1.Pt.Y==t.OffPt.Y;if(l&&h.IntPoint.op_Equality(t.OffPt,t.OutPt1.Pt)&&h.IntPoint.op_Equality(t.OffPt,t.OutPt2.Pt)){for(i=t.OutPt1.Next;i!=n&&h.IntPoint.op_Equality(i.Pt,t.OffPt);)i=i.Next;var f=i.Pt.Y>t.OffPt.Y;for(s=t.OutPt2.Next;s!=o&&h.IntPoint.op_Equality(s.Pt,t.OffPt);)s=s.Next;var u=s.Pt.Y>t.OffPt.Y;return f==u?!1:f?(i=this.DupOutPt(n,!1),s=this.DupOutPt(o,!0),n.Prev=o,o.Next=n,i.Next=s,s.Prev=i,t.OutPt1=n,t.OutPt2=i,!0):(i=this.DupOutPt(n,!0),s=this.DupOutPt(o,!1),n.Next=o,o.Prev=n,i.Prev=s,s.Next=i,t.OutPt1=n,t.OutPt2=i,!0)}else if(l){for(i=n;n.Prev.Pt.Y==n.Pt.Y&&n.Prev!=i&&n.Prev!=o;)n=n.Prev;for(;i.Next.Pt.Y==i.Pt.Y&&i.Next!=n&&i.Next!=o;)i=i.Next;if(i.Next==n||i.Next==o)return!1;for(s=o;o.Prev.Pt.Y==o.Pt.Y&&o.Prev!=s&&o.Prev!=i;)o=o.Prev;for(;s.Next.Pt.Y==s.Pt.Y&&s.Next!=o&&s.Next!=n;)s=s.Next;if(s.Next==o||s.Next==n)return!1;var p={Left:null,Right:null};if(!this.GetOverlap(n.Pt.X,i.Pt.X,o.Pt.X,s.Pt.X,p))return!1;var c=p.Left,m=p.Right,d=new h.IntPoint,v;return n.Pt.X>=c&&n.Pt.X<=m?(d.X=n.Pt.X,d.Y=n.Pt.Y,v=n.Pt.X>i.Pt.X):o.Pt.X>=c&&o.Pt.X<=m?(d.X=o.Pt.X,d.Y=o.Pt.Y,v=o.Pt.X>s.Pt.X):i.Pt.X>=c&&i.Pt.X<=m?(d.X=i.Pt.X,d.Y=i.Pt.Y,v=i.Pt.X>n.Pt.X):(d.X=s.Pt.X,d.Y=s.Pt.Y,v=s.Pt.X>o.Pt.X),t.OutPt1=n,t.OutPt2=o,this.JoinHorz(n,i,o,s,d,v)}else{for(i=n.Next;h.IntPoint.op_Equality(i.Pt,n.Pt)&&i!=n;)i=i.Next;var y=i.Pt.Y>n.Pt.Y||!h.ClipperBase.SlopesEqual(n.Pt,i.Pt,t.OffPt,this.m_UseFullRange);if(y){for(i=n.Prev;h.IntPoint.op_Equality(i.Pt,n.Pt)&&i!=n;)i=i.Prev;if(i.Pt.Y>n.Pt.Y||!h.ClipperBase.SlopesEqual(n.Pt,i.Pt,t.OffPt,this.m_UseFullRange))return!1}for(s=o.Next;h.IntPoint.op_Equality(s.Pt,o.Pt)&&s!=o;)s=s.Next;var x=s.Pt.Y>o.Pt.Y||!h.ClipperBase.SlopesEqual(o.Pt,s.Pt,t.OffPt,this.m_UseFullRange);if(x){for(s=o.Prev;h.IntPoint.op_Equality(s.Pt,o.Pt)&&s!=o;)s=s.Prev;if(s.Pt.Y>o.Pt.Y||!h.ClipperBase.SlopesEqual(o.Pt,s.Pt,t.OffPt,this.m_UseFullRange))return!1}return i==n||s==o||i==s||e==r&&y==x?!1:y?(i=this.DupOutPt(n,!1),s=this.DupOutPt(o,!0),n.Prev=o,o.Next=n,i.Next=s,s.Prev=i,t.OutPt1=n,t.OutPt2=i,!0):(i=this.DupOutPt(n,!0),s=this.DupOutPt(o,!1),n.Next=o,o.Prev=n,i.Prev=s,s.Next=i,t.OutPt1=n,t.OutPt2=i,!0)}};h.Clipper.GetBounds=function(t){for(var e=0,r=t.length;e<r&&t[e].length==0;)e++;if(e==r)return new h.IntRect(0,0,0,0);var n=new h.IntRect;for(n.left=t[e][0].X,n.right=n.left,n.top=t[e][0].Y,n.bottom=n.top;e<r;e++)for(var i=0,o=t[e].length;i<o;i++)t[e][i].X<n.left?n.left=t[e][i].X:t[e][i].X>n.right&&(n.right=t[e][i].X),t[e][i].Y<n.top?n.top=t[e][i].Y:t[e][i].Y>n.bottom&&(n.bottom=t[e][i].Y);return n};h.Clipper.prototype.GetBounds2=function(t){var e=t,r=new h.IntRect;for(r.left=t.Pt.X,r.right=t.Pt.X,r.top=t.Pt.Y,r.bottom=t.Pt.Y,t=t.Next;t!=e;)t.Pt.X<r.left&&(r.left=t.Pt.X),t.Pt.X>r.right&&(r.right=t.Pt.X),t.Pt.Y<r.top&&(r.top=t.Pt.Y),t.Pt.Y>r.bottom&&(r.bottom=t.Pt.Y),t=t.Next;return r};h.Clipper.PointInPolygon=function(t,e){var r=0,n=e.length;if(n<3)return 0;for(var i=e[0],o=1;o<=n;++o){var s=o==n?e[0]:e[o];if(s.Y==t.Y&&(s.X==t.X||i.Y==t.Y&&s.X>t.X==i.X<t.X))return-1;if(i.Y<t.Y!=s.Y<t.Y){if(i.X>=t.X)if(s.X>t.X)r=1-r;else{var l=(i.X-t.X)*(s.Y-t.Y)-(s.X-t.X)*(i.Y-t.Y);if(l==0)return-1;l>0==s.Y>i.Y&&(r=1-r)}else if(s.X>t.X){var l=(i.X-t.X)*(s.Y-t.Y)-(s.X-t.X)*(i.Y-t.Y);if(l==0)return-1;l>0==s.Y>i.Y&&(r=1-r)}}i=s}return r};h.Clipper.prototype.PointInPolygon=function(t,e){for(var r=0,n=e;;){var i=e.Pt.X,o=e.Pt.Y,s=e.Next.Pt.X,l=e.Next.Pt.Y;if(l==t.Y&&(s==t.X||o==t.Y&&s>t.X==i<t.X))return-1;if(o<t.Y!=l<t.Y){if(i>=t.X)if(s>t.X)r=1-r;else{var f=(i-t.X)*(l-t.Y)-(s-t.X)*(o-t.Y);if(f==0)return-1;f>0==l>o&&(r=1-r)}else if(s>t.X){var f=(i-t.X)*(l-t.Y)-(s-t.X)*(o-t.Y);if(f==0)return-1;f>0==l>o&&(r=1-r)}}if(e=e.Next,n==e)break}return r};h.Clipper.prototype.Poly2ContainsPoly1=function(t,e){var r=t;do{var n=this.PointInPolygon(r.Pt,e);if(n>=0)return n!=0;r=r.Next}while(r!=t);return!0};h.Clipper.prototype.FixupFirstLefts1=function(t,e){for(var r=0,n=this.m_PolyOuts.length;r<n;r++){var i=this.m_PolyOuts[r];i.Pts!==null&&i.FirstLeft==t&&this.Poly2ContainsPoly1(i.Pts,e.Pts)&&(i.FirstLeft=e)}};h.Clipper.prototype.FixupFirstLefts2=function(t,e){for(var r=0,n=this.m_PolyOuts,i=n.length,o=n[r];r<i;r++,o=n[r])o.FirstLeft==t&&(o.FirstLeft=e)};h.Clipper.ParseFirstLeft=function(t){for(;t!=null&&t.Pts==null;)t=t.FirstLeft;return t};h.Clipper.prototype.JoinCommonEdges=function(){for(var t=0,e=this.m_Joins.length;t<e;t++){var r=this.m_Joins[t],n=this.GetOutRec(r.OutPt1.Idx),i=this.GetOutRec(r.OutPt2.Idx);if(!(n.Pts==null||i.Pts==null)){var o;if(n==i?o=n:this.Param1RightOfParam2(n,i)?o=i:this.Param1RightOfParam2(i,n)?o=n:o=this.GetLowermostRec(n,i),!!this.JoinPoints(r,n,i))if(n==i){if(n.Pts=r.OutPt1,n.BottomPt=null,i=this.CreateOutRec(),i.Pts=r.OutPt2,this.UpdateOutPtIdxs(i),this.m_UsingPolyTree)for(var s=0,l=this.m_PolyOuts.length;s<l-1;s++){var f=this.m_PolyOuts[s];f.Pts==null||h.Clipper.ParseFirstLeft(f.FirstLeft)!=n||f.IsHole==n.IsHole||this.Poly2ContainsPoly1(f.Pts,r.OutPt2)&&(f.FirstLeft=i)}this.Poly2ContainsPoly1(i.Pts,n.Pts)?(i.IsHole=!n.IsHole,i.FirstLeft=n,this.m_UsingPolyTree&&this.FixupFirstLefts2(i,n),(i.IsHole^this.ReverseSolution)==this.Area(i)>0&&this.ReversePolyPtLinks(i.Pts)):this.Poly2ContainsPoly1(n.Pts,i.Pts)?(i.IsHole=n.IsHole,n.IsHole=!i.IsHole,i.FirstLeft=n.FirstLeft,n.FirstLeft=i,this.m_UsingPolyTree&&this.FixupFirstLefts2(n,i),(n.IsHole^this.ReverseSolution)==this.Area(n)>0&&this.ReversePolyPtLinks(n.Pts)):(i.IsHole=n.IsHole,i.FirstLeft=n.FirstLeft,this.m_UsingPolyTree&&this.FixupFirstLefts1(n,i))}else i.Pts=null,i.BottomPt=null,i.Idx=n.Idx,n.IsHole=o.IsHole,o==i&&(n.FirstLeft=i.FirstLeft),i.FirstLeft=n,this.m_UsingPolyTree&&this.FixupFirstLefts2(i,n)}}};h.Clipper.prototype.UpdateOutPtIdxs=function(t){var e=t.Pts;do e.Idx=t.Idx,e=e.Prev;while(e!=t.Pts)};h.Clipper.prototype.DoSimplePolygons=function(){for(var t=0;t<this.m_PolyOuts.length;){var e=this.m_PolyOuts[t++],r=e.Pts;if(r!==null)do{for(var n=r.Next;n!=e.Pts;){if(h.IntPoint.op_Equality(r.Pt,n.Pt)&&n.Next!=r&&n.Prev!=r){var i=r.Prev,o=n.Prev;r.Prev=o,o.Next=r,n.Prev=i,i.Next=n,e.Pts=r;var s=this.CreateOutRec();s.Pts=n,this.UpdateOutPtIdxs(s),this.Poly2ContainsPoly1(s.Pts,e.Pts)?(s.IsHole=!e.IsHole,s.FirstLeft=e):this.Poly2ContainsPoly1(e.Pts,s.Pts)?(s.IsHole=e.IsHole,e.IsHole=!s.IsHole,s.FirstLeft=e.FirstLeft,e.FirstLeft=s):(s.IsHole=e.IsHole,s.FirstLeft=e.FirstLeft),n=r}n=n.Next}r=r.Next}while(r!=e.Pts)}};h.Clipper.Area=function(t){var e=t.length;if(e<3)return 0;for(var r=0,n=0,i=e-1;n<e;++n)r+=(t[i].X+t[n].X)*(t[i].Y-t[n].Y),i=n;return-r*.5};h.Clipper.prototype.Area=function(t){var e=t.Pts;if(e==null)return 0;var r=0;do r=r+(e.Prev.Pt.X+e.Pt.X)*(e.Prev.Pt.Y-e.Pt.Y),e=e.Next;while(e!=t.Pts);return r*.5};Js&&(h.Clipper.OffsetPaths=function(t,e,r,n,i){var o=new h.Paths,s=new h.ClipperOffset(i,i);return s.AddPaths(t,r,n),s.Execute(o,e),o});h.Clipper.SimplifyPolygon=function(t,e){var r=new Array,n=new h.Clipper(0);return n.StrictlySimple=!0,n.AddPath(t,h.PolyType.ptSubject,!0),n.Execute(h.ClipType.ctUnion,r,e,e),r};h.Clipper.SimplifyPolygons=function(t,e){typeof e>"u"&&(e=h.PolyFillType.pftEvenOdd);var r=new Array,n=new h.Clipper(0);return n.StrictlySimple=!0,n.AddPaths(t,h.PolyType.ptSubject,!0),n.Execute(h.ClipType.ctUnion,r,e,e),r};h.Clipper.DistanceSqrd=function(t,e){var r=t.X-e.X,n=t.Y-e.Y;return r*r+n*n};h.Clipper.DistanceFromLineSqrd=function(t,e,r){var n=e.Y-r.Y,i=r.X-e.X,o=n*e.X+i*e.Y;return o=n*t.X+i*t.Y-o,o*o/(n*n+i*i)};h.Clipper.SlopesNearCollinear=function(t,e,r,n){return h.Clipper.DistanceFromLineSqrd(e,t,r)<n};h.Clipper.PointsAreClose=function(t,e,r){var n=t.X-e.X,i=t.Y-e.Y;return n*n+i*i<=r};h.Clipper.ExcludeOp=function(t){var e=t.Prev;return e.Next=t.Next,t.Next.Prev=e,e.Idx=0,e};h.Clipper.CleanPolygon=function(t,e){typeof e>"u"&&(e=1.415);var r=t.length;if(r==0)return new Array;for(var n=new Array(r),i=0;i<r;++i)n[i]=new h.OutPt;for(var i=0;i<r;++i)n[i].Pt=t[i],n[i].Next=n[(i+1)%r],n[i].Next.Prev=n[i],n[i].Idx=0;for(var o=e*e,s=n[0];s.Idx==0&&s.Next!=s.Prev;)h.Clipper.PointsAreClose(s.Pt,s.Prev.Pt,o)?(s=h.Clipper.ExcludeOp(s),r--):h.Clipper.PointsAreClose(s.Prev.Pt,s.Next.Pt,o)?(h.Clipper.ExcludeOp(s.Next),s=h.Clipper.ExcludeOp(s),r-=2):h.Clipper.SlopesNearCollinear(s.Prev.Pt,s.Pt,s.Next.Pt,o)?(s=h.Clipper.ExcludeOp(s),r--):(s.Idx=1,s=s.Next);r<3&&(r=0);for(var l=new Array(r),i=0;i<r;++i)l[i]=new h.IntPoint(s.Pt),s=s.Next;return n=null,l};h.Clipper.CleanPolygons=function(t,e){for(var r=new Array(t.length),n=0,i=t.length;n<i;n++)r[n]=h.Clipper.CleanPolygon(t[n],e);return r};h.Clipper.Minkowski=function(t,e,r,n){var i=n?1:0,o=t.length,s=e.length,l=new Array;if(r)for(var f=0;f<s;f++){for(var u=new Array(o),p=0,c=t.length,m=t[p];p<c;p++,m=t[p])u[p]=new h.IntPoint(e[f].X+m.X,e[f].Y+m.Y);l.push(u)}else for(var f=0;f<s;f++){for(var u=new Array(o),p=0,c=t.length,m=t[p];p<c;p++,m=t[p])u[p]=new h.IntPoint(e[f].X-m.X,e[f].Y-m.Y);l.push(u)}for(var d=new Array,f=0;f<s-1+i;f++)for(var p=0;p<o;p++){var v=new Array;v.push(l[f%s][p%o]),v.push(l[(f+1)%s][p%o]),v.push(l[(f+1)%s][(p+1)%o]),v.push(l[f%s][(p+1)%o]),h.Clipper.Orientation(v)||v.reverse(),d.push(v)}var y=new h.Clipper(0);return y.AddPaths(d,h.PolyType.ptSubject,!0),y.Execute(h.ClipType.ctUnion,l,h.PolyFillType.pftNonZero,h.PolyFillType.pftNonZero),l};h.Clipper.MinkowskiSum=function(){var t=arguments,e=t.length;if(e==3){var r=t[0],n=t[1],i=t[2];return h.Clipper.Minkowski(r,n,!0,i)}else if(e==4){for(var r=t[0],o=t[1],s=t[2],i=t[3],l=new h.Clipper,f,u=0,p=o.length;u<p;++u){var f=h.Clipper.Minkowski(r,o[u],!0,i);l.AddPaths(f,h.PolyType.ptSubject,!0)}i&&l.AddPaths(o,h.PolyType.ptClip,!0);var c=new h.Paths;return l.Execute(h.ClipType.ctUnion,c,s,s),c}};h.Clipper.MinkowskiDiff=function(t,e,r){return h.Clipper.Minkowski(t,e,!1,r)};h.Clipper.PolyTreeToPaths=function(t){var e=new Array;return h.Clipper.AddPolyNodeToPaths(t,h.Clipper.NodeType.ntAny,e),e};h.Clipper.AddPolyNodeToPaths=function(t,e,r){var n=!0;switch(e){case h.Clipper.NodeType.ntOpen:return;case h.Clipper.NodeType.ntClosed:n=!t.IsOpen;break;default:break}t.m_polygon.length>0&&n&&r.push(t.m_polygon);for(var i=0,o=t.Childs(),s=o.length,l=o[i];i<s;i++,l=o[i])h.Clipper.AddPolyNodeToPaths(l,e,r)};h.Clipper.OpenPathsFromPolyTree=function(t){for(var e=new h.Paths,r=0,n=t.ChildCount();r<n;r++)t.Childs()[r].IsOpen&&e.push(t.Childs()[r].m_polygon);return e};h.Clipper.ClosedPathsFromPolyTree=function(t){var e=new h.Paths;return h.Clipper.AddPolyNodeToPaths(t,h.Clipper.NodeType.ntClosed,e),e};Ln(h.Clipper,h.ClipperBase);h.Clipper.NodeType={ntAny:0,ntOpen:1,ntClosed:2};h.ClipperOffset=function(t,e){typeof t>"u"&&(t=2),typeof e>"u"&&(e=h.ClipperOffset.def_arc_tolerance),this.m_destPolys=new h.Paths,this.m_srcPoly=new h.Path,this.m_destPoly=new h.Path,this.m_normals=new Array,this.m_delta=0,this.m_sinA=0,this.m_sin=0,this.m_cos=0,this.m_miterLim=0,this.m_StepsPerRad=0,this.m_lowest=new h.IntPoint,this.m_polyNodes=new h.PolyNode,this.MiterLimit=t,this.ArcTolerance=e,this.m_lowest.X=-1};h.ClipperOffset.two_pi=6.28318530717959;h.ClipperOffset.def_arc_tolerance=.25;h.ClipperOffset.prototype.Clear=function(){h.Clear(this.m_polyNodes.Childs()),this.m_lowest.X=-1};h.ClipperOffset.Round=h.Clipper.Round;h.ClipperOffset.prototype.AddPath=function(t,e,r){var n=t.length-1;if(!(n<0)){var i=new h.PolyNode;if(i.m_jointype=e,i.m_endtype=r,r==h.EndType.etClosedLine||r==h.EndType.etClosedPolygon)for(;n>0&&h.IntPoint.op_Equality(t[0],t[n]);)n--;i.m_polygon.push(t[0]);for(var o=0,s=0,l=1;l<=n;l++)h.IntPoint.op_Inequality(i.m_polygon[o],t[l])&&(o++,i.m_polygon.push(t[l]),(t[l].Y>i.m_polygon[s].Y||t[l].Y==i.m_polygon[s].Y&&t[l].X<i.m_polygon[s].X)&&(s=o));if(!(r==h.EndType.etClosedPolygon&&o<2||r!=h.EndType.etClosedPolygon&&o<0)&&(this.m_polyNodes.AddChild(i),r==h.EndType.etClosedPolygon))if(this.m_lowest.X<0)this.m_lowest=new h.IntPoint(0,s);else{var f=this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon[this.m_lowest.Y];(i.m_polygon[s].Y>f.Y||i.m_polygon[s].Y==f.Y&&i.m_polygon[s].X<f.X)&&(this.m_lowest=new h.IntPoint(this.m_polyNodes.ChildCount()-1,s))}}};h.ClipperOffset.prototype.AddPaths=function(t,e,r){for(var n=0,i=t.length;n<i;n++)this.AddPath(t[n],e,r)};h.ClipperOffset.prototype.FixOrientations=function(){if(this.m_lowest.X>=0&&!h.Clipper.Orientation(this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon))for(var t=0;t<this.m_polyNodes.ChildCount();t++){var e=this.m_polyNodes.Childs()[t];(e.m_endtype==h.EndType.etClosedPolygon||e.m_endtype==h.EndType.etClosedLine&&h.Clipper.Orientation(e.m_polygon))&&e.m_polygon.reverse()}else for(var t=0;t<this.m_polyNodes.ChildCount();t++){var e=this.m_polyNodes.Childs()[t];e.m_endtype==h.EndType.etClosedLine&&!h.Clipper.Orientation(e.m_polygon)&&e.m_polygon.reverse()}};h.ClipperOffset.GetUnitNormal=function(t,e){var r=e.X-t.X,n=e.Y-t.Y;if(r==0&&n==0)return new h.DoublePoint(0,0);var i=1/Math.sqrt(r*r+n*n);return r*=i,n*=i,new h.DoublePoint(n,-r)};h.ClipperOffset.prototype.DoOffset=function(t){if(this.m_destPolys=new Array,this.m_delta=t,h.ClipperBase.near_zero(t)){for(var e=0;e<this.m_polyNodes.ChildCount();e++){var r=this.m_polyNodes.Childs()[e];r.m_endtype==h.EndType.etClosedPolygon&&this.m_destPolys.push(r.m_polygon)}return}this.MiterLimit>2?this.m_miterLim=2/(this.MiterLimit*this.MiterLimit):this.m_miterLim=.5;var n;this.ArcTolerance<=0?n=h.ClipperOffset.def_arc_tolerance:this.ArcTolerance>Math.abs(t)*h.ClipperOffset.def_arc_tolerance?n=Math.abs(t)*h.ClipperOffset.def_arc_tolerance:n=this.ArcTolerance;var i=3.14159265358979/Math.acos(1-n/Math.abs(t));this.m_sin=Math.sin(h.ClipperOffset.two_pi/i),this.m_cos=Math.cos(h.ClipperOffset.two_pi/i),this.m_StepsPerRad=i/h.ClipperOffset.two_pi,t<0&&(this.m_sin=-this.m_sin);for(var e=0;e<this.m_polyNodes.ChildCount();e++){var r=this.m_polyNodes.Childs()[e];this.m_srcPoly=r.m_polygon;var o=this.m_srcPoly.length;if(!(o==0||t<=0&&(o<3||r.m_endtype!=h.EndType.etClosedPolygon))){if(this.m_destPoly=new Array,o==1){if(r.m_jointype==h.JoinType.jtRound)for(var s=1,l=0,f=1;f<=i;f++){this.m_destPoly.push(new h.IntPoint(h.ClipperOffset.Round(this.m_srcPoly[0].X+s*t),h.ClipperOffset.Round(this.m_srcPoly[0].Y+l*t)));var u=s;s=s*this.m_cos-this.m_sin*l,l=u*this.m_sin+l*this.m_cos}else for(var s=-1,l=-1,f=0;f<4;++f)this.m_destPoly.push(new h.IntPoint(h.ClipperOffset.Round(this.m_srcPoly[0].X+s*t),h.ClipperOffset.Round(this.m_srcPoly[0].Y+l*t))),s<0?s=1:l<0?l=1:s=-1;this.m_destPolys.push(this.m_destPoly);continue}this.m_normals.length=0;for(var f=0;f<o-1;f++)this.m_normals.push(h.ClipperOffset.GetUnitNormal(this.m_srcPoly[f],this.m_srcPoly[f+1]));if(r.m_endtype==h.EndType.etClosedLine||r.m_endtype==h.EndType.etClosedPolygon?this.m_normals.push(h.ClipperOffset.GetUnitNormal(this.m_srcPoly[o-1],this.m_srcPoly[0])):this.m_normals.push(new h.DoublePoint(this.m_normals[o-2])),r.m_endtype==h.EndType.etClosedPolygon){for(var p=o-1,f=0;f<o;f++)p=this.OffsetPoint(f,p,r.m_jointype);this.m_destPolys.push(this.m_destPoly)}else if(r.m_endtype==h.EndType.etClosedLine){for(var p=o-1,f=0;f<o;f++)p=this.OffsetPoint(f,p,r.m_jointype);this.m_destPolys.push(this.m_destPoly),this.m_destPoly=new Array;for(var c=this.m_normals[o-1],f=o-1;f>0;f--)this.m_normals[f]=new h.DoublePoint(-this.m_normals[f-1].X,-this.m_normals[f-1].Y);this.m_normals[0]=new h.DoublePoint(-c.X,-c.Y),p=0;for(var f=o-1;f>=0;f--)p=this.OffsetPoint(f,p,r.m_jointype);this.m_destPolys.push(this.m_destPoly)}else{for(var p=0,f=1;f<o-1;++f)p=this.OffsetPoint(f,p,r.m_jointype);var m;if(r.m_endtype==h.EndType.etOpenButt){var f=o-1;m=new h.IntPoint(h.ClipperOffset.Round(this.m_srcPoly[f].X+this.m_normals[f].X*t),h.ClipperOffset.Round(this.m_srcPoly[f].Y+this.m_normals[f].Y*t)),this.m_destPoly.push(m),m=new h.IntPoint(h.ClipperOffset.Round(this.m_srcPoly[f].X-this.m_normals[f].X*t),h.ClipperOffset.Round(this.m_srcPoly[f].Y-this.m_normals[f].Y*t)),this.m_destPoly.push(m)}else{var f=o-1;p=o-2,this.m_sinA=0,this.m_normals[f]=new h.DoublePoint(-this.m_normals[f].X,-this.m_normals[f].Y),r.m_endtype==h.EndType.etOpenSquare?this.DoSquare(f,p):this.DoRound(f,p)}for(var f=o-1;f>0;f--)this.m_normals[f]=new h.DoublePoint(-this.m_normals[f-1].X,-this.m_normals[f-1].Y);this.m_normals[0]=new h.DoublePoint(-this.m_normals[1].X,-this.m_normals[1].Y),p=o-1;for(var f=p-1;f>0;--f)p=this.OffsetPoint(f,p,r.m_jointype);r.m_endtype==h.EndType.etOpenButt?(m=new h.IntPoint(h.ClipperOffset.Round(this.m_srcPoly[0].X-this.m_normals[0].X*t),h.ClipperOffset.Round(this.m_srcPoly[0].Y-this.m_normals[0].Y*t)),this.m_destPoly.push(m),m=new h.IntPoint(h.ClipperOffset.Round(this.m_srcPoly[0].X+this.m_normals[0].X*t),h.ClipperOffset.Round(this.m_srcPoly[0].Y+this.m_normals[0].Y*t)),this.m_destPoly.push(m)):(p=1,this.m_sinA=0,r.m_endtype==h.EndType.etOpenSquare?this.DoSquare(0,1):this.DoRound(0,1)),this.m_destPolys.push(this.m_destPoly)}}}};h.ClipperOffset.prototype.Execute=function(){var t=arguments,e=t[0]instanceof h.PolyTree;if(e){var r=t[0],n=t[1];r.Clear(),this.FixOrientations(),this.DoOffset(n);var i=new h.Clipper(0);if(i.AddPaths(this.m_destPolys,h.PolyType.ptSubject,!0),n>0)i.Execute(h.ClipType.ctUnion,r,h.PolyFillType.pftPositive,h.PolyFillType.pftPositive);else{var o=h.Clipper.GetBounds(this.m_destPolys),s=new h.Path;if(s.push(new h.IntPoint(o.left-10,o.bottom+10)),s.push(new h.IntPoint(o.right+10,o.bottom+10)),s.push(new h.IntPoint(o.right+10,o.top-10)),s.push(new h.IntPoint(o.left-10,o.top-10)),i.AddPath(s,h.PolyType.ptSubject,!0),i.ReverseSolution=!0,i.Execute(h.ClipType.ctUnion,r,h.PolyFillType.pftNegative,h.PolyFillType.pftNegative),r.ChildCount()==1&&r.Childs()[0].ChildCount()>0){var l=r.Childs()[0];r.Childs()[0]=l.Childs()[0];for(var f=1;f<l.ChildCount();f++)r.AddChild(l.Childs()[f])}else r.Clear()}}else{var r=t[0],n=t[1];h.Clear(r),this.FixOrientations(),this.DoOffset(n);var i=new h.Clipper(0);if(i.AddPaths(this.m_destPolys,h.PolyType.ptSubject,!0),n>0)i.Execute(h.ClipType.ctUnion,r,h.PolyFillType.pftPositive,h.PolyFillType.pftPositive);else{var o=h.Clipper.GetBounds(this.m_destPolys),s=new h.Path;s.push(new h.IntPoint(o.left-10,o.bottom+10)),s.push(new h.IntPoint(o.right+10,o.bottom+10)),s.push(new h.IntPoint(o.right+10,o.top-10)),s.push(new h.IntPoint(o.left-10,o.top-10)),i.AddPath(s,h.PolyType.ptSubject,!0),i.ReverseSolution=!0,i.Execute(h.ClipType.ctUnion,r,h.PolyFillType.pftNegative,h.PolyFillType.pftNegative),r.length>0&&r.splice(0,1)}}};h.ClipperOffset.prototype.OffsetPoint=function(t,e,r){if(this.m_sinA=this.m_normals[e].X*this.m_normals[t].Y-this.m_normals[t].X*this.m_normals[e].Y,this.m_sinA<5e-5&&this.m_sinA>-5e-5)return e;if(this.m_sinA>1?this.m_sinA=1:this.m_sinA<-1&&(this.m_sinA=-1),this.m_sinA*this.m_delta<0)this.m_destPoly.push(new h.IntPoint(h.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[e].X*this.m_delta),h.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[e].Y*this.m_delta))),this.m_destPoly.push(new h.IntPoint(this.m_srcPoly[t])),this.m_destPoly.push(new h.IntPoint(h.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[t].X*this.m_delta),h.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[t].Y*this.m_delta)));else switch(r){case h.JoinType.jtMiter:{var n=1+(this.m_normals[t].X*this.m_normals[e].X+this.m_normals[t].Y*this.m_normals[e].Y);n>=this.m_miterLim?this.DoMiter(t,e,n):this.DoSquare(t,e);break}case h.JoinType.jtSquare:this.DoSquare(t,e);break;case h.JoinType.jtRound:this.DoRound(t,e);break}return e=t,e};h.ClipperOffset.prototype.DoSquare=function(t,e){var r=Math.tan(Math.atan2(this.m_sinA,this.m_normals[e].X*this.m_normals[t].X+this.m_normals[e].Y*this.m_normals[t].Y)/4);this.m_destPoly.push(new h.IntPoint(h.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_delta*(this.m_normals[e].X-this.m_normals[e].Y*r)),h.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_delta*(this.m_normals[e].Y+this.m_normals[e].X*r)))),this.m_destPoly.push(new h.IntPoint(h.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_delta*(this.m_normals[t].X+this.m_normals[t].Y*r)),h.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_delta*(this.m_normals[t].Y-this.m_normals[t].X*r))))};h.ClipperOffset.prototype.DoMiter=function(t,e,r){var n=this.m_delta/r;this.m_destPoly.push(new h.IntPoint(h.ClipperOffset.Round(this.m_srcPoly[t].X+(this.m_normals[e].X+this.m_normals[t].X)*n),h.ClipperOffset.Round(this.m_srcPoly[t].Y+(this.m_normals[e].Y+this.m_normals[t].Y)*n)))};h.ClipperOffset.prototype.DoRound=function(t,e){for(var r=Math.atan2(this.m_sinA,this.m_normals[e].X*this.m_normals[t].X+this.m_normals[e].Y*this.m_normals[t].Y),n=h.Cast_Int32(h.ClipperOffset.Round(this.m_StepsPerRad*Math.abs(r))),i=this.m_normals[e].X,o=this.m_normals[e].Y,s,l=0;l<n;++l)this.m_destPoly.push(new h.IntPoint(h.ClipperOffset.Round(this.m_srcPoly[t].X+i*this.m_delta),h.ClipperOffset.Round(this.m_srcPoly[t].Y+o*this.m_delta))),s=i,i=i*this.m_cos-this.m_sin*o,o=s*this.m_sin+o*this.m_cos;this.m_destPoly.push(new h.IntPoint(h.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[t].X*this.m_delta),h.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[t].Y*this.m_delta)))};h.Error=function(t){try{throw new Error(t)}catch(e){alert(e.message)}};h.JS={};h.JS.AreaOfPolygon=function(t,e){return e||(e=1),h.Clipper.Area(t)/(e*e)};h.JS.AreaOfPolygons=function(t,e){e||(e=1);for(var r=0,n=0;n<t.length;n++)r+=h.Clipper.Area(t[n]);return r/(e*e)};h.JS.BoundsOfPath=function(t,e){return h.JS.BoundsOfPaths([t],e)};h.JS.BoundsOfPaths=function(t,e){e||(e=1);var r=h.Clipper.GetBounds(t);return r.left/=e,r.bottom/=e,r.right/=e,r.top/=e,r};h.JS.Clean=function(n,e){if(!(n instanceof Array))return[];var r=n[0]instanceof Array,n=h.JS.Clone(n);if(typeof e!="number"||e===null)return h.Error("Delta is not a number in Clean()."),n;if(n.length===0||n.length==1&&n[0].length===0||e<0)return n;r||(n=[n]);for(var i=n.length,o,s,l,f,u,p,c,m=[],d=0;d<i;d++)if(s=n[d],o=s.length,o!==0){if(o<3){l=s,m.push(l);continue}for(l=s,f=e*e,u=s[0],p=1,c=1;c<o;c++)(s[c].X-u.X)*(s[c].X-u.X)+(s[c].Y-u.Y)*(s[c].Y-u.Y)<=f||(l[p]=s[c],u=s[c],p++);u=s[p-1],(s[0].X-u.X)*(s[0].X-u.X)+(s[0].Y-u.Y)*(s[0].Y-u.Y)<=f&&p--,p<o&&l.splice(p,o-p),l.length&&m.push(l)}return!r&&m.length?m=m[0]:!r&&m.length===0?m=[]:r&&m.length===0&&(m=[[]]),m};h.JS.Clone=function(t){if(!(t instanceof Array))return[];if(t.length===0)return[];if(t.length==1&&t[0].length===0)return[[]];var e=t[0]instanceof Array;e||(t=[t]);var r=t.length,n,i,o,s,l=new Array(r);for(i=0;i<r;i++){for(n=t[i].length,s=new Array(n),o=0;o<n;o++)s[o]={X:t[i][o].X,Y:t[i][o].Y};l[i]=s}return e||(l=l[0]),l};h.JS.Lighten=function(t,e){if(!(t instanceof Array))return[];if(typeof e!="number"||e===null)return h.Error("Tolerance is not a number in Lighten()."),h.JS.Clone(t);if(t.length===0||t.length==1&&t[0].length===0||e<0)return h.JS.Clone(t);t[0]instanceof Array||(t=[t]);var r,n,i,o,s,l,f,u,p,c,m,d,v,y,x,I,C,w=t.length,T=e*e,E=[];for(r=0;r<w;r++)if(i=t[r],l=i.length,l!=0){for(o=0;o<1e6;o++){for(s=[],l=i.length,i[l-1].X!=i[0].X||i[l-1].Y!=i[0].Y?(d=1,i.push({X:i[0].X,Y:i[0].Y}),l=i.length):d=0,m=[],n=0;n<l-2;n++)f=i[n],p=i[n+1],u=i[n+2],I=f.X,C=f.Y,v=u.X-I,y=u.Y-C,(v!==0||y!==0)&&(x=((p.X-I)*v+(p.Y-C)*y)/(v*v+y*y),x>1?(I=u.X,C=u.Y):x>0&&(I+=v*x,C+=y*x)),v=p.X-I,y=p.Y-C,c=v*v+y*y,c<=T&&(m[n+1]=1,n++);for(s.push({X:i[0].X,Y:i[0].Y}),n=1;n<l-1;n++)m[n]||s.push({X:i[n].X,Y:i[n].Y});if(s.push({X:i[l-1].X,Y:i[l-1].Y}),d&&i.pop(),m.length)i=s;else break}l=s.length,s[l-1].X==s[0].X&&s[l-1].Y==s[0].Y&&s.pop(),s.length>2&&E.push(s)}return!t[0]instanceof Array&&(E=E[0]),typeof E>"u"&&(E=[[]]),E};h.JS.PerimeterOfPath=function(t,e,r){if(typeof t>"u")return 0;var n=Math.sqrt,i=0,o,s,l=0,f=0,u=0,p=0,c=t.length;if(c<2)return 0;for(e&&(t[c]=t[0],c++);--c;)o=t[c],l=o.X,f=o.Y,s=t[c-1],u=s.X,p=s.Y,i+=n((l-u)*(l-u)+(f-p)*(f-p));return e&&t.pop(),i/r};h.JS.PerimeterOfPaths=function(t,e,r){r||(r=1);for(var n=0,i=0;i<t.length;i++)n+=h.JS.PerimeterOfPath(t[i],e,r);return n};h.JS.ScaleDownPath=function(t,e){var r,n;for(e||(e=1),r=t.length;r--;)n=t[r],n.X=n.X/e,n.Y=n.Y/e};h.JS.ScaleDownPaths=function(t,e){var r,n,i,o=Math.round;for(e||(e=1),r=t.length;r--;)for(n=t[r].length;n--;)i=t[r][n],i.X=i.X/e,i.Y=i.Y/e};h.JS.ScaleUpPath=function(t,e){var r,n,i=Math.round;for(e||(e=1),r=t.length;r--;)n=t[r],n.X=i(n.X*e),n.Y=i(n.Y*e)};h.JS.ScaleUpPaths=function(t,e){var r,n,i,o=Math.round;for(e||(e=1),r=t.length;r--;)for(n=t[r].length;n--;)i=t[r][n],i.X=o(i.X*e),i.Y=o(i.Y*e)};h.ExPolygons=function(){return[]};h.ExPolygon=function(){this.outer=null,this.holes=null};h.JS.AddOuterPolyNodeToExPolygons=function(t,e){var r=new h.ExPolygon;r.outer=t.Contour();var n=t.Childs(),i=n.length;r.holes=new Array(i);var o,s,l,f,u,p;for(l=0;l<i;l++)for(o=n[l],r.holes[l]=o.Contour(),f=0,u=o.Childs(),p=u.length;f<p;f++)s=u[f],h.JS.AddOuterPolyNodeToExPolygons(s,e);e.push(r)};h.JS.ExPolygonsToPaths=function(t){var e,r,n,i,o=new h.Paths;for(e=0,n=t.length;e<n;e++)for(o.push(t[e].outer),r=0,i=t[e].holes.length;r<i;r++)o.push(t[e].holes[r]);return o};h.JS.PolyTreeToExPolygons=function(t){var e=new h.ExPolygons,r,n,i,o;for(n=0,i=t.Childs(),o=i.length;n<o;n++)r=i[n],h.JS.AddOuterPolyNodeToExPolygons(r,e);return e};zr.exports=h});var cl=Gt((kg,pl)=>{var fl=9007199254740991,w0="[object Arguments]",_0="[object Function]",C0="[object GeneratorFunction]",I0=/^(?:0|[1-9]\d*)$/;function T0(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function E0(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function b0(t,e){return T0(e,function(r){return t[r]})}function O0(t,e){return function(r){return t(e(r))}}var Yn=Object.prototype,Qi=Yn.hasOwnProperty,ul=Yn.toString,A0=Yn.propertyIsEnumerable,N0=O0(Object.keys,Object);function S0(t,e){var r=B0(t)||Y0(t)?E0(t.length,String):[],n=r.length,i=!!n;for(var o in t)(e||Qi.call(t,o))&&!(i&&(o=="length"||M0(o,n)))&&r.push(o);return r}function L0(t){if(!X0(t))return N0(t);var e=[];for(var r in Object(t))Qi.call(t,r)&&r!="constructor"&&e.push(r);return e}function M0(t,e){return e=e??fl,!!e&&(typeof t=="number"||I0.test(t))&&t>-1&&t%1==0&&t<e}function X0(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Yn;return t===r}function Y0(t){return R0(t)&&Qi.call(t,"callee")&&(!A0.call(t,"callee")||ul.call(t)==w0)}var B0=Array.isArray;function hl(t){return t!=null&&k0(t.length)&&!F0(t)}function R0(t){return W0(t)&&hl(t)}function F0(t){var e=D0(t)?ul.call(t):"";return e==_0||e==C0}function k0(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=fl}function D0(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function W0(t){return!!t&&typeof t=="object"}function U0(t){return hl(t)?S0(t):L0(t)}function q0(t){return t?b0(t,U0(t)):[]}pl.exports=q0});var Vl=Gt((jr,Pr)=>{var H0=200,G0="Expected a function",ao="__lodash_hash_undefined__",qn=1,wr=2,Cl=1/0,Il=9007199254740991,Bn="[object Arguments]",eo="[object Array]",Tl="[object Boolean]",El="[object Date]",bl="[object Error]",Ol="[object Function]",V0="[object GeneratorFunction]",Rn="[object Map]",Al="[object Number]",xr="[object Object]",ml="[object Promise]",Nl="[object RegExp]",Fn="[object Set]",Sl="[object String]",Ll="[object Symbol]",ro="[object WeakMap]",Ml="[object ArrayBuffer]",kn="[object DataView]",z0="[object Float32Array]",Z0="[object Float64Array]",J0="[object Int8Array]",j0="[object Int16Array]",$0="[object Int32Array]",Q0="[object Uint8Array]",K0="[object Uint8ClampedArray]",tm="[object Uint16Array]",em="[object Uint32Array]",rm=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nm=/^\w*$/,im=/^\./,om=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sm=/[\\^$.*+?()[\]{}|]/g,lm=/\\(\\)?/g,am=/^\[object .+?Constructor\]$/,fm=/^(?:0|[1-9]\d*)$/,at={};at[z0]=at[Z0]=at[J0]=at[j0]=at[$0]=at[Q0]=at[K0]=at[tm]=at[em]=!0;at[Bn]=at[eo]=at[Ml]=at[Tl]=at[kn]=at[El]=at[bl]=at[Ol]=at[Rn]=at[Al]=at[xr]=at[Nl]=at[Fn]=at[Sl]=at[ro]=!1;var Xl=typeof global=="object"&&global&&global.Object===Object&&global,um=typeof self=="object"&&self&&self.Object===Object&&self,Ee=Xl||um||Function("return this")(),Yl=typeof jr=="object"&&jr&&!jr.nodeType&&jr,dl=Yl&&typeof Pr=="object"&&Pr&&!Pr.nodeType&&Pr,hm=dl&&dl.exports===Yl,vl=hm&&Xl.process,yl=function(){try{return vl&&vl.binding("util")}catch{}}(),gl=yl&&yl.isTypedArray;function pm(t,e,r,n){for(var i=-1,o=t?t.length:0;++i<o;){var s=t[i];e(n,s,r(s),t)}return n}function cm(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function mm(t){return function(e){return e?.[t]}}function dm(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function vm(t){return function(e){return t(e)}}function ym(t,e){return t?.[e]}function no(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}function gm(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}function xm(t,e){return function(r){return t(e(r))}}function Pm(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var wm=Array.prototype,_m=Function.prototype,Hn=Object.prototype,Ki=Ee["__core-js_shared__"],xl=function(){var t=/[^.]+$/.exec(Ki&&Ki.keys&&Ki.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Bl=_m.toString,te=Hn.hasOwnProperty,_r=Hn.toString,Cm=RegExp("^"+Bl.call(te).replace(sm,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pl=Ee.Symbol,wl=Ee.Uint8Array,Im=Hn.propertyIsEnumerable,Tm=wm.splice,Em=xm(Object.keys,Object),io=Cr(Ee,"DataView"),$r=Cr(Ee,"Map"),oo=Cr(Ee,"Promise"),so=Cr(Ee,"Set"),lo=Cr(Ee,"WeakMap"),Qr=Cr(Object,"create"),bm=Je(io),Om=Je($r),Am=Je(oo),Nm=Je(so),Sm=Je(lo),Dn=Pl?Pl.prototype:void 0,to=Dn?Dn.valueOf:void 0,_l=Dn?Dn.toString:void 0;function Ze(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Lm(){this.__data__=Qr?Qr(null):{}}function Mm(t){return this.has(t)&&delete this.__data__[t]}function Xm(t){var e=this.__data__;if(Qr){var r=e[t];return r===ao?void 0:r}return te.call(e,t)?e[t]:void 0}function Ym(t){var e=this.__data__;return Qr?e[t]!==void 0:te.call(e,t)}function Bm(t,e){var r=this.__data__;return r[t]=Qr&&e===void 0?ao:e,this}Ze.prototype.clear=Lm;Ze.prototype.delete=Mm;Ze.prototype.get=Xm;Ze.prototype.has=Ym;Ze.prototype.set=Bm;function he(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Rm(){this.__data__=[]}function Fm(t){var e=this.__data__,r=Gn(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Tm.call(e,r,1),!0}function km(t){var e=this.__data__,r=Gn(e,t);return r<0?void 0:e[r][1]}function Dm(t){return Gn(this.__data__,t)>-1}function Wm(t,e){var r=this.__data__,n=Gn(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}he.prototype.clear=Rm;he.prototype.delete=Fm;he.prototype.get=km;he.prototype.has=Dm;he.prototype.set=Wm;function pe(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Um(){this.__data__={hash:new Ze,map:new($r||he),string:new Ze}}function qm(t){return Vn(this,t).delete(t)}function Hm(t){return Vn(this,t).get(t)}function Gm(t){return Vn(this,t).has(t)}function Vm(t,e){return Vn(this,t).set(t,e),this}pe.prototype.clear=Um;pe.prototype.delete=qm;pe.prototype.get=Hm;pe.prototype.has=Gm;pe.prototype.set=Vm;function Wn(t){var e=-1,r=t?t.length:0;for(this.__data__=new pe;++e<r;)this.add(t[e])}function zm(t){return this.__data__.set(t,ao),this}function Zm(t){return this.__data__.has(t)}Wn.prototype.add=Wn.prototype.push=zm;Wn.prototype.has=Zm;function ue(t){this.__data__=new he(t)}function Jm(){this.__data__=new he}function jm(t){return this.__data__.delete(t)}function $m(t){return this.__data__.get(t)}function Qm(t){return this.__data__.has(t)}function Km(t,e){var r=this.__data__;if(r instanceof he){var n=r.__data__;if(!$r||n.length<H0-1)return n.push([t,e]),this;r=this.__data__=new pe(n)}return r.set(t,e),this}ue.prototype.clear=Jm;ue.prototype.delete=jm;ue.prototype.get=$m;ue.prototype.has=Qm;ue.prototype.set=Km;function td(t,e){var r=Te(t)||Hl(t)?dm(t.length,String):[],n=r.length,i=!!n;for(var o in t)(e||te.call(t,o))&&!(i&&(o=="length"||Dl(o,n)))&&r.push(o);return r}function Gn(t,e){for(var r=t.length;r--;)if(ql(t[r][0],e))return r;return-1}function ed(t,e,r,n){return rd(t,function(i,o,s){e(n,i,r(i),s)}),n}var rd=gd(id),nd=xd();function id(t,e){return t&&nd(t,e,Un)}function Rl(t,e){e=zn(e,t)?[e]:Fl(e);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Zn(e[r++])];return r&&r==n?t:void 0}function od(t){return _r.call(t)}function sd(t,e){return t!=null&&e in Object(t)}function fo(t,e,r,n,i){return t===e?!0:t==null||e==null||!Jn(t)&&!jn(e)?t!==t&&e!==e:ld(t,e,fo,r,n,i)}function ld(t,e,r,n,i,o){var s=Te(t),l=Te(e),f=eo,u=eo;s||(f=Ie(t),f=f==Bn?xr:f),l||(u=Ie(e),u=u==Bn?xr:u);var p=f==xr&&!no(t),c=u==xr&&!no(e),m=f==u;if(m&&!p)return o||(o=new ue),s||Nd(t)?kl(t,e,r,n,i,o):Pd(t,e,f,r,n,i,o);if(!(i&wr)){var d=p&&te.call(t,"__wrapped__"),v=c&&te.call(e,"__wrapped__");if(d||v){var y=d?t.value():t,x=v?e.value():e;return o||(o=new ue),r(y,x,n,i,o)}}return m?(o||(o=new ue),wd(t,e,r,n,i,o)):!1}function ad(t,e,r,n){var i=r.length,o=i,s=!n;if(t==null)return!o;for(t=Object(t);i--;){var l=r[i];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<o;){l=r[i];var f=l[0],u=t[f],p=l[1];if(s&&l[2]){if(u===void 0&&!(f in t))return!1}else{var c=new ue;if(n)var m=n(u,p,f,t,e,c);if(!(m===void 0?fo(p,u,n,qn|wr,c):m))return!1}}return!0}function fd(t){if(!Jn(t)||Td(t))return!1;var e=Gl(t)||no(t)?Cm:am;return e.test(Je(t))}function ud(t){return jn(t)&&po(t.length)&&!!at[_r.call(t)]}function hd(t){return typeof t=="function"?t:t==null?Xd:typeof t=="object"?Te(t)?md(t[0],t[1]):cd(t):Yd(t)}function pd(t){if(!Ed(t))return Em(t);var e=[];for(var r in Object(t))te.call(t,r)&&r!="constructor"&&e.push(r);return e}function cd(t){var e=_d(t);return e.length==1&&e[0][2]?Ul(e[0][0],e[0][1]):function(r){return r===t||ad(r,t,e)}}function md(t,e){return zn(t)&&Wl(e)?Ul(Zn(t),e):function(r){var n=Ld(r,t);return n===void 0&&n===e?Md(r,t):fo(e,n,void 0,qn|wr)}}function dd(t){return function(e){return Rl(e,t)}}function vd(t){if(typeof t=="string")return t;if(co(t))return _l?_l.call(t):"";var e=t+"";return e=="0"&&1/t==-Cl?"-0":e}function Fl(t){return Te(t)?t:bd(t)}function yd(t,e){return function(r,n){var i=Te(r)?pm:ed,o=e?e():{};return i(r,t,hd(n,2),o)}}function gd(t,e){return function(r,n){if(r==null)return r;if(!ho(r))return t(r,n);for(var i=r.length,o=e?i:-1,s=Object(r);(e?o--:++o<i)&&n(s[o],o,s)!==!1;);return r}}function xd(t){return function(e,r,n){for(var i=-1,o=Object(e),s=n(e),l=s.length;l--;){var f=s[t?l:++i];if(r(o[f],f,o)===!1)break}return e}}function kl(t,e,r,n,i,o){var s=i&wr,l=t.length,f=e.length;if(l!=f&&!(s&&f>l))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var p=-1,c=!0,m=i&qn?new Wn:void 0;for(o.set(t,e),o.set(e,t);++p<l;){var d=t[p],v=e[p];if(n)var y=s?n(v,d,p,e,t,o):n(d,v,p,t,e,o);if(y!==void 0){if(y)continue;c=!1;break}if(m){if(!cm(e,function(x,I){if(!m.has(I)&&(d===x||r(d,x,n,i,o)))return m.add(I)})){c=!1;break}}else if(!(d===v||r(d,v,n,i,o))){c=!1;break}}return o.delete(t),o.delete(e),c}function Pd(t,e,r,n,i,o,s){switch(r){case kn:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Ml:return!(t.byteLength!=e.byteLength||!n(new wl(t),new wl(e)));case Tl:case El:case Al:return ql(+t,+e);case bl:return t.name==e.name&&t.message==e.message;case Nl:case Sl:return t==e+"";case Rn:var l=gm;case Fn:var f=o&wr;if(l||(l=Pm),t.size!=e.size&&!f)return!1;var u=s.get(t);if(u)return u==e;o|=qn,s.set(t,e);var p=kl(l(t),l(e),n,i,o,s);return s.delete(t),p;case Ll:if(to)return to.call(t)==to.call(e)}return!1}function wd(t,e,r,n,i,o){var s=i&wr,l=Un(t),f=l.length,u=Un(e),p=u.length;if(f!=p&&!s)return!1;for(var c=f;c--;){var m=l[c];if(!(s?m in e:te.call(e,m)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var v=!0;o.set(t,e),o.set(e,t);for(var y=s;++c<f;){m=l[c];var x=t[m],I=e[m];if(n)var C=s?n(I,x,m,e,t,o):n(x,I,m,t,e,o);if(!(C===void 0?x===I||r(x,I,n,i,o):C)){v=!1;break}y||(y=m=="constructor")}if(v&&!y){var w=t.constructor,T=e.constructor;w!=T&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof T=="function"&&T instanceof T)&&(v=!1)}return o.delete(t),o.delete(e),v}function Vn(t,e){var r=t.__data__;return Id(e)?r[typeof e=="string"?"string":"hash"]:r.map}function _d(t){for(var e=Un(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Wl(i)]}return e}function Cr(t,e){var r=ym(t,e);return fd(r)?r:void 0}var Ie=od;(io&&Ie(new io(new ArrayBuffer(1)))!=kn||$r&&Ie(new $r)!=Rn||oo&&Ie(oo.resolve())!=ml||so&&Ie(new so)!=Fn||lo&&Ie(new lo)!=ro)&&(Ie=function(t){var e=_r.call(t),r=e==xr?t.constructor:void 0,n=r?Je(r):void 0;if(n)switch(n){case bm:return kn;case Om:return Rn;case Am:return ml;case Nm:return Fn;case Sm:return ro}return e});function Cd(t,e,r){e=zn(e,t)?[e]:Fl(e);for(var n,i=-1,s=e.length;++i<s;){var o=Zn(e[i]);if(!(n=t!=null&&r(t,o)))break;t=t[o]}if(n)return n;var s=t?t.length:0;return!!s&&po(s)&&Dl(o,s)&&(Te(t)||Hl(t))}function Dl(t,e){return e=e??Il,!!e&&(typeof t=="number"||fm.test(t))&&t>-1&&t%1==0&&t<e}function zn(t,e){if(Te(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||co(t)?!0:nm.test(t)||!rm.test(t)||e!=null&&t in Object(e)}function Id(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Td(t){return!!xl&&xl in t}function Ed(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Hn;return t===r}function Wl(t){return t===t&&!Jn(t)}function Ul(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var bd=uo(function(t){t=Sd(t);var e=[];return im.test(t)&&e.push(""),t.replace(om,function(r,n,i,o){e.push(i?o.replace(lm,"$1"):n||r)}),e});function Zn(t){if(typeof t=="string"||co(t))return t;var e=t+"";return e=="0"&&1/t==-Cl?"-0":e}function Je(t){if(t!=null){try{return Bl.call(t)}catch{}try{return t+""}catch{}}return""}var Od=yd(function(t,e,r){te.call(t,r)?t[r].push(e):t[r]=[e]});function uo(t,e){if(typeof t!="function"||e&&typeof e!="function")throw new TypeError(G0);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s),s};return r.cache=new(uo.Cache||pe),r}uo.Cache=pe;function ql(t,e){return t===e||t!==t&&e!==e}function Hl(t){return Ad(t)&&te.call(t,"callee")&&(!Im.call(t,"callee")||_r.call(t)==Bn)}var Te=Array.isArray;function ho(t){return t!=null&&po(t.length)&&!Gl(t)}function Ad(t){return jn(t)&&ho(t)}function Gl(t){var e=Jn(t)?_r.call(t):"";return e==Ol||e==V0}function po(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Il}function Jn(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function jn(t){return!!t&&typeof t=="object"}function co(t){return typeof t=="symbol"||jn(t)&&_r.call(t)==Ll}var Nd=gl?vm(gl):ud;function Sd(t){return t==null?"":vd(t)}function Ld(t,e,r){var n=t==null?void 0:Rl(t,e);return n===void 0?r:n}function Md(t,e){return t!=null&&Cd(t,e,sd)}function Un(t){return ho(t)?td(t):pd(t)}function Xd(t){return t}function Yd(t){return zn(t)?mm(Zn(t)):dd(t)}Pr.exports=Od});var pa=Gt((jx,ha)=>{var pv=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],cv=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function mv(t,e,r,n){if(!(isNaN(n)||n<1)){n|=0;var i,o,s,l,f,u,p,c,m,d,v,y,x,I,C,w,T,E,M,N,L,Y,X,B,G=n+n+1,wt=e<<2,$=e-1,lt=r-1,k=n+1,q=k*(k+1)/2,ft=new ua,D=ft;for(s=1;s<G;s++)if(D=D.next=new ua,s==k)var vt=D;D.next=ft;var V=null,nt=null;p=u=0;var ct=pv[n],z=cv[n];for(o=0;o<r;o++){for(w=T=E=M=c=m=d=v=0,y=k*(N=t[u]),x=k*(L=t[u+1]),I=k*(Y=t[u+2]),C=k*(X=t[u+3]),c+=q*N,m+=q*L,d+=q*Y,v+=q*X,D=ft,s=0;s<k;s++)D.r=N,D.g=L,D.b=Y,D.a=X,D=D.next;for(s=1;s<k;s++)l=u+(($<s?$:s)<<2),c+=(D.r=N=t[l])*(B=k-s),m+=(D.g=L=t[l+1])*B,d+=(D.b=Y=t[l+2])*B,v+=(D.a=X=t[l+3])*B,w+=N,T+=L,E+=Y,M+=X,D=D.next;for(V=ft,nt=vt,i=0;i<e;i++)t[u+3]=X=v*ct>>z,X!=0?(X=255/X,t[u]=(c*ct>>z)*X,t[u+1]=(m*ct>>z)*X,t[u+2]=(d*ct>>z)*X):t[u]=t[u+1]=t[u+2]=0,c-=y,m-=x,d-=I,v-=C,y-=V.r,x-=V.g,I-=V.b,C-=V.a,l=p+((l=i+n+1)<$?l:$)<<2,w+=V.r=t[l],T+=V.g=t[l+1],E+=V.b=t[l+2],M+=V.a=t[l+3],c+=w,m+=T,d+=E,v+=M,V=V.next,y+=N=nt.r,x+=L=nt.g,I+=Y=nt.b,C+=X=nt.a,w-=N,T-=L,E-=Y,M-=X,nt=nt.next,u+=4;p+=e}for(i=0;i<e;i++){for(T=E=M=w=m=d=v=c=0,u=i<<2,y=k*(N=t[u]),x=k*(L=t[u+1]),I=k*(Y=t[u+2]),C=k*(X=t[u+3]),c+=q*N,m+=q*L,d+=q*Y,v+=q*X,D=ft,s=0;s<k;s++)D.r=N,D.g=L,D.b=Y,D.a=X,D=D.next;for(f=e,s=1;s<=n;s++)u=f+i<<2,c+=(D.r=N=t[u])*(B=k-s),m+=(D.g=L=t[u+1])*B,d+=(D.b=Y=t[u+2])*B,v+=(D.a=X=t[u+3])*B,w+=N,T+=L,E+=Y,M+=X,D=D.next,s<lt&&(f+=e);for(u=i,V=ft,nt=vt,o=0;o<r;o++)l=u<<2,t[l+3]=X=v*ct>>z,X>0?(X=255/X,t[l]=(c*ct>>z)*X,t[l+1]=(m*ct>>z)*X,t[l+2]=(d*ct>>z)*X):t[l]=t[l+1]=t[l+2]=0,c-=y,m-=x,d-=I,v-=C,y-=V.r,x-=V.g,I-=V.b,C-=V.a,l=i+((l=o+k)<lt?l:lt)*e<<2,c+=w+=V.r=t[l],m+=T+=V.g=t[l+1],d+=E+=V.b=t[l+2],v+=M+=V.a=t[l+3],V=V.next,y+=N=nt.r,x+=L=nt.g,I+=Y=nt.b,C+=X=nt.a,w-=N,T-=L,E-=Y,M-=X,nt=nt.next,u+=e}}}function ua(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}ha.exports=mv});var Sy={};ie(Sy,{default:()=>Ny});var Vi={};ie(Vi,{CLOSE:()=>ht,CURVETO:()=>gt,Color:()=>b,EAST:()=>gp,Group:()=>Q,HORIZONTAL:()=>vp,LINETO:()=>_t,MOVETO:()=>yt,Matrix4:()=>Nt,NORTH:()=>Pp,Path:()=>R,Point:()=>O,QUADTO:()=>Zt,Rect:()=>ot,SOUTH:()=>wp,Text:()=>It,Transform:()=>W,VERTICAL:()=>yp,Vec3:()=>mt,WEST:()=>xp,_angleToPoint:()=>ec,_compoundPathKit:()=>fc,_compoundToPoints:()=>ac,_distanceToPoint:()=>rc,_locate:()=>Wo,_wiggleContours:()=>Dp,_wigglePaths:()=>Up,_wigglePoints:()=>Fp,_x:()=>Kp,_y:()=>tc,align:()=>Vp,angle:()=>We,arc:()=>xc,bounds:()=>Jr,centerPoint:()=>Hi,clamp:()=>ve,colorize:()=>bp,combinePaths:()=>Tp,compound:()=>uc,connectPoints:()=>Gp,coordinates:()=>Xt,copy:()=>Sp,curve:()=>Pc,curveLength:()=>Do,curvePoint:()=>hi,degrees:()=>Sr,deletePaths:()=>Jp,deletePoints:()=>Zp,delete_:()=>jp,demoEllipse:()=>bc,demoRect:()=>Ec,distance:()=>yn,dot:()=>Ga,draw:()=>Gs,drawColoredPoints:()=>Us,drawColors:()=>Hs,drawPoints:()=>Ws,drawRectangles:()=>qs,ellipse:()=>vc,extrema:()=>mi,fit:()=>Lp,fitTo:()=>Mp,freehand:()=>Cc,grid:()=>Ic,group:()=>ic,hex2rgb:()=>dn,hsb2rgb:()=>yi,hsl2rgb:()=>gi,interpret:()=>Ds,isDrawable:()=>_u,length:()=>pi,lerp:()=>oe,line:()=>yc,lineAngle:()=>gc,lineLength:()=>ui,linePoint:()=>fi,link:()=>sc,makeCenteredRect:()=>_p,makePoint:()=>Cp,makeRect:()=>Ip,merge:()=>Ui,mirror:()=>Xp,mix:()=>Va,namedColors:()=>mn,noise:()=>ai,nonEmpty:()=>Gi,parseString:()=>Pu,pathLength:()=>Yp,point:()=>ci,pointInPolygon:()=>Mr,pointOnPath:()=>$p,polygon:()=>wc,quad:()=>mc,radians:()=>Vt,rect:()=>dc,resampleByAmount:()=>Rp,resampleByLength:()=>Bp,rgb2hex:()=>di,rgb2hsb:()=>vn,rgb2hsl:()=>De,rgba2hex:()=>vi,rotate:()=>Ap,round:()=>qa,roundedRect:()=>cc,roundedSegments:()=>pc,scale:()=>qi,scatterPoints:()=>Hp,segmentLengths:()=>Lr,shapeOnPath:()=>Qp,shapePoints:()=>Ep,shapeSort:()=>nc,sign:()=>Ha,skew:()=>Np,snap:()=>zt,snapShape:()=>zp,star:()=>_c,stripCommas:()=>ol,sum:()=>pn,text:()=>Tc,toPoints:()=>il,toSVG:()=>Cu,translate:()=>Op,ungroup:()=>oc,wiggleContours:()=>Wp,wigglePaths:()=>qp,wigglePoints:()=>kp});function pn(t){var e,r=t.length,n=0;for(e=0;e<r;e+=1)n+=t[e];return n}function qa(t,e){return e?Math.round(t*Math.pow(10,e))/Math.pow(10,e):Math.round(t)}function Ha(t){return t<0?-1:t>0?1:0}function Sr(t){return t*180/Math.PI}function Vt(t){return t/180*Math.PI}function ve(t,e,r){return e<r?t<e?e:t>r?r:t:t<r?r:t>e?e:t}function zt(t,e,r){return r=r!==void 0?r:1,t*(1-r)+r*Math.round(t/e)*e}function Ga(t,e){var r=Math.min(t.length,e.length),n=0,i;for(i=0;i<r;i+=1)n+=t[i]*e[i];return n}function oe(t,e,r,n){if(n){if(r<0)return t;if(r>1)return e}return t+(e-t)*r}var Va=oe;function li(t){return t*t*t*(t*(t*6-15)+10)}function de(t,e,r,n){var i,o,s;return i=t&15,o=i<8?e:r,s=i<4?r:i===12||i===14?e:n,(i&1?-o:o)+(i&2?-s:s)}function za(t){return(1+t)/2}var Za=function(){var t,e,r;for(t=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],e=new Uint8Array(512),r=0;r<256;r+=1)e[256+r]=e[r]=t[r];return e}();function ai(t,e,r){var n=Za,i=Math.floor(t)&255,o=Math.floor(e)&255,s=Math.floor(r)&255;t-=Math.floor(t),e-=Math.floor(e),r-=Math.floor(r);var l=li(t),f=li(e),u=li(r),p=n[i]+o,c=n[p]+s,m=n[p+1]+s,d=n[i+1]+o,v=n[d]+s,y=n[d+1]+s;return za(oe(oe(oe(de(n[c],t,e,r),de(n[v],t-1,e,r),l),oe(de(n[m],t,e-1,r),de(n[y],t-1,e-1,r),l),f),oe(oe(de(n[c+1],t,e,r-1),de(n[v+1],t-1,e,r-1),l),oe(de(n[m+1],t,e-1,r-1),de(n[y+1],t-1,e-1,r-1),l),f),u))}var O=class{constructor(e,r){this.x=e!==void 0?e:0,this.y=r!==void 0?r:0}static read(e,r){if(arguments.length===2)return new O(e,r);var n=e;return n instanceof O?n:typeof n=="number"?new O(n,n):Array.isArray(n)?n.length===0?O.ZERO:(e=n[0],r=n.length>1?n[1]:e,new O(e,r)):n.x!==void 0&&n.y!==void 0?new O(n.x,n.y):O.ZERO}clone(){return new O(this.x,this.y)}add(e){return new O(this.x+e.x,this.y+e.y)}sub(e){return new O(this.x-e.x,this.y-e.y)}divide(e){return new O(this.x/e,this.y/e)}multiply(e){return new O(this.x*e,this.y*e)}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)}magnitudeSquared(){return this.x*this.x+this.y*this.y}heading(){return Math.atan2(this.y,this.x)}distanceTo(e){var r=this.x-e.x,n=this.y-e.y;return Math.sqrt(r*r+n*n)}normalize(){var e=this.magnitude();return e!==0?this.divide(e):O.ZERO}limit(e){return this.magnitudeSquared()>e*e?this.normalize().multiply(e):this}translate(e,r){return new O(this.x+e,this.y+r)}scale(e,r){return r=r!==void 0?r:e,new O(this.x*e,this.y*r)}toString(){return"["+this.x+", "+this.y+"]"}};Object.defineProperty(O.prototype,"xy",{get:function(){return[this.x,this.y]}});O.ZERO=new O(0,0);O.prototype.subtract=O.prototype.sub;var ot=class{constructor(e,r,n,i){this.x=e!==void 0?e:0,this.y=r!==void 0?r:0,this.width=n!==void 0?n:0,this.height=i!==void 0?i:0}normalize(){var e=this.x,r=this.y,n=this.width,i=this.height;return n<0&&(e+=n,n=-n),i<0&&(r+=i,i=-i),new ot(e,r,n,i)}containsPoint(e,r){return arguments.length===1&&(r=e.y,e=e.x),e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height}containsRect(e){return e.x>=this.x&&e.x+e.width<=this.x+this.width&&e.y>=this.y&&e.y+e.height<=this.y+this.height}grow(e,r){var n=this.x-e,i=this.y-r,o=this.width+e*2,s=this.height+r*2;return new ot(n,i,o,s)}unite(e){var r=Math.min(this.x,e.x),n=Math.min(this.y,e.y),i=Math.max(this.x+this.width,e.x+e.width)-r,o=Math.max(this.y+this.height,e.y+e.height)-n;return new ot(r,n,i,o)}addPoint(e,r){var n,i,o=this.x,s=this.y,l=this.width,f=this.height;return e<this.x?(n=this.x-e,o=e,l+=n):e>this.x+this.width&&(n=e-(this.x+this.width),l+=n),r<this.y?(i=this.y-r,s=r,f+=i):r>this.y+this.height&&(i=r-(this.y+this.height),f+=i),new ot(o,s,l,f)}centerPoint(){return new O(this.x+this.width/2,this.y+this.height/2)}};Object.defineProperty(ot.prototype,"xywh",{get:function(){return[this.x,this.y,this.width,this.height]}});var yt="M",_t="L",Zt="Q",gt="C",ht="Z";function fi(t,e,r,n,i){var o=e+t*(n-e),s=r+t*(i-r);return{type:_t,x:o,y:s}}function ui(t,e,r,n){var i=Math.pow(Math.abs(t-r),2),o=Math.pow(Math.abs(e-n),2);return Math.sqrt(i+o)}function hi(t,e,r,n,i,o,s,l,f){var u=1-t,p=e*u+n*t,c=r*u+i*t,m=n*u+o*t,d=i*u+s*t,v=o*u+l*t,y=s*u+f*t,x=p*u+m*t,I=c*u+d*t,C=m*u+v*t,w=d*u+y*t,T=x*u+C*t,E=I*u+w*t;return{type:gt,x1:x,y1:I,x2:C,y2:w,x:T,y:E}}function Do(t,e,r,n,i,o,s,l,f){f===void 0&&(f=20);var u,p,c,m=0,d=t,v=e;for(u=0;u<f;u+=1)p=(u+1)/f,c=hi(p,t,e,r,n,i,o,s,l),m+=Math.sqrt(Math.pow(Math.abs(d-c.x),2)+Math.pow(Math.abs(v-c.y),2)),d=c.x,v=c.y;return m}function Lr(t,e,r){e=e!==void 0?e:!1,r===void 0&&(r=20);var n,i,o,s,l,f,u,p,c,m;for(c=[],n=0;n<t.length;n+=1)i=t[n],o=i.type,n===0?(s=i.x,l=i.y):o===yt?(s=i.x,l=i.y,c.push(0)):o===ht?c.push(ui(f,u,s,l)):o===_t?c.push(ui(f,u,i.x,i.y)):o===gt&&c.push(Do(f,u,i.x1,i.y1,i.x2,i.y2,i.x,i.y,r)),o!==ht&&(f=i.x,u=i.y);if(e===!0){if(p=pn(c),m=[],m.length=c.length,p>0)for(n=0;n<c.length;n+=1)m[n]=c[n]/p;else for(n=0;n<c.length;n+=1)m[n]=0;return m}return c}function pi(t,e){return e=e||20,pn(Lr(t.commands,!1,e))}function Wo(t,e,r){var n,i,o;for(r===void 0&&(r=r(t.commands,!0)),n=0;n<t.commands.length&&(i=t.commands[n],(n===0||i.type===yt)&&(o=new O(i.x,i.y)),!(e<=r[n]||n===r.length-1));n+=1)e-=r[n];return r[n]!==0&&(e/=r[n]),n===r.length-1&&r[n]===0&&(n-=1),[n,e,o]}function ci(t,e,r){var n,i,o,s,l,f;return n=Wo(t,e,r),i=n[0],e=n[1],o=n[2],s=t.commands[i].x,l=t.commands[i].y,f=t.commands[i+1],f.type===_t||f.type===ht?f=f.type===ht?fi(e,s,l,o.x,o.y):fi(e,s,l,f.x,f.y):f.type===gt&&(f=hi(e,s,l,f.x1,f.y1,f.x2,f.y2,f.x,f.y)),f}function cn(t,e){return Math.abs(t-e)<=1e-12*Math.min(Math.abs(t),Math.abs(e))}function Ja(t){var e,r,n,i,o;return e=1-t,n=e*e,i=t*t,o=i*t,r=n*e,n*=3*t,i*=3*e,[r,n,i,o]}function ja(t,e,r,n,i,o,s,l,f){var u,p,c,m,d;return d=Ja(f),u=d[0],p=d[1],c=d[2],m=d[3],{x:u*t+p*r+c*i+m*s,y:u*e+p*n+c*o+m*l}}function mi(t,e,r,n,i,o,s,l){var f,u,p,c,m,d,v,y,x,I,C,w,T,E;function M(N){if(N>=0&&N<=1){var L=ja(t,e,r,n,i,o,s,l,N);L.x<f?f=L.x:L.x>u&&(u=L.x),L.y<p?p=L.y:L.y>c&&(c=L.y)}}return t<s?(f=t,u=s):(f=s,u=t),e<l?(p=e,c=l):(p=l,c=e),m=3*(-t+3*r-3*i+s),d=6*(t-2*r+i),v=3*(-t+r),cn(m+1,1)?cn(d+1,1)||M(-v/d):(T=d*d-4*m*v,T>=0&&(C=Math.sqrt(T),w=1/(2*m),M((-d+C)*w),M((-d-C)*w))),y=3*(-e+3*n-3*o+l),x=6*(e-2*n+o),I=3*(-e+n),cn(y+1,1)?cn(x+1,1)||M(-I/x):(E=x*x-4*y*I,E>0&&(C=Math.sqrt(E),w=1/(2*y),M((-x+C)*w),M((-x-C)*w))),new ot(f,p,u-f,c-p)}var mn={lightpink:[1,.71,.76],pink:[1,.75,.8],crimson:[.86,.08,.24],lavenderblush:[1,.94,.96],palevioletred:[.86,.44,.58],hotpink:[1,.41,.71],deeppink:[1,.08,.58],mediumvioletred:[.78,.08,.52],orchid:[.85,.44,.84],thistle:[.85,.75,.85],plum:[.87,.63,.87],violet:[.93,.51,.93],fuchsia:[1,0,1],darkmagenta:[.55,0,.55],purple:[.5,0,.5],mediumorchid:[.73,.33,.83],darkviolet:[.58,0,.83],darkorchid:[.6,.2,.8],indigo:[.29,0,.51],blueviolet:[.54,.17,.89],mediumpurple:[.58,.44,.86],mediumslateblue:[.48,.41,.93],slateblue:[.42,.35,.8],darkslateblue:[.28,.24,.55],ghostwhite:[.97,.97,1],lavender:[.9,.9,.98],blue:[0,0,1],mediumblue:[0,0,.8],darkblue:[0,0,.55],navy:[0,0,.5],midnightblue:[.1,.1,.44],royalblue:[.25,.41,.88],cornflowerblue:[.39,.58,.93],lightsteelblue:[.69,.77,.87],lightslategray:[.47,.53,.6],slategray:[.44,.5,.56],dodgerblue:[.12,.56,1],aliceblue:[.94,.97,1],steelblue:[.27,.51,.71],lightskyblue:[.53,.81,.98],skyblue:[.53,.81,.92],deepskyblue:[0,.75,1],lightblue:[.68,.85,.9],powderblue:[.69,.88,.9],cadetblue:[.37,.62,.63],darkturquoise:[0,.81,.82],azure:[.94,1,1],lightcyan:[.88,1,1],paleturquoise:[.69,.93,.93],aqua:[0,1,1],darkcyan:[0,.55,.55],teal:[0,.5,.5],darkslategray:[.18,.31,.31],mediumturquoise:[.28,.82,.8],lightseagreen:[.13,.7,.67],turquoise:[.25,.88,.82],aquamarine:[.5,1,.83],mediumaquamarine:[.4,.8,.67],mediumspringgreen:[0,.98,.6],mintcream:[.96,1,.98],springgreen:[0,1,.5],mediumseagreen:[.24,.7,.44],seagreen:[.18,.55,.34],honeydew:[.94,1,.94],darkseagreen:[.56,.74,.56],palegreen:[.6,.98,.6],lightgreen:[.56,.93,.56],limegreen:[.2,.8,.2],lime:[0,1,0],forestgreen:[.13,.55,.13],green:[0,.5,0],darkgreen:[0,.39,0],lawngreen:[.49,.99,0],chartreuse:[.5,1,0],greenyellow:[.68,1,.18],darkolivegreen:[.33,.42,.18],yellowgreen:[.6,.8,.2],olivedrab:[.42,.56,.14],ivory:[1,1,.94],beige:[.96,.96,.86],lightyellow:[1,1,.88],lightgoldenrodyellow:[.98,.98,.82],yellow:[1,1,0],olive:[.5,.5,0],darkkhaki:[.74,.72,.42],palegoldenrod:[.93,.91,.67],lemonchiffon:[1,.98,.8],khaki:[.94,.9,.55],gold:[1,.84,0],cornsilk:[1,.97,.86],goldenrod:[.85,.65,.13],darkgoldenrod:[.72,.53,.04],floralwhite:[1,.98,.94],oldlace:[.99,.96,.9],wheat:[.96,.87,.07],orange:[1,.65,0],moccasin:[1,.89,.71],papayawhip:[1,.94,.84],blanchedalmond:[1,.92,.8],navajowhite:[1,.87,.68],antiquewhite:[.98,.92,.84],tan:[.82,.71,.55],burlywood:[.87,.72,.53],darkorange:[1,.55,0],bisque:[1,.89,.77],linen:[.98,.94,.9],peru:[.8,.52,.25],peachpuff:[1,.85,.73],sandybrown:[.96,.64,.38],chocolate:[.82,.41,.12],saddlebrown:[.55,.27,.07],seashell:[1,.96,.93],sienna:[.63,.32,.18],lightsalmon:[1,.63,.48],coral:[1,.5,.31],orangered:[1,.27,0],darksalmon:[.91,.59,.48],tomato:[1,.39,.28],salmon:[.98,.5,.45],mistyrose:[1,.89,.88],lightcoral:[.94,.5,.5],snow:[1,.98,.98],rosybrown:[.74,.56,.56],indianred:[.8,.36,.36],red:[1,0,0],brown:[.65,.16,.16],firebrick:[.7,.13,.13],darkred:[.55,0,0],maroon:[.5,0,0],white:[1,1,1],whitesmoke:[.96,.96,.96],gainsboro:[.86,.86,.86],lightgrey:[.83,.83,.83],silver:[.75,.75,.75],darkgray:[.66,.66,.66],gray:[.5,.5,.5],grey:[.5,.5,.5],dimgray:[.41,.41,.41],dimgrey:[.41,.41,.41],black:[0,0,0],cyan:[0,.68,.94],transparent:[0,0,0,0],bark:[.25,.19,.13]};function ke(t){var e;return t===0?"00":(e=t.toString(16).toUpperCase(),e.length<2&&(e="0"+e),e)}function di(t,e,r){return"#"+ke(Math.round(t*255))+ke(Math.round(e*255))+ke(Math.round(r*255))}function vi(t,e,r,n){return"#"+ke(Math.round(t*255))+ke(Math.round(e*255))+ke(Math.round(r*255))+ke(Math.round(n*255))}function dn(t){var e,r,n;if(t=t.replace(/^#/,""),t.length!==3&&t.length!==6||!/^[0-9a-fA-F]*$/.test(t))throw new Error("Invalid hex value: #"+t);return t.length===3&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),e=parseInt(t.substr(0,2),16)/255,r=parseInt(t.substr(2,2),16)/255,n=parseInt(t.substr(4,2),16)/255,[e,r,n]}function vn(t,e,r){var n=0,i=0,o=Math.max(t,e,r),s=o-Math.min(t,e,r);return o!==0&&(i=s/o),i!==0&&(t===o?n=0+(e-r)/s:e===o?n=2+(r-t)/s:n=4+(t-e)/s),n=n*(60/360),n<0&&(n+=1),[n,i,o]}function yi(t,e,r){if(e===0)return[r,r,r];t=t%1*6;var n=Math.floor(t),i=t-n,o=r*(1-e),s=r*(1-e*i),l=r*(1-e*(1-i));return n>4?[r,o,s]:[[r,l,o],[s,r,o],[o,r,l],[o,s,r],[l,o,r]][parseInt(n,10)]}function De(t,e,r){var n=Math.min(t,e,r),i=Math.max(t,e,r),o=i-n,s,l,f;return i===n?s=0:t===i?s=(e-r)/o:e===i?s=2+(r-t)/o:r===i&&(s=4+(t-e)/o),s=Math.min(s*60,360),s<0&&(s+=360),f=(n+i)/2,i===n?l=0:f<=.5?l=o/(i+n):l=o/(2-i-n),[s/360,l,f]}function gi(t,e,r){var n,i,o,s,l;if(e===0)return l=r,[l,l,l];r<.5?i=r*(1+e):i=r+e-r*e,n=2*r-i,s=[0,0,0];for(var f=0;f<3;f++)o=t+1/3*-(f-1),o<0&&(o+=1),o>1&&(o-=1),6*o<1?l=n+(i-n)*6*o:2*o<1?l=i:3*o<2?l=n+(i-n)*(2/3-o)*6:l=n,s[f]=l;return s}function We(t,e,r,n){return Sr(Math.atan2(n-e,r-t))}function yn(t,e,r,n){return Math.sqrt(Math.pow(r-t,2)+Math.pow(n-e,2))}function Xt(t,e,r,n){var i=t+Math.cos(Vt(r))*n,o=e+Math.sin(Vt(r))*n;return new O(i,o)}function Mr(t,e,r){var n,i,o,s,l,f,u=!1,p=t.length;for(n=0;n<p;n+=1)i=n<p-1?n+1:0,o=t[n].x,s=t[n].y,l=t[i].x,f=t[i].y,(s<r&&f>=r||f<r&&s>=r)&&o+(r-s)/(f-s)*(l-o)<e&&(u=!u);return u}var ks=Nr(Ys(),1);var Yi={};ie(Yi,{abs:()=>Ef,accumulate:()=>bf,add:()=>Of,and:()=>Af,average:()=>Nf,boolean:()=>Sf,ceil:()=>Lf,clamp:()=>Yt,compare:()=>Mf,cos:()=>Xf,degrees:()=>Xi,divide:()=>Yf,e:()=>Bf,even:()=>Rf,floor:()=>Ff,integer:()=>kf,log:()=>Df,makeNumbers:()=>Wf,max:()=>Uf,min:()=>qf,mod:()=>Hf,multiply:()=>Gf,negate:()=>Vf,not:()=>zf,number:()=>Zf,odd:()=>Jf,or:()=>jf,perlinNoise:()=>$f,pi:()=>Qf,pow:()=>Kf,radians:()=>tu,randomNumbers:()=>eu,range:()=>ru,round:()=>nu,sample:()=>iu,sawtoothWave:()=>au,sign:()=>fu,sin:()=>uu,sineWave:()=>ou,sqrt:()=>hu,squareWave:()=>su,subtract:()=>pu,tan:()=>cu,total:()=>mu,triangleWave:()=>lu,xor:()=>du});function Mt(t){if(t<0){for(var e=Mt(Math.abs(t)),r=0;r<23;r+=1)e();return Mt(e(0,1e4))}return function(n,i){n=n||0,i=i||1,t=(t*9301+49297)%233280;var o=t/233280;return n+o*(i-n)}}var fe=Math.PI*2,Ef=Math.abs;function Vr(t){return t.length===1&&Array.isArray(t[0])&&(t=t[0]),t}function bf(...t){t=Vr(t);let e=[],r=0;for(let n=0;n<t.length;n++)r+=t[n],e.push(r);return e}function Of(...t){return t.length===2?t[0]+t[1]:t.reduce((e,r)=>e+r)}function Af(...t){var e=t.length;if(e===2)return t[0]&&t[1];if(e===1)return!!t[0];if(e===0)throw new Error("Wrong number of arguments");return t.reduce((r,n)=>r&&n,!0)}function Nf(...t){return t=Vr(t),t.length===0?0:t.reduce((e,r)=>e+r,0)/t.length}function Sf(t){return!!t}var Lf=Math.ceil;function Yt(t,e,r){return e=typeof e=="number"?e:0,r=typeof r=="number"?r:1,t<e?e:t>r?r:t}function Mf(t,e,r){if(r==="<")return t<e;if(r===">")return t>e;if(r==="<=")return t<=e;if(r===">=")return t>=e;if(r==="==")return t===e;if(r==="!=")return t!==e;throw new Error("Unknown comparison operation "+r)}var Xf=Math.cos;function Xi(t){return t*180/Math.PI}function Yf(...t){var e=t.length;function r(n){if(n===0)throw new Error("Divide by zero")}if(t===2)return r(t[1]),a/t[1];if(e===1)return a;if(e===0)throw new Error("Wrong number of arguments");return t.reduce((n,i)=>(r(i),n/i))}function Bf(){return Math.E}function Rf(t){return t%2===0}var Ff=Math.floor;function kf(t){return t|0}function Df(t){return t>0?Math.log(t):-Math.log(-t)}function Wf(t,e){if(!t)return[];e||(e="");var r,n,i=[],o=t.split(e);for(r=0;r<o.length;r+=1)n=parseFloat(o[r]),(n===0||n)&&i.push(n);return i}function Uf(...t){return t=Vr(t),t.length===0?0:Math.max.apply(null,t)}function qf(...t){return t=Vr(t),t.length===0?0:Math.min.apply(null,t)}function Hf(t,e){return t%e}function Gf(...t){var e=t.length;return e===2?t[0]*t[1]:e===1?t[0]:t.reduce((r,n)=>r*n,1)}function Vf(t){return-t}function zf(t){return!t}function Zf(t){return t}function Jf(t){return t%2!==0}function jf(...t){var e=t.length;if(e===2)return t[0]||t[1];if(e===1)return!!t[0];if(e===0)throw new Error("Wrong number of arguments");return t.reduce((r,n)=>r||n,!1)}function $f(t,e,r){return ai(t,e,r)}function Qf(){return Math.PI}var Kf=Math.pow;function tu(t){return t*Math.PI/180}function eu(t,e,r,n){var i=arguments.length;if((i<4||!n&&n!==0)&&(n=Math.random()),i===3||i===4?(e=e||0,r=r||(r===0?0:1)):i===2?(r=e||(e===0?0:1),e=0):i===1&&(e=0,r=1),r<e){var o=r;r=e,e=o}for(var s,l=r-e,f=[],u=Mt(n||0),p=0;p<t;p+=1)s=e+u(0,1)*l,f.push(s);return f}function ru(t,e,r,n){if(t===e)return[];if(r!==0&&(r=r||(t<e?1:-1)),r>0&&t>e)return[];if(r<0&&t<e)return[];if(r===0)return[];var i=[],o;if(t<e)if(n)for(o=t;o<=e;o+=r)i.push(o);else for(o=t;o<e;o+=r)i.push(o);else if(n)for(o=t;o>=e;o+=r)i.push(o);else for(o=t;o>e;o+=r)i.push(o);return i}function nu(t,e){return e=e|0,e?Math.round(t/e)*e:Math.round(t)}function iu(t,e,r,n){var i,o=[],s;for(o.length=t,n?i=(r-e)/t:i=(r-e)/(t-1),s=0;s<t;s+=1)o[s]=e+s*i;return o}function ou(t,e,r,n,i){e===void 0&&(e=-1),r===void 0&&(r=1),n===void 0&&(n=1),i===void 0&&(i=0);var o=(r-e)/2;return e+o+Math.sin((i+t)*fe/n)*o}function su(t,e,r,n,i){e===void 0&&(e=-1),r===void 0&&(r=1),n===void 0&&(n=1),i===void 0&&(i=0);var o=n/2,s=(t+i)%n;return s<o?r:e}function lu(t,e,r,n,i){e===void 0&&(e=-1),r===void 0&&(r=1),n===void 0&&(n=1),i===void 0&&(i=0);var o=(r-e)/2,s=fe/n,l=0,f=t+i+n/4;return f%n!==0&&(l=f*s%fe),l<0&&(l+=fe),2*o*(1+-Math.abs(l/fe*2-1))+e}function au(t,e,r,n,i){e===void 0&&(e=-1),r===void 0&&(r=1),n===void 0&&(n=1),i===void 0&&(i=0);var o=(r-e)/2,s=fe/n,l=0,f=t+i;return f%n!==0&&(l=f*s%fe),l<0&&(l+=fe),2*(l/fe)*o+e}function fu(t){return t>0?1:t===0?0:-1}var uu=Math.sin,hu=Math.sqrt;function pu(...t){var e=t.length;if(e===2)return t[0]-t[1];if(e===1)return-t[0];if(e===0)throw new Error("Wrong number of arguments");return t.reduce((r,n)=>r-n)}var cu=Math.tan;function mu(...t){return t=Vr(t),t.reduce((e,r)=>e+r,0)}function du(t,e){var r=arguments.length;if(r===2)return!!(t^e);throw new Error("Wrong number of arguments")}function xe(t,e,r){Object.defineProperty(t.prototype,r,{get:function(){return this[e]},set:function(n){this[e]=n}})}function $t(t,e,r){Object.defineProperty(t.prototype,e,{get:r})}var Bi="HSB",Bs="HSL",Rs="HEX",b=class{constructor(e,r,n,i,o){var s,l,f,u,p,c;e===void 0?(s=l=f=0,u=1):Array.isArray(e)?(c=r||{},s=e[0]!==void 0?e[0]:0,l=e[1]!==void 0?e[1]:0,f=e[2]!==void 0?e[2]:0,u=e[3]!==void 0?e[3]:c.range||1):e.r!==void 0?(c=r||{},s=e.r,l=e.g,f=e.b,u=e.a!==void 0?e.a:c.range||1):typeof e=="string"?(p=dn(e),s=p[0],l=p[1],f=p[2],u=1):typeof e=="number"&&(arguments.length===1?(s=l=f=e,u=1):arguments.length===2?(s=l=f=e,typeof r=="number"?u=r:(c=r,u=c.range||1)):arguments.length===3?typeof n=="number"?(s=e,l=r,f=n,u=1):(s=l=f=e,u=r,c=n):arguments.length===4?(s=e,l=r,f=n,typeof i=="number"?u=i:(c=i,u=c.range||1)):(s=e,l=r,f=n,u=i,c=o)),c=c||{},c.range!==void 0&&(s/=c.range,l/=c.range,f/=c.range,u/=c.range,c.mode===Bi&&(e/=c.range,r/=c.range,n/=c.range)),c.mode===Bi?(e=Yt(e,0,1),r=Yt(r,0,1),n=Yt(n,0,1),p=yi(e,r,n),s=p[0],l=p[1],f=p[2]):c.mode===Bs?(e=Yt(e,0,1),r=Yt(r,0,1),n=Yt(n,0,1),p=gi(e,r,n),s=p[0],l=p[1],f=p[2]):c.mode===Rs&&(p=dn(e),s=p[0],l=p[1],f=p[2],u=1),this.r=Yt(s,0,1),this.g=Yt(l,0,1),this.b=Yt(f,0,1),this.a=Yt(u,0,1)}static clone(e){return e==null?null:typeof e=="string"?e:new b(e.r,e.g,e.b,e.a)}static toCSS(e){if(e===null)return"none";if(e===void 0)return"black";if(typeof e=="string")return e;if(e instanceof b){let r=Math.round(e.r*255),n=Math.round(e.g*255),i=Math.round(e.b*255);return"rgba("+r+", "+n+", "+i+", "+e.a+")"}else if(e.r!==void 0&&e.g!==void 0&&e.b!==void 0){let r=Math.round(e.r*255),n=Math.round(e.g*255),i=Math.round(e.b*255);return e.a===void 0?"rgb("+r+", "+n+", "+i+")":"rgba("+r+", "+n+", "+i+", "+e.a+")"}else throw new Error("Don't know how to convert "+e+" to CSS.")}static toHex(e,r){return b.parse(e,r).toHex()}static make(){var e=Object.create(b.prototype);return e.constructor=b.prototype,b.apply(e,arguments),e}static parse(e){function r(i,o){return!i||!o?!1:(i=String(i),i.indexOf(o)===0)}var n;if(e==null)return new b(0,0,0,0);if(e instanceof b)return e;if(mn[e])return b.make.apply(null,mn[e]);if(e[0]==="#")return new b(e,0,0,0,{mode:Rs});if(r(e,"rgba"))return n=e.match(/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+|\d+.\d+)\s*\)$/i),n?new b(parseInt(n[1])/255,parseInt(n[2])/255,parseInt(n[3])/255,parseFloat(n[4])):(n=e.match(/^rgba\s*\(\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)\s*\)$/i),n?new b(parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])/100,parseFloat(n[4])):new b(0,0,0,0));if(r(e,"rgb"))return n=e.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i),n?new b(parseInt(n[1])/255,parseInt(n[2])/255,parseInt(n[3])/255):(n=e.match(/^rgb\s*\(\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)%\s*\)$/i),n?new b(parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])/100):new b(0,0,0,0));if(r(e,"hsla"))return n=e.match(/^hsla\s*\(\s*(\d+|\d+.\d+)\s*,\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)\s*\)$/i),n?new b(parseFloat(n[1])/360,parseFloat(n[2])/100,parseFloat(n[3])/100,parseFloat(n[4])):new b(0,0,0,0);if(r(e,"hsl"))return n=e.match(/^hsl\s*\(\s*(\d+|\d+.\d+)\s*,\s*(\d+|\d+.\d+)%\s*,\s*(\d+|\d+.\d+)%\s*\)$/i),n?new b(parseFloat(n[1])/360,parseFloat(n[2])/100,parseFloat(n[3])/100):new b(0,0,0,0);if(e==="none"||e==="null"||r(e,"url("))return new b(0,0,0,0);throw new Error("Color "+e+"can not be parsed")}static gray(e,r,n){return n=Math.max(n,1),new b(e/n,e/n,e/n,r/n)}static rgb(e,r,n,i,o){return o=Math.max(o,1),new b(e/o,r/o,n/o,i/o)}static hsb(e,r,n,i,o){return o=Math.max(o,1),new b(e/o,r/o,n/o,i/o,{mode:Bi})}static hsl(e,r,n,i,o){return o=Math.max(o,1),new b(e/o,r/o,n/o,i/o,{mode:Bs})}desaturate(e){if(this.r===this.g&&this.g===this.b)return this;var r,n,i;e===void 0||!e.method||e.method==="ITU-R BT.601"?(r=.3,n=.59,i=.11):e.method==="ITU-R BT.709"&&(r=.2125,n=.7154,i=.0721);var o=this.r*r+this.g*n+this.b*i;return new b(o,o,o,this.a)}invert(){return new b(1-this.r,1-this.g,1-this.b,this.a)}};b.BLACK=new b(0);b.WHITE=new b(1);xe(b,"r","red");xe(b,"g","green");xe(b,"b","blue");xe(b,"a","alpha");$t(b,"h",function(){return De(this.r,this.g,this.b)[0]});$t(b,"s",function(){return De(this.r,this.g,this.b)[1]});$t(b,"l",function(){return De(this.r,this.g,this.b)[2]});xe(b,"h","hue");xe(b,"s","saturation");xe(b,"l","lightness");$t(b,"rgb",function(){return[this.r,this.g,this.b]});$t(b,"rgba",function(){return[this.r,this.g,this.b,this.a]});$t(b,"hsb",function(){return vn(this.r,this.g,this.b)});$t(b,"hsba",function(){return vn(this.r,this.g,this.b).concat([this.a])});$t(b,"hsl",function(){return De(this.r,this.g,this.b)});$t(b,"hsla",function(){return De(this.r,this.g,this.b).concat([this.a])});b.prototype.toCSS=function(){return b.toCSS(this)};b.prototype.toHex=function(t){return t||this.a>=1?di(this.r,this.g,this.b):vi(this.r,this.g,this.b,this.a)};var Ri={};ie(Ri,{flatten:()=>Pe});function Pe(t){for(var e=Array.prototype.slice.call(t),r=[],n=0;n<e.length;n+=1){var i=e[n];if(Array.isArray(i))for(var o=0;o<i.length;o+=1)r.push(i[o]);else r.push(i)}return r}var vu=Object.freeze({type:ht}),Fs=.5522847498307936;function dr(t,e=3){return t%1===0?t:t.toFixed(e)}function yu(t){var e={type:t.type};return e.type!==ht&&(e.x=t.x,e.y=t.y),e.type===Zt?(e.x1=t.x1,e.y1=t.y1):e.type===gt&&(e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2),e}var R=class{constructor(e,r,n,i){this.commands=e!==void 0?e:[],this.fill=r!==void 0?r:"black",this.stroke=n!==void 0?n:null,this.strokeWidth=i!==void 0?i:1}static combine(){for(var e=Pe(arguments),r,n=[],i=0;i<e.length;i+=1)r=e[i],r.commands?n=n.concat(r.commands):r.shapes&&(n=n.concat(R.combine(r.shapes).commands));return new R(n)}clone(){var e=new R,r=this.commands.length,n;for(e.commands.length=this.commands.length,n=0;n<r;n+=1)e.commands[n]=yu(this.commands[n]);return e.fill=b.clone(this.fill),e.stroke=b.clone(this.stroke),e.strokeWidth=this.strokeWidth,e}extend(e){var r=e.commands||e;Array.prototype.push.apply(this.commands,r)}moveTo(e,r){this.commands.push({type:yt,x:e,y:r})}lineTo(e,r){this.commands.push({type:_t,x:e,y:r})}curveTo(e,r,n,i,o,s){this.commands.push({type:gt,x1:e,y1:r,x2:n,y2:i,x:o,y:s})}quadTo(e,r,n,i){var o=this.commands[this.commands.length-1].x,s=this.commands[this.commands.length-1].y,l=o+2/3*(e-o),f=s+2/3*(r-s),u=l+1/3*(n-o),p=f+1/3*(i-s);this.curveTo(l,f,u,p,n,i)}close(){this.commands.push(vu)}isClosed(){return this.commands.length===0?!1:this.commands[this.commands.length-1].type===ht}addRect(e,r,n,i){this.moveTo(e,r),this.lineTo(e+n,r),this.lineTo(e+n,r+i),this.lineTo(e,r+i),this.close()}addRoundedRect(e,r,n,i,o,s){var l=.44799999999999995,f=o,u=s,p=e,c=e+n,m=r,d=r+i;f=Math.min(f,n*.5),u=Math.min(u,i*.5),this.moveTo(p+f,m),f<n*.5&&this.lineTo(c-o,m),this.curveTo(c-f*l,m,c,m+u*l,c,m+u),u<i*.5&&this.lineTo(c,d-u),this.curveTo(c,d-u*l,c-f*l,d,c-f,d),f<n*.5&&this.lineTo(p+f,d),this.curveTo(p+f*l,d,p,d-u*l,p,d-u),u<i*.5&&this.lineTo(p,m+u),this.curveTo(p,m+u*l,p+f*l,m,p+f,m),this.close()}addEllipse(e,r,n,i){var o=Fs*.5*n,s=Fs*.5*i,l=e+.5*n,f=r+.5*i,u=e+n,p=r+i;this.moveTo(e,f),this.curveTo(e,f-s,l-o,r,l,r),this.curveTo(l+o,r,u,f-s,u,f),this.curveTo(u,f+s,l+o,p,l,p),this.curveTo(l-o,p,e,f+s,e,f),this.close()}addLine(e,r,n,i){this.moveTo(e,r),this.lineTo(n,i)}addQuad(e,r,n,i,o,s,l,f){this.moveTo(e,r),this.lineTo(n,i),this.lineTo(o,s),this.lineTo(l,f),this.close()}addArc(e,r,n,i,o,s,l){l=l||"pie";var f,u,p,c,m,d,v,y,x,I,C,w,T;for(f=n/2,u=i/2,p=Vt(o),c=s,c>=360||c<=-360?(m=4,d=Math.PI/2,v=.5522847498307933,c<0&&(d=-d,v=-v)):(m=Math.ceil(Math.abs(c)/90),d=Vt(c/m),v=4/3*Math.sin(d/2)/(1+Math.cos(d/2)),v===0&&(m=0)),l==="open"?y=0:l==="chord"?y=1:l==="pie"&&(y=2),(f<0||u<0)&&(m=y=-1),x=0;x<=m+y;)I=p,x===0?this.moveTo(e+Math.cos(I)*f,r+Math.sin(I)*u):x>m?x===m+y?this.close():this.lineTo(e,r):(I+=d*(x-1),C=Math.cos(I),w=Math.sin(I),T=[],T.push(e+(C-v*w)*f),T.push(r+(w+v*C)*u),I+=d,C=Math.cos(I),w=Math.sin(I),T.push(e+(C+v*w)*f),T.push(r+(w-v*C)*u),T.push(e+C*f),T.push(r+w*u),R.prototype.curveTo.apply(this,T)),x+=1}colorize(e){var r=arguments;(typeof e!="object"||e instanceof b)&&(e={},r[0]!==void 0&&(e.fill=r[0]),r[1]!==void 0&&(e.stroke=r[1]),r[2]!==void 0&&(e.strokeWidth=r[2]));var n=this.clone();return e.fill&&(n.fill=b.clone(e.fill)),e.stroke&&(n.stroke=b.clone(e.stroke)),(e.strokeWidth||e.strokeWidth===0)&&(n.strokeWidth=e.strokeWidth),n}desaturate(e){var r=this.clone(),n=r.fill,i=r.stroke;return n instanceof b||(n=b.parse(n)),i instanceof b||(i=b.parse(i)),r.fill=n.desaturate(e),r.stroke=i.desaturate(e),r}invert(){var e=this.clone(),r=e.fill,n=e.stroke;return r instanceof b||(r=b.parse(r)),n instanceof b||(n=b.parse(n)),e.fill=r.invert(),e.stroke=n.invert(),e}contours(){for(var e=[],r=[],n,i=0;i<this.commands.length;i+=1)n=this.commands[i],n.type===yt?(r.length!==0&&e.push(r),r=[n]):r.push(n);return r.length!==0&&e.push(r),e}bounds(){if(this._bounds)return this._bounds;if(this.commands.length===0)return new ot(0,0,0,0);for(var e,r,n,i,o,s=Number.MAX_VALUE,l=Number.MAX_VALUE,f=-Number.MAX_VALUE,u=-Number.MAX_VALUE,p,c=0;c<this.commands.length;c+=1)if(p=this.commands[c],p.type===yt||p.type===_t)e=p.x,r=p.y,e<s&&(s=e),r<l&&(l=r),e>f&&(f=e),r>u&&(u=r),n=p;else if(p.type===gt){var m=mi(n.x,n.y,p.x1,p.y1,p.x2,p.y2,p.x,p.y);i=m.x+m.width,o=m.y+m.height,m.x<s&&(s=m.x),i>f&&(f=i),m.y<l&&(l=m.y),o>u&&(u=o),n=p}return new ot(s,l,f-s,u-l)}point(e,r){return r===void 0&&(r=Lr(this.commands,!0,10)),ci(this,e,r)}points(e,r){var n=r&&r.start!==void 0?r.start:0,i=r&&r.end!==void 0?r.end:1;if(this.commands.length===0)return[];e=Math.round(e);var o;r&&r.closed?o=e>1?(i-n)/e:i-n:o=e>1?(i-n)/(e-1):i-n;for(var s=[],l=Lr(this.commands,!0,10),f=0;f<e;f+=1)s.push(this.point(n+o*f,l));return s}length(e){return e===void 0&&(e=20),pi(this,e)}contains(e,r,n){var i=this.points(n!==void 0?n:100);return Mr(i,e,r)}resampleByAmount(e,r){for(var n=r?this.contours():[this.commands],i=new R([],this.fill,this.stroke,this.strokeWidth),o=0;o<n.length;o+=1){var s=new R(n[o]),l={};s.isClosed()&&(l.closed=!0);for(var f=s.points(e,l),u=0;u<f.length;u+=1)u===0?i.moveTo(f[u].x,f[u].y):i.lineTo(f[u].x,f[u].y);s.isClosed()&&i.close()}return i}resampleByLength(e,r){r=r||{};var n=r.force||!1,i=this.contours(),o=[];n||(e=Math.max(e,1));for(var s=0;s<i.length;s+=1){var l=new R(i[s]),f=l.length(),u=Math.ceil(f/e);o=o.concat(l.resampleByAmount(u).commands)}return new R(o,this.fill,this.stroke,this.strokeWidth)}toPathData(e=3){var r,n,i,o,s,l,f,u,p;for(n="",r=0;r<this.commands.length;r+=1)i=this.commands[r],i.x!==void 0&&(o=dr(ve(i.x,-9999,9999),e),s=dr(ve(i.y,-9999,9999),e)),i.x1!==void 0&&(l=dr(ve(i.x1,-9999,9999),e),f=dr(ve(i.y1,-9999,9999),e)),i.x2!==void 0&&(u=dr(ve(i.x2,-9999,9999),e),p=dr(ve(i.y2,-9999,9999),e)),i.type===yt?!isNaN(o)&&!isNaN(s)&&(n+="M"+o+" "+s):i.type===_t?!isNaN(o)&&!isNaN(s)&&(n+="L"+o+" "+s):i.type===Zt?!isNaN(o)&&!isNaN(s)&&!isNaN(l)&&!isNaN(f)&&(n+="Q"+l+" "+f+" "+o+" "+s):i.type===gt?!isNaN(o)&&!isNaN(s)&&!isNaN(l)&&!isNaN(f)&&!isNaN(u)&&!isNaN(p)&&(n+="C"+l+" "+f+" "+u+" "+p+" "+o+" "+s):i.type===ht&&(n+="Z");return n}toSVG(){var e='<path d="';e+=this.toPathData(),e+='"';var r="",n,i;this.fill&&(n=b.parse(this.fill),n.a<1&&(i=n.a),n=b.toHex(n).substring(0,7)),n!=="black"&&n!=="#000000"&&(n==null?r+="fill:none;":r+="fill:"+n+";"),i!==void 0&&(r+="fill-opacity:"+i+";");var o,s;return this.stroke&&(o=b.parse(this.stroke),o.a<1&&(s=o.a),o=b.toHex(o).substring(0,7)),o&&(r+="stroke:"+o+";",r+="stroke-width:"+this.strokeWidth+";"),s!==void 0&&(r+="stroke-opacity:"+s+";"),r&&(e+=' style="'+r+'"'),e+="/>",e}draw(e){var r,n,i;for(e.beginPath(),r=this.commands.length,n=0;n<r;n+=1)i=this.commands[n],i.type===yt?e.moveTo(i.x,i.y):i.type===_t?e.lineTo(i.x,i.y):i.type===Zt?e.quadraticCurveTo(i.x1,i.y1,i.x,i.y):i.type===gt?e.bezierCurveTo(i.x1,i.y1,i.x2,i.y2,i.x,i.y):i.type===ht&&e.closePath();this.fill!==null&&this.fill!==void 0&&(e.fillStyle=b.toCSS(this.fill),e.fill()),this.stroke!==null&&this.stroke!==void 0&&this.strokeWidth!==null&&this.strokeWidth>0&&(e.strokeStyle=b.toCSS(this.stroke),e.lineWidth=this.strokeWidth,e.stroke())}};R.prototype.closePath=R.prototype.close;var Q=class{constructor(e){e?e.shapes||e.commands?this.shapes=[e]:e&&(this.shapes=e):this.shapes=[]}add(e){this.shapes.push(e)}clone(){var e=[],r=this.shapes.length,n;for(e.length=r,n=0;n<r;n+=1)e[n]=this.shapes[n].clone();return new Q(e)}colorize(e){var r=arguments;(typeof e!="object"||e instanceof b)&&(e={},r[0]!==void 0&&(e.fill=r[0]),r[1]!==void 0&&(e.stroke=r[1]),r[2]!==void 0&&(e.strokeWidth=r[2]));var n=[];n.length=this.shapes.length;for(var i=0;i<this.shapes.length;i+=1)n[i]=this.shapes[i].colorize(e);return new Q(n)}desaturate(e){var r=[];r.length=this.shapes.length;for(var n=0;n<this.shapes.length;n+=1)r[n]=this.shapes[n].desaturate(e);return new Q(r)}invert(){var e=[];e.length=this.shapes.length;for(var r=0;r<this.shapes.length;r+=1)e[r]=this.shapes[r].invert();return new Q(e)}bounds(){if(this.shapes.length===0)return new ot(0,0,0,0);var e,r,n,i=this.shapes;for(e=0;e<i.length;e+=1)n=i[e],r===void 0&&(r=n.bounds()),(n.shapes&&n.shapes.length!==0||n.commands&&n.commands.length!==0)&&(r=r.unite(n.bounds()));return r!==void 0?r:new ot(0,0,0,0)}contains(e,r,n){n===void 0&&(n=100);var i,o=this.shapes;for(i=0;i<o.length;i+=1)if(o[i].contains(e,r,n))return!0;return!1}length(e){e===void 0&&(e=10);for(var r=0,n=this.shapes,i=0;i<n.length;i+=1)r+=n[i].length(e);return r}resampleByAmount(e,r){var n;if(!r)return n=new R.combine(this),n.resampleByAmount(e,r);var i=[];i.length=this.shapes.length;for(var o=0;o<this.shapes.length;o+=1)i[o]=this.shapes[o].resampleByAmount(e,r);return new Q(i)}resampleByLength(e){var r=[];r.length=this.shapes.length;for(var n=0;n<this.shapes.length;n+=1)r[n]=this.shapes[n].resampleByLength(e);return new Q(r)}toSVG(){var e=[];e.length=this.shapes.length;for(var r=0;r<this.shapes.length;r+=1)e[r]=this.shapes[r].toSVG();return"<g>"+e.join("")+"</g>"}draw(e){var r,n=this.shapes,i=n.length;for(r=0;r<i;r+=1)n[r].draw(e)}};var W=class{constructor(e){e!==void 0?this.m=e:this.m=[1,0,0,1,0,0]}static identity(){return new W}static _mmult(e,r){return e.m!==void 0&&(e=e.m),r.m!==void 0&&(r=r.m),new W([e[0]*r[0]+e[1]*r[2],e[0]*r[1]+e[1]*r[3],e[2]*r[0]+e[3]*r[2],e[2]*r[1]+e[3]*r[3],e[4]*r[0]+e[5]*r[2]+r[4],e[4]*r[1]+e[5]*r[3]+r[5]])}isIdentity(){var e=this.m;return e[0]===1&&e[1]===0&&e[2]===0&&e[3]===1&&e[4]===0&&e[5]===0}prepend(e){return W._mmult(this.m,e.m)}append(e){return W._mmult(e.m,this.m)}inverse(){var e=this.m,r=e[0]*e[3]-e[1]*e[2];return new W([e[3]/r,-e[1]/r,-e[2]/r,e[0]/r,(e[2]*e[5]-e[3]*e[4])/r,-(e[0]*e[5]-e[1]*e[4])/r])}scale(e,r){return r===void 0&&(r=e),W._mmult([e,0,0,r,0,0],this.m)}translate(e,r){return W._mmult([1,0,0,1,e,r],this.m)}rotate(e){var r=Math.cos(Vt(e)),n=Math.sin(Vt(e));return W._mmult([r,n,-n,r,0,0],this.m)}skew(e,r){var n=Math.PI*e/180,i=Math.PI*r/180;return W._mmult([1,Math.tan(i),-Math.tan(n),1,0,0],this.m)}transformPoint(e){var r=e.x,n=e.y,i=this.m;return new O(r*i[0]+n*i[2]+i[4],r*i[1]+n*i[3]+i[5])}transformPoints(e){for(var r=[],n=0;n<e.length;n+=1)r.push(this.transformPoint(e[n]));return r}transformPath(e){var r=this.m,n=[];n.length=e.commands.length;for(var i=0,o=e.commands.length;i<o;i++){var s=e.commands[i];switch(s.type){case yt:case _t:n[i]={type:s.type,x:s.x*r[0]+s.y*r[2]+r[4],y:s.x*r[1]+s.y*r[3]+r[5]};break;case Zt:n[i]={type:Zt,x:s.x*r[0]+s.y*r[2]+r[4],y:s.x*r[1]+s.y*r[3]+r[5],x1:s.x1*r[0]+s.y1*r[2]+r[4],y1:s.x1*r[1]+s.y1*r[3]+r[5]};break;case gt:n[i]={type:gt,x:s.x*r[0]+s.y*r[2]+r[4],y:s.x*r[1]+s.y*r[3]+r[5],x1:s.x1*r[0]+s.y1*r[2]+r[4],y1:s.x1*r[1]+s.y1*r[3]+r[5],x2:s.x2*r[0]+s.y2*r[2]+r[4],y2:s.x2*r[1]+s.y2*r[3]+r[5]};break;case ht:n[i]={type:ht};break;default:throw new Error("Unknown command type "+s)}}return new R(n,e.fill,e.stroke,e.strokeWidth)}transformText(e){var r=e.clone();return r.transform=this.append(r.transform),r}transformGroup(e){for(var r=[],n=0;n<e.shapes.length;n+=1)r.push(this.transformShape(e.shapes[n]));return new Q(r)}transformShape(e){var r;if(e.shapes)r=this.transformGroup;else if(e.commands)r=this.transformPath;else if(e.text)r=this.transformText;else if(e.x!==void 0&&e.y!==void 0)r=this.transformPoint;else{if(e._transform!==void 0)return e._transform(this.m);if(Array.isArray(e)&&e.length>0)if(e[0].x!==void 0&&e[0].y!==void 0)r=this.transformPoints;else{for(var n=[],i=0;i<e.length;i+=1)n.push(this.transformShape(e[i]));return n}else throw new Error("Don't know how to transform "+e)}return r.call(this,e)}};W.IDENTITY=new W;function An(t){return t.replace(/^\s+|\s+$/g,"")}function Fi(t){return t.replace(/[\s\r\t\n]+/gm," ")}function On(t){var e,r=An(Fi((t||"").replace(/,/g," "))).split(" ");for(e=0;e<r.length;e+=1)r[e]=parseFloat(r[e]);return r}function we(t,e){var r,n,i,o,s,l,f,u,p,c,m,d;e?d=Object.create(e):d={},u=[],p={},p.translate=function(M){var N=On(M),L=N[0],Y=N[1]||0;return new W().translate(L,Y)},p.scale=function(M){var N=On(M),L=N[0],Y=N[1]||L;return new W().scale(L,Y)},p.rotate=function(M){var N,L=On(M),Y=L[0],X=L[1]||0,B=L[2]||0;return N=new W,N=N.translate(X,B),N=N.rotate(Y),N=N.translate(-X,-B),N},p.matrix=function(M){var N=On(M);return new W([N[0],N[1],0,N[2],N[3],0,N[4],N[5],1])};for(var v,y,x,I,C,w,T,E=0;E<t.attributes.length;E+=1)switch(v=t.attributes[E],v.nodeName){case"transform":for(y=An(Fi(v.nodeValue)).replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),m=0;m<y.length;m+=1)x=An(y[m].split("(")[0]),I=y[m].split("(")[1].replace(")",""),c=p[x](I),u.push(c);break;case"visibility":break;case"stroke-linecap":break;case"stroke-linejoin":break;case"stroke-miterlimit":break;case"stroke-width":s=parseFloat(v.nodeValue);break;case"stroke-opacity":o=parseFloat(v.nodeValue);break;case"fill-opacity":n=parseFloat(v.nodeValue);break;case"fill":r=v.nodeValue;break;case"stroke":i=v.nodeValue;break;case"opacity":l=parseFloat(v.nodeValue);break;case"color":f=v.nodeValue;break;case"style":for(C={},w=v.nodeValue.split(";"),m=0;m<w.length;m+=1)T=w[m].split(":"),C[T[0].trim()]=T[1];C.fill&&(r=C.fill),C.stroke&&(i=C.stroke),C["stroke-width"]!==void 0&&(s=parseFloat(C["stroke-width"])),C["stroke-opacity"]!==void 0&&(o=parseFloat(C["stroke-opacity"])),C["fill-opacity"]!==void 0&&(n=parseFloat(C["fill-opacity"])),C.opacity!==void 0&&(l=parseFloat(C.opacity)),C.color&&(f=C.color);break}if(r!==void 0&&(d.fill=r),i!==void 0&&(d.stroke=i),n!==void 0&&(d.fillOpacity=n),o!==void 0&&(d.strokeOpacity=o),s!==void 0&&(d.strokeWidth=s),l!==void 0&&(d.opacity=l),f!==void 0&&f!=="currentColor"&&(d.color=f),u.length>0){for(c=new W,m=0;m<u.length;m+=1)c=c.append(u[m]);c.isIdentity()||(d.transform?d.transform=d.transform.append(c):d.transform=c)}return d}function qe(t,e){var r=e.fill;t.commands&&t.commands.length>0&&r===void 0&&(r="black");var n=e.fillOpacity,i=e.stroke,o=e.strokeOpacity,s=e.opacity,l=e.strokeWidth,f=e.transform,u=e.color;r==="currentColor"&&(r=u===void 0?"black":u),r!==void 0&&(r=b.parse(r),n!==void 0&&(r.a*=n),s!==void 0&&(r.a*=s)),i==="currentColor"&&(i=u===void 0?"black":u),i!==void 0&&(i=b.parse(i),o!==void 0&&(i.a*=o),s!==void 0&&(i.a*=s));var p;f?p=f.transformShape(t).commands:p=t.commands;var c=r===void 0?t.fill:r,m=i===void 0?t.stroke:i,d=l===void 0?t.strokeWidth:l;return d!==void 0&&f!==void 0&&(d*=f.m[0]),new R(p,c,m,d)}function gu(t,e,r,n,i,o,s,l,f){var u,p,c,m,d,v,y,x,I,C,w,T,E,M,N,L,Y,X,B,G,wt,$,lt,k,q,ft,D;for(u=s*(Math.PI/180),p=Math.sin(u),c=Math.cos(u),r=Math.abs(r),n=Math.abs(n),m=c*(l-t)*.5+p*(f-e)*.5,d=c*(f-e)*.5-p*(l-t)*.5,v=m*m/(r*r)+d*d/(n*n),v>1&&(v=Math.sqrt(v),r*=v,n*=v),y=c/r,x=p/r,I=-p/n,C=c/n,w=y*l+x*f,T=I*l+C*f,E=y*t+x*e,M=I*t+C*e,N=(E-w)*(E-w)+(M-T)*(M-T),L=1/N-.25,L<0&&(L=0),Y=Math.sqrt(L),o===i&&(Y=-Y),X=.5*(w+E)-Y*(M-T),B=.5*(T+M)+Y*(E-w),G=Math.atan2(T-B,w-X),wt=Math.atan2(M-B,E-X),$=wt-G,$<0&&o===1?$+=2*Math.PI:$>0&&o===0&&($-=2*Math.PI),lt=Math.ceil(Math.abs($/(Math.PI*.5+.001))),k=[],D=0;D<lt;D+=1)q=G+D*$/lt,ft=G+(D+1)*$/lt,k[D]=[X,B,q,ft,r,n,p,c];return k}function xu(t,e,r,n,i,o,s,l){var f=l*i,u=-s*o,p=s*i,c=l*o,m=.5*(n-r),d=8/3*Math.sin(m*.5)*Math.sin(m*.5)/Math.sin(m),v=t+Math.cos(r)-d*Math.sin(r),y=e+Math.sin(r)+d*Math.cos(r),x=t+Math.cos(n),I=e+Math.sin(n),C=x+d*Math.sin(n),w=I-d*Math.cos(n);return[f*v+u*y,p*v+c*y,f*C+u*w,p*C+c*w,f*x+u*I,p*x+c*I]}var He={svg:function(){return He.g.apply(this,arguments)},g:function(t,e){for(var r=[],n=we(t,e),i,o,s,l,f=0;f<t.childNodes.length;f+=1){if(i=t.childNodes[f],o=i.nodeName,!o)return;s=o.replace(/svg\:/gi,"").toLowerCase(),He[s]!==void 0&&(l=He[s].call(this,i,n),r.push(l))}return new Q(r)},_polyline:function(t){var e=t.getAttribute("points"),r=new R;return e.replace(/([\d\.?]+),([\d\.?]+)/g,function(n,i,o){var s=parseFloat(i),l=parseFloat(o);r.commands.length===0?r.moveTo(s,l):r.lineTo(s,l)}),r},polygon:function(t,e){var r=we(t,e),n=He._polyline(t);return n.close(),qe(n,r)},polyline:function(t,e){var r=we(t,e),n=He._polyline(t);return qe(n,r)},rect:function(t,e){var r=we(t,e),n=parseFloat(t.getAttribute("x")),i=parseFloat(t.getAttribute("y"));n||(n=0),i||(i=0);var o=parseFloat(t.getAttribute("width")),s=parseFloat(t.getAttribute("height"));o||(o=0),s||(s=0),o<0&&(console.error('Error: invalid negative value for <rect> attribute width="'+o+'"'),o=0),s<0&&(console.error('Error: invalid negative value for <rect> attribute height="'+s+'"'),s=0);var l=parseFloat(t.getAttribute("rx")),f=parseFloat(t.getAttribute("ry"));l||(l=0),f||(f=0),l<0&&(console.error('Error: invalid negative value for <rect> attribute rx="'+l+'"'),l=0),f<0&&(console.error('Error: invalid negative value for <rect> attribute ry="'+f+'"'),f=0),(!l||!f)&&(l=f=Math.max(l,f)),l>o/2&&(l=o/2),f>s/2&&(f=s/2);var u=new R;return l&&f?u.addRoundedRect(n,i,o,s,l,f):u.addRect(n,i,o,s),qe(u,r)},ellipse:function(t,e){var r=we(t,e),n=parseFloat(t.getAttribute("cx")),i=parseFloat(t.getAttribute("cy"));n||(n=0),i||(i=0);var o=parseFloat(t.getAttribute("rx")),s=parseFloat(t.getAttribute("ry"));o||(o=0),s||(s=0),o<0&&(console.error('Error: invalid negative value for <ellipse> attribute rx="'+o+'"'),o=0),s<0&&(console.error('Error: invalid negative value for <ellipse> attribute ry="'+s+'"'),s=0);var l=new R;return l.addEllipse(n-o,i-s,o*2,s*2),qe(l,r)},circle:function(t,e){var r=we(t,e),n=parseFloat(t.getAttribute("cx")),i=parseFloat(t.getAttribute("cy"));n||(n=0),i||(i=0);var o=parseFloat(t.getAttribute("r"));o||(o=0),o<0&&(console.error('Error: invalid negative value for <circle> attribute r="'+o+'"'),o=0);var s=new R;return s.addEllipse(n-o,i-o,o*2,o*2),qe(s,r)},line:function(t,e){var r=we(t,e),n=parseFloat(t.getAttribute("x1")),i=parseFloat(t.getAttribute("y1")),o=parseFloat(t.getAttribute("x2")),s=parseFloat(t.getAttribute("y2"));n||(n=0),i||(i=0),o||(o=0),s||(s=0);var l=new R;return l.addLine(n,i,o,s),qe(l,r)},path:function(t,e){var r=we(t,e),n,i,o,s,l,f,u,p,c,m,d,v,y,x,I,C,w,T,E,M,N,L,Y;n=t.getAttribute("d"),n=n.replace(/,/gm," "),n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2"),n=n.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([0-9])([+\-])/gm,"$1 $2"),n=n.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),n=n.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),n=Fi(n),n=An(n),i=function(B){this.tokens=B.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new O(0,0),this.control=new O(0,0),this.current=new O(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return this.isEnd()?!0:this.tokens[this.i+1].match(/^[A-Za-z]$/)!==null},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i+=1,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var G=new O(this.getScalar(),this.getScalar());return this.makeAbsolute(G)},this.getAsControlPoint=function(){var G=this.getPoint();return this.control=G,G},this.getAsCurrentPoint=function(){var G=this.getPoint();return this.current=G,G},this.getReflectedControlPoint=function(){if(this.previousCommand.toLowerCase()!=="c"&&this.previousCommand.toLowerCase()!=="s"&&this.previousCommand.toLowerCase()!=="q"&&this.previousCommand.toLowerCase()!=="t")return this.current;var G=new O(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return G},this.makeAbsolute=function(G){return this.isRelativeCommand()?new O(G.x+this.current.x,G.y+this.current.y):G}};var X=new R;for(o=new i(n),o.reset();!o.isEnd();)switch(o.nextCommand(),o.command){case"M":case"m":for(s=o.getAsCurrentPoint(),X.moveTo(s.x,s.y),o.start=o.current;!o.isCommandOrEnd();)s=o.getAsCurrentPoint(),X.lineTo(s.x,s.y);break;case"L":case"l":for(;!o.isCommandOrEnd();)s=o.getAsCurrentPoint(),X.lineTo(s.x,s.y);break;case"H":case"h":for(;!o.isCommandOrEnd();)l=new O((o.isRelativeCommand()?o.current.x:0)+o.getScalar(),o.current.y),o.current=l,X.lineTo(o.current.x,o.current.y);break;case"V":case"v":for(;!o.isCommandOrEnd();)l=new O(o.current.x,(o.isRelativeCommand()?o.current.y:0)+o.getScalar()),o.current=l,X.lineTo(o.current.x,o.current.y);break;case"C":case"c":for(;!o.isCommandOrEnd();)f=o.current,u=o.getPoint(),p=o.getAsControlPoint(),c=o.getAsCurrentPoint(),X.curveTo(u.x,u.y,p.x,p.y,c.x,c.y);break;case"S":case"s":for(;!o.isCommandOrEnd();)f=o.current,u=o.getReflectedControlPoint(),p=o.getAsControlPoint(),c=o.getAsCurrentPoint(),X.curveTo(u.x,u.y,p.x,p.y,c.x,c.y);break;case"Q":case"q":for(;!o.isCommandOrEnd();)f=o.current,p=o.getAsControlPoint(),c=o.getAsCurrentPoint(),m=f.x+2/3*(p.x-f.x),d=f.y+2/3*(p.y-f.y),v=m+1/3*(c.x-f.x),y=d+1/3*(c.y-f.y),X.curveTo(m,d,v,y,c.x,c.y);break;case"T":case"t":for(;!o.isCommandOrEnd();)f=o.current,p=o.getReflectedControlPoint(),o.control=p,c=o.getAsCurrentPoint(),m=f.x+2/3*(p.x-f.x),d=f.y+2/3*(p.y-f.y),v=m+1/3*(c.x-f.x),y=d+1/3*(c.y-f.y),X.curveTo(m,d,v,y,c.x,c.y);break;case"A":case"a":for(;!o.isCommandOrEnd();)for(f=o.current,x=o.getScalar(),I=o.getScalar(),C=o.getScalar(),w=o.getScalar(),T=o.getScalar(),c=o.getAsCurrentPoint(),E=c.x,M=c.y,N=gu(E,M,x,I,w,T,C,f.x,f.y),L=0;L<N.length;L+=1)Y=xu.apply(this,N[L]),X.curveTo.apply(X,Y);break;case"Z":case"z":X.close(),o.current=o.start;break}return qe(X,r)}};function Ds(t){var e,r=t.tagName.toLowerCase();return He[r]===void 0?null:(e=He[r].call(this,t),e)}function Pu(t){var e=new ks.DOMParser({errorHandler:function(r,n){throw new Error('Could not parse string "'+String(t)+'": '+n)}}).parseFromString(t);return e?Ds(e.documentElement):null}var mt=class{constructor(e,r,n){this.x=e===void 0?0:e,this.y=r===void 0?0:r,this.z=n===void 0?0:n}static up(){return new mt(0,1,0)}static dot(e,r){return e.x*r.x+e.y*r.y+e.z*r.z}static cross(e,r){return new mt(e.y*r.z-e.z*r.y,e.z*r.x-e.x*r.z,e.x*r.y-e.y*r.x)}toString(){return"["+this.x+", "+this.y+", "+this.z+"]"}toArray(){var e=[];return e.push(this.x),e.push(this.y),e.push(this.z),e}getLength(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}normalize(){var e,r;return e=this.getLength(),e===0?this:(r=1/e,new mt(this.x*r,this.y*r,this.z*r))}add(e){return new mt(this.x+e.x,this.y+e.y,this.z+e.z)}subtract(e){return new mt(this.x-e.x,this.y-e.y,this.z-e.z)}transform(e){var r,n,i,o,s;return s=e,r=this.x*s.m[0]+this.y*s.m[4]+this.z*s.m[8]+s.m[12],n=this.x*s.m[1]+this.y*s.m[5]+this.z*s.m[9]+s.m[13],i=this.x*s.m[2]+this.y*s.m[6]+this.z*s.m[10]+s.m[14],o=this.x*s.m[3]+this.y*s.m[7]+this.z*s.m[11]+s.m[15],new mt(r/o,n/o,i/o)}};mt.ZERO=new mt(0,0,0);var Nt=class{constructor(e){e!==void 0?this.m=e:(e=new Float32Array(16),e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this.m=e)}static perspective(e,r,n,i){var o=new Float32Array(Nt.IDENTITY.m),s=1/Math.tan(e*.5);return o[0]=s/r,o[1]=o[2]=o[3]=0,o[5]=s,o[4]=o[6]=o[7]=0,o[8]=o[9]=0,o[10]=-i/(n-i),o[11]=1,o[12]=o[13]=o[15]=0,o[14]=n*i/(n-i),new Nt(o)}static lookAt(e,r,n){var i,o,s,l,f,u,p;return i=new Float32Array(16),o=r.subtract(e).normalize(),s=mt.cross(n,o).normalize(),l=mt.cross(o,s).normalize(),f=-mt.dot(s,e),u=-mt.dot(l,e),p=-mt.dot(o,e),i[0]=s.x,i[1]=l.x,i[2]=o.x,i[3]=0,i[4]=s.y,i[5]=l.y,i[6]=o.y,i[7]=0,i[8]=s.z,i[9]=l.z,i[10]=o.z,i[11]=0,i[12]=f,i[13]=u,i[14]=p,i[15]=1,new Nt(i)}invert(){var e,r,n,i,o,s,l,f,u,p,c,m,d,v,y,x,I,C,w,T,E,M,N,L,Y,X,B,G,wt,$,lt,k,q,ft,D,vt,V,nt,ct,z;return e=this.m[0],r=this.m[1],n=this.m[2],i=this.m[3],o=this.m[4],s=this.m[5],l=this.m[6],f=this.m[7],u=this.m[8],p=this.m[9],c=this.m[10],m=this.m[11],d=this.m[12],v=this.m[13],y=this.m[14],x=this.m[15],I=c*x-m*y,C=p*x-m*v,w=p*y-c*v,T=u*x-m*d,E=u*y-c*d,M=u*v-p*d,N=s*I-l*C+f*w,L=-(o*I-l*T+f*E),Y=o*C-s*T+f*M,X=-(o*w-s*E+l*M),B=1/(e*N+r*L+n*Y+i*X),G=l*x-f*y,wt=s*x-f*v,$=s*y-l*v,lt=o*x-f*d,k=o*y-l*d,q=o*v-s*d,ft=l*m-f*c,D=s*m-f*p,vt=s*c-l*p,V=o*m-f*u,nt=o*c-l*u,ct=o*p-s*u,z=new Float32Array(16),z[0]=N*B,z[4]=L*B,z[8]=Y*B,z[12]=X*B,z[1]=-(r*I-n*C+i*w)*B,z[5]=(e*I-n*T+i*E)*B,z[9]=-(e*C-r*T+i*M)*B,z[13]=(e*w-r*E+n*M)*B,z[2]=(r*G-n*wt+i*$)*B,z[6]=-(e*G-n*lt+i*k)*B,z[10]=(e*wt-r*lt+i*q)*B,z[14]=-(e*$-r*k+n*q)*B,z[3]=-(r*ft-n*D+i*vt)*B,z[7]=(e*ft-n*V+i*nt)*B,z[11]=-(e*D-r*V+i*ct)*B,z[15]=(e*vt-r*nt+n*ct)*B,new Nt(z)}multiply(e){var r=new Float32Array(16);return r[0]=this.m[0]*e.m[0]+this.m[1]*e.m[4]+this.m[2]*e.m[8]+this.m[3]*e.m[12],r[1]=this.m[0]*e.m[1]+this.m[1]*e.m[5]+this.m[2]*e.m[9]+this.m[3]*e.m[13],r[2]=this.m[0]*e.m[2]+this.m[1]*e.m[6]+this.m[2]*e.m[10]+this.m[3]*e.m[14],r[3]=this.m[0]*e.m[3]+this.m[1]*e.m[7]+this.m[2]*e.m[11]+this.m[3]*e.m[15],r[4]=this.m[4]*e.m[0]+this.m[5]*e.m[4]+this.m[6]*e.m[8]+this.m[7]*e.m[12],r[5]=this.m[4]*e.m[1]+this.m[5]*e.m[5]+this.m[6]*e.m[9]+this.m[7]*e.m[13],r[6]=this.m[4]*e.m[2]+this.m[5]*e.m[6]+this.m[6]*e.m[10]+this.m[7]*e.m[14],r[7]=this.m[4]*e.m[3]+this.m[5]*e.m[7]+this.m[6]*e.m[11]+this.m[7]*e.m[15],r[8]=this.m[8]*e.m[0]+this.m[9]*e.m[4]+this.m[10]*e.m[8]+this.m[11]*e.m[12],r[9]=this.m[8]*e.m[1]+this.m[9]*e.m[5]+this.m[10]*e.m[9]+this.m[11]*e.m[13],r[10]=this.m[8]*e.m[2]+this.m[9]*e.m[6]+this.m[10]*e.m[10]+this.m[11]*e.m[14],r[11]=this.m[8]*e.m[3]+this.m[9]*e.m[7]+this.m[10]*e.m[11]+this.m[11]*e.m[15],r[12]=this.m[12]*e.m[0]+this.m[13]*e.m[4]+this.m[14]*e.m[8]+this.m[15]*e.m[12],r[13]=this.m[12]*e.m[1]+this.m[13]*e.m[5]+this.m[14]*e.m[9]+this.m[15]*e.m[13],r[14]=this.m[12]*e.m[2]+this.m[13]*e.m[6]+this.m[14]*e.m[10]+this.m[15]*e.m[14],r[15]=this.m[12]*e.m[3]+this.m[13]*e.m[7]+this.m[14]*e.m[11]+this.m[15]*e.m[15],new Nt(r)}translate(e,r,n){var i=new Float32Array(this.m);return i[12]+=e,i[13]+=r,i[14]+=n,new Nt(i)}};Nt.IDENTITY=new Nt;var Nn=null,It=class{constructor(e){var r=Array.prototype.slice.call(arguments,1),n=arguments[1],i=arguments[2],o=arguments[arguments.length-1],s;this.text=String(e),typeof n=="number"?(this._x=n,this._y=i,r=r.slice(2)):Array.isArray(n)?(this._x=n[0],this._y=n[1],r=r.slice(1)):typeof n=="object"?(this._x=n.x!==void 0?n.x:0,this._y=n.y!==void 0?n.y:0,r=r.slice(1)):(this._x=0,this._y=0),typeof o=="object"?(s=o,n!==o&&(r=r.slice(0,r.length-1))):s={},r.length?this.fontFamily=r.shift():this.fontFamily=s.fontFamily||s.fontName||s.font||"sans-serif",r.length?this.fontSize=r.shift():this.fontSize=s.fontSize||24,r.length?this.textAlign=r.shift():this.textAlign=s.align||s.textAlign||"left",r.length?this.fill=r.shift():this.fill=s.fill||"black",this.transform=new W}static _getDummyContext(){return Nn||(typeof document<"u"?Nn=document.createElement("canvas").getContext("2d"):Nn={font:"10px sans-serif",measureText:function(e){var r=parseFloat(this.font);return{width:e.length*r*.6}}}),Nn}clone(){var e=new It;return e.text=this.text,e._x=this._x,e._y=this._y,e.fontFamily=this.fontFamily,e.fontSize=this.fontSize,e.textAlign=this.textAlign,e.fill=b.clone(this.fill),e.transform=this.transform,e}_getFont(){return this.fontSize+"px "+this.fontFamily}colorize(e){var r=this.clone();return r.fill=b.clone(e),r}draw(e){e.save(),e.font=this._getFont(),e.textAlign=this.textAlign;var r=this.transform.m;e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),e.fillStyle=b.toCSS(this.fill),e.fillText(this.text,this._x,this._y),e.restore()}bounds(){var e=It._getDummyContext(),r,n=this._x;return e.font=this._getFont(),r=e.measureText(this.text),this.textAlign==="center"?n=this._x-r.width/2:this.textAlign==="right"&&(n=this._x-r.width),new ot(n,this._y-this.fontSize,r.width,this.fontSize*1.2)}toSVG(){var e="<text";e+=' x="'+this._x+'"',e+=' y="'+this._y+'"',e+=' font-family="'+this.fontFamily+'"',e+=' font-size="'+this.fontSize+'"';var r;if(this.textAlign==="left"?r="start":this.textAlign==="center"?r="middle":this.textAlign==="right"&&(r="end"),e+=' text-anchor="'+r+'"',this.fill!=="black"){var n=b.parse(this.fill);e+=' fill="'+n.toHex(!0)+'"',n.a<1&&(e+=' opacity="'+n.a+'"')}return this.transform.isIdentity()||(e+=' transform="matrix('+this.transform.m.join(",")+')"'),e+=">",e+=this.text,e+="</text>",e}};var wu={translate:function(t){return t||(t=O.ZERO),new W().translate(t.x,t.y).transformShape(this)},scale:function(t,e){e||(e=O.ZERO);let r,n;typeof t=="number"?(r=t,n=t):(r=t.x,n=t.y);let i=new W;return i=i.translate(e.x,e.y),i=i.scale(r,n),i=i.translate(-e.x,-e.y),i.transformShape(this)},rotate:function(t,e){e||(e=O.ZERO);let r=new W;return r=r.translate(e.x,e.y),r=r.rotate(t),r=r.translate(-e.x,-e.y),r.transformShape(this)},skew:function(t,e){e||(e=O.ZERO);let r=new W;return r=r.translate(e.x,e.y),r=r.skew(t.x,t.y),r=r.translate(-e.x,-e.y),r.transformShape(this)}},Qt=wu;function _u(t){return Array.isArray(t)&&(t=t[0]),t?typeof t.draw=="function"||typeof t.x=="number"&&typeof t.y=="number"?!0:typeof t.r=="number"&&typeof t.g=="number"&&typeof t.b=="number":!1}function Ws(t,e){t.fillStyle="blue",t.beginPath();for(var r,n=0;n<e.length;n+=1)r=e[n],t.moveTo(r.x,r.y),t.arc(r.x,r.y,2,0,Math.PI*2,!1);t.fill()}function Us(t,e){for(var r,n=0,i=e.length;n<i;n+=1)r=e[n],t.fillStyle=b.toCSS(r),t.fillRect(r.x-2,r.y-2,4,4)}function qs(t,e){t.save();for(var r,n=0;n<e.length;n+=1)r=e[n],t.strokeStyle="black",t.strokeWidth=1,t.rect(r.x,r.y,r.width,r.height),t.stroke();t.restore()}function Hs(t,e){t.save();for(var r,n=0;n<e.length;n+=1)r=e[n],t.fillStyle=b.toCSS(r),t.fillRect(0,0,30,30),t.translate(30,0);t.restore()}function Gs(t,e){var r=e,n=!1;if(Array.isArray(e)&&(r=e[0],n=!0),r)if(typeof r.draw=="function")if(n)for(var i=0,o=e.length;i<o;i+=1)Gs(t,e[i]);else e.draw(t);else typeof r.x=="number"&&typeof r.y=="number"?typeof r.r=="number"&&typeof r.g=="number"&&typeof r.b=="number"?Us(t,n?e:[e]):typeof r.width=="number"&&typeof r.height=="number"?qs(t,n?e:[e]):Ws(t,n?e:[e]):typeof r.r=="number"&&typeof r.g=="number"&&typeof r.b=="number"&&Hs(t,n?e:[e])}function Cu(t,e){e=e||{};var r=e.header===!0,n=e.x!==void 0?e.x:0,i=e.y!==void 0?e.y:0,o=e.width!==void 0?e.width:500,s=e.height!==void 0?e.height:500,l="";if(t){if(typeof t.toSVG=="function")l=t.toSVG();else if(Array.isArray(t)){l=`<g>
`;for(var f=0,u=t.length;f<u;f+=1)l+=vg.toSVG(t[f])+`
`;l+=`</g>
`}}return r&&(l=`<?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="${n}" y="${i}" width="${o}px" height="${s}px" viewBox="${n} ${i} ${o} ${s}">
`+l+`
</svg>
`),l}var Et=Nr(el(),1);function rl(t){var e={type:t.type};return e.type!==ht&&(e.x=t.x,e.y=t.y),e.type===Zt?(e.x1=t.x1,e.y1=t.y1):e.type===gt&&(e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2),e}var vp="horizontal",yp="vertical",gp="e",xp="w",Pp="n",wp="s";function Jr(t){var e,r,n;if(t){if(typeof t.bounds=="function")return t.bounds();if(t.x!==void 0&&t.y!==void 0)return t.width!==void 0&&t.height!==void 0?new ot(t.x,t.y,t.width,t.height):new ot(t.x,t.y,0,0);if(t.r!==void 0&&t.g!==void 0&&t.b!==void 0)return new vg.Rect(0,0,30,30);if(Array.isArray(t)){if(e=null,n=t.length,n>0&&t[0].r!==void 0&&t[0].g!==void 0&&t[0].b!==void 0)return new ot(0,0,t.length*30,30);for(r=0;r<n;r+=1)e?e=e.unite(vg.bounds(t[r])):e=vg.bounds(t[r]);return e||new ot}else return new ot}else return new ot}function _p(t,e,r,n){var i=t-r/2,o=e-n/2;return new ot(i,o,r,n)}function Cp(t,e){return new O(t,e)}function Ip(t,e,r,n){return new ot(t,e,r,n)}function Ui(){for(var t=Pe(arguments),e=[],r=0;r<t.length;r+=1)t[r]&&t[r].length!==0&&e.push(t[r]);return new Q(e)}function Tp(t){return R.combine(t)}function il(t){if(!t)return[];var e;if(t.commands){var r,n=[];for(e=0;e<t.commands.length;e+=1)r=t.commands[e],r.x!==void 0&&n.push(new O(r.x,r.y));return n}var i=[];for(e=0;e<t.shapes.length;e+=1)i=i.concat(vg.shapePoints(t.shapes[e]));return i}var Ep=il;function bp(t,e,r,n){return t?t.colorize(e,r,n):null}function Op(t,e){return t?t.translate?t.translate(e):Qt.translate.apply(t,[e]):null}function qi(t,e,r){return t?t.scale?t.scale(e,r):Qt.scale.apply(t,[e,r]):null}function Ap(t,e,r){return t?t.rotate?t.rotate(e,r):Qt.rotate.apply(t,[e,r]):null}function Np(t,e,r){return t?t.skew?t.skew(e,r):Qt.skew.apply(t,[e,r]):null}function Sp(t,e,r,n,i,o){var s,l,f,u,p=[],c=0,m=0,d=0,v=1,y=1;for(s=0;s<e;s+=1){for(l=new W,f=0;f<r.length;f+=1)u=r[f],u==="t"?l=l.translate(c,m):u==="r"?l=l.rotate(d):u==="s"&&(l=l.scale(v,y));Array.isArray(t)&&t.length>0&&t[0].x!==void 0&&t[0].y!==void 0?p=p.concat(l.transformShape(t)):p.push(l.transformShape(t)),c+=n.x,m+=n.y,d+=i,v+=o.x,y+=o.y}return p}function Lp(t,e,r,n,i){if(!t)return null;i=i!==void 0?i:!1;var o,s,l,f=vg.bounds(t),u=f.x,p=f.y,c=f.width,m=f.height;return c=c>1e-12?c:0,m=m>1e-12?m:0,o=new W,o=o.translate(e.x,e.y),i?(s=c>0?r/c:1,l=m>0?n/m:1):(s=c>0?r/c:Number.MAX_VALUE,l=m>0?n/m:Number.MAX_VALUE,s=l=Math.min(s,l)),o=o.scale(s,l),o=o.translate(-c/2-u,-m/2-p),o.transformShape(t)}function Mp(t,e,r){if(!t)return null;if(!e)return t;var n=vg.bounds(e),i=n.x,o=n.y,s=n.width,l=n.height;return vg.fit(t,{x:i+s/2,y:o+l/2},s,l,r)}function Xp(t,e,r,n){if(!t)return null;var i=new W;i=i.translate(r.x,r.y),i=i.rotate(e*2-180),i=i.scale(-1,1),i=i.translate(-r.x,-r.y);var o=i.transformShape(t);return n?Array.isArray(t)&&t.length>0?t.concat(o):new Q([t,o]):o}function Yp(t,e){if(!t)return 0;var r=20;return e&&e.precision&&(r=e.precision),t.length(r)}function Bp(t,e){return t?t.resampleByLength(e):null}function Rp(t,e,r){return t?t.resampleByAmount(e,r):null}function Fp(t,e,r){var n,i,o;if(t.commands){var s=new R([],t.fill,t.stroke,t.strokeWidth);for(n=0;n<t.commands.length;n+=1){i=(r(0,1)-.5)*e.x*2,o=(r(0,1)-.5)*e.y*2;var l=t.commands[n];l.type===yt?s.moveTo(l.x+i,l.y+o):l.type===_t?s.lineTo(l.x+i,l.y+o):l.type===gt?s.curveTo(l.x1,l.y1,l.x2,l.y2,l.x+i,l.y+o):l.type===ht&&s.close()}return s}else if(t.shapes){var f=[];for(f.length=t.shapes.length,n=0;n<t.shapes.length;n+=1)f[n]=vg._wigglePoints(t.shapes[n],e,r);return new Q(f)}else if(Array.isArray(t)&&t.length>0&&t[0].x!==void 0&&t[0].y!==void 0){var u=[];for(u.length=t.length,n=0;n<t.length;n+=1)i=(r(0,1)-.5)*e.x*2,o=(r(0,1)-.5)*e.y*2,u[n]=new O(t[n].x+i,t[n].y+o);return u}else{var p=[];for(p.length=t.length,n=0;n<t.length;n+=1)p[n]=vg._wigglePoints(t[n],e,r);return p}}function kp(t,e,r){if(!t)return null;r=r!==void 0?r:Math.random();var n=Mt(r);return e===void 0?e={x:10,y:10}:typeof e=="number"&&(e={x:e,y:e}),vg._wigglePoints(t,e,n)}function Dp(t,e,r){var n;if(t.commands){var i,o,s,l=t.contours(),f=[];for(n=0;n<l.length;n+=1)i=(r(0,1)-.5)*e.x*2,o=(r(0,1)-.5)*e.y*2,s=new W().translate(i,o),f=f.concat(s.transformShape(new R(l[n])).commands);return new R(f,t.fill,t.stroke,t.strokeWidth)}else if(t.shapes){var u=[];for(u.length=t.shapes.length,n=0;n<t.shapes.length;n+=1)u[n]=vg._wiggleContours(t.shapes[n],e,r);return new Q(u)}else{var p=[];for(p.length=t.length,n=0;n<t.length;n+=1)p[n]=vg._wiggleContours(t[n],e,r);return p}}function Wp(t,e,r){if(!t)return null;r=r!==void 0?r:Math.random();var n=Mt(r);return e===void 0?e={x:10,y:10}:typeof e=="number"&&(e={x:e,y:e}),vg._wiggleContours(t,e,n)}function Up(t,e,r){if(t.commands)return t;if(t.shapes)return new Q(vg._wigglePaths(t.shapes,e,r));if(Array.isArray(t)){for(var n,i,o,s,l=[],f=0;f<t.length;f+=1)n=t[f],n.commands?(i=(r(0,1)-.5)*e.x*2,o=(r(0,1)-.5)*e.y*2,s=new W().translate(i,o),l.push(s.transformShape(n))):n.shapes&&l.push(vg._wigglePaths(n,e,r));return l}}function qp(t,e,r){if(!t)return null;r=r!==void 0?r:Math.random();var n=Mt(r);return e===void 0?e={x:10,y:10}:typeof e=="number"&&(e={x:e,y:e}),vg._wigglePaths(t,e,n)}function Hp(t,e,r){if(!t)return[];r=r!==void 0?r:Math.random();var n,i,o,s,l,f,u,p,c=Mt(r),m=t.bounds(),d=m.x,v=m.y,y=m.width,x=m.height,I=t.contours(),C=[],w=[],T=5;for(n=0;n<I.length;n++)o=new R(I[n]),s=o.commands.length,C.push(o.points(s*T,{closed:!0}));for(n=0;n<e;n+=1)for(l=100;l>0;){for(f=0,u=d+c(0,1)*y,p=v+c(0,1)*x,i=0;i<C.length;i++)Mr(C[i],u,p)&&(f+=1);if(f%2){w.push(new O(u,p));break}l-=1}return w}function Gp(t,e){if(!t)return null;for(var r,n=new R,i=0;i<t.length;i+=1)r=t[i],i===0?n.moveTo(r.x,r.y):n.lineTo(r.x,r.y);return e&&n.close(),n.fill=null,n.stroke=b.BLACK,n}function Vp(t,e,r,n){if(!t)return null;var i,o,s,l=e.x,f=e.y,u=vg.bounds(t);return r==="left"?i=l-u.x:r==="right"?i=l-u.x-u.width:r==="center"?i=l-u.x-u.width/2:i=0,n==="top"?o=f-u.y:n==="bottom"?o=f-u.y-u.height:n==="middle"?o=f-u.y-u.height/2:o=0,s=new W().translate(i,o),s.transformShape(t)}function zp(t,e,r,n){if(!t)return null;r=r!==void 0?r:1,n=n||O.ZERO;var i,o,s;if(t.commands){var l=new R([],t.fill,t.stroke,t.strokeWidth),f,u,p,c,m;for(i=0;i<t.commands.length;i+=1)if(f=t.commands[i],f.type===yt||f.type===_t||f.type===gt)o=zt(f.x+n.x,e,r)-n.x,s=zt(f.y+n.y,e,r)-n.y,f.type===yt?l.moveTo(o,s):f.type===_t?l.lineTo(o,s):f.type===gt&&(u=zt(f.x1+n.x,e,r)-n.x,p=zt(f.y1+n.y,e,r)-n.y,c=zt(f.x2+n.x,e,r)-n.x,m=zt(f.y2+n.y,e,r)-n.y,l.curveTo(u,p,c,m,o,s));else if(f.type===ht)l.close();else throw new Error("Invalid path command "+f);return l}else if(t.shapes){var d=[];for(d.length=t.shapes.length,i=0;i<t.shapes.length;i+=1)d[i]=vg.snap(t.shapes[i],e,r,n);return new Q(d)}else if(Array.isArray(t)&&t.length>0&&t[0].x!==void 0&&t[0].y!==void 0){var v,y=[];for(y.length=t.length,i=0;i<t.length;i+=1)v=t[i],o=zt(v.x+n.x,e,r)-n.x,s=zt(v.y+n.y,e,r)-n.y,y[i]=new O(o,s);return y}else{var x=[];for(x.length=t.length,i=0;i<t.length;i+=1)x[i]=vg.snap(t[i],e,r,n);return x}}function Zp(t,e,r){if(!t)return null;if(!e)return t;var n,i,o=[],s,l=[];if(t.commands){var f=!0;for(n=0;n<t.commands.length;n+=1)i=rl(t.commands[n]),(i.x===void 0||r&&e.contains(i.x,i.y)||!r&&!e.contains(i.x,i.y))&&(f&&i.type!==yt&&(i.type=yt),o.push(i),i.type===yt?f=!1:i.type===ht&&(f=!0));return new R(o,t.fill,t.stroke,t.strokeWidth)}else if(t.shapes){var u=[];for(u.length=t.shapes.length,n=0;n<t.shapes.length;n+=1)u[n]=vg.deletePoints(t.shapes[n],e,r);return new Q(u)}else if(Array.isArray(t)&&t.length>0&&t[0].x!==void 0&&t[0].y!==void 0){for(n=0;n<t.length;n+=1)s=t[n],(r&&e.contains(s.x,s.y)||!r&&!e.contains(s.x,s.y))&&l.push(rl(s));return l}else{var p=[];for(p.length=t.length,n=0;n<t.length;n+=1)p[n]=vg.deletePoints(t[n],e,r);return p}}function Jp(t,e,r){if(!t||t.commands)return null;if(t.shapes)return new Q(vg.deletePaths(t.shapes,e,r));if(Array.isArray(t)){if(!e)return t;for(var n,i,o,s,l,f=[],u=t,p=0;p<u.length;p+=1)if(i=u[p],i.commands){for(o=!1,n=0;n<i.commands.length;n+=1)if(s=i.commands[n],s.x!==void 0&&e.contains(s.x,s.y)){o=!0;break}r&&!o||o&&!r||f.push(i)}else i.shapes&&(l=vg.deletePaths(i,e,r),l.length!==0&&f.push(l));return f}}function jp(t,e,r,n){if(t===null||e===null)return null;if(r==="points")return vg.deletePoints(t,e,n);if(r==="paths")return vg.deletePaths(t,e,n);throw new Error("Invalid scope.")}function $p(t,e){if(!t)return O.ZERO;t.shapes&&(t=new R(vg.combinePaths(t))),e=e%1,e<0&&(e=1+e);var r=t.point(e);return new O(r.x,r.y)}function Qp(t,e,r,n,i,o,s){if(!t)return[];if(e===null)return[];n==="trailing"&&(t=t.slice(),t.reverse());var l,f,u,p,c,m,d=e.length()-o,v=o/e.length(),y=0,x=[];function I(C){if(n==="distributed"){var w=d/(r*t.length-1);f=y*w/d,f=v+f*(1-2*v)}else f=y*i%d/d,f=v+f*(1-v),n==="trailing"&&(f=1-f);u=e.point(f),p=e.point(f+1e-7),c=geo.angle(u.x,u.y,p.x,p.y),s&&(u=geo.coordinates(u.x,u.y,c-90,s)),m=new W,m=m.translate(u.x,u.y),m=m.rotate(c),x.push(m.transformShape(C)),y+=1}for(l=0;l<r;l+=1)_.each(t,I);return x}function Kp(t){return t.x!==void 0?t.x:t.bounds().x}function tc(t){return t.y!==void 0?t.y:t.bounds().y}function ec(t){return function(e){if(e.x!==void 0&&e.y!==void 0)return We(e.x,e.y,t.x,t.y);var r=e.bounds().centerPoint();return We(r.x,r.y,t.x,t.y)}}function rc(t){return function(e){if(e.x!==void 0&&e.y!==void 0)return yn(e.x,e.y,t.x,t.y);var r=e.bounds().centerPoint();return yn(r.x,r.y,t.x,t.y)}}function nc(t,e,r){if(!t)return null;r=r||O.ZERO;var n={x:vg._x,y:vg._y,angle:vg._angleToPoint(r),distance:vg._distanceToPoint(r)};if(e=n[e],e===void 0)return t;var i=t.slice(0);return i.sort(function(o,s){var l=e(o),f=e(s);return l<f?-1:l>f?1:0}),i}function ic(){return new Q(Pe(arguments))}function oc(t){if(t)if(t.shapes){var e,r,n=[];for(e=0;e<t.shapes.length;e+=1)r=t.shapes[e],r.commands?n.push(r):r.shapes&&(n=n.concat(vg.ungroup(r)));return n}else return t.commands?[t]:[];else return[]}function Hi(t){if(!t)return O.ZERO;var e=vg.bounds(t);return new O(e.x+e.width/2,e.y+e.height/2)}function sc(t,e,r){if(!t||!e)return null;var n=new R,i=t.bounds(),o=e.bounds();if(r===vg.HORIZONTAL){var s=(o.x-(i.x+i.width))/2;n.moveTo(i.x+i.width,i.y),n.curveTo(i.x+i.width+s,i.y,o.x-s,o.y,o.x,o.y),n.lineTo(o.x,o.y+o.height),n.curveTo(o.x-s,o.y+o.height,i.x+i.width+s,i.y+i.height,i.x+i.width,i.y+i.height),n.close()}else{var l=(o.y-(i.y+i.height))/2;n.moveTo(i.x,i.y+i.height),n.curveTo(i.x,i.y+i.height+l,o.x,o.y-l,o.x,o.y),n.lineTo(o.x+o.width,o.y),n.curveTo(o.x+o.width,o.y-l,i.x+i.width,i.y+i.height+l,i.x+i.width,i.y+i.height),n.close()}return n}var lc={union:Et.default.ClipType.ctUnion,difference:Et.default.ClipType.ctDifference,intersection:Et.default.ClipType.ctIntersection,xor:Et.default.ClipType.ctXor};function ac(t){var e=[],r,n,i,o,s;for(r=0;r<t.length;r+=1){for(n=[],i=t[r],o=0;o<i.length;o+=1)s=i[o],s.type!==ht&&n.push({X:s.x,Y:s.y});e.push(n)}return e}function nl(t){if(!window.PathKit)throw new Error("PathKit module not found.");var e=window.PathKit;if(t.type===yt)return[e.MOVE_VERB,t.x,t.y];if(t.type===_t)return[e.LINE_VERB,t.x,t.y];if(t.type===gt)return[e.CUBIC_VERB,t.x1,t.y1,t.x2,t.y2,t.x,t.y];if(t.type===ht)return[e.CLOSE_VERB]}var Wi;function fc(t,e,r){if(!window.PathKit)throw new Error("PathKit module not found.");var n=window.PathKit;Wi||(Wi={union:n.PathOp.UNION,difference:n.PathOp.DIFFERENCE,intersection:n.PathOp.INTERSECT,xor:n.PathOp.XOR});var i=t.commands.map(nl),o=e.commands.map(nl),s=n.FromCmds(i),l=n.FromCmds(o);s.op(l,Wi[r]);var f=s.toCmds(),u=new R;return f.forEach(function(p){p[0]===n.MOVE_VERB?u.moveTo(p[1],p[2]):p[0]===n.LINE_VERB?u.lineTo(p[1],p[2]):p[0]===n.CUBIC_VERB?u.curveTo(p[1],p[2],p[3],p[4],p[5],p[6]):p[0]===n.CLOSE_VERB&&u.closePath()}),s.delete(),l.delete(),u}function uc(t,e,r){if(t.commands||(t=R.combine(t)),e.commands||(e=R.combine(e)),typeof window<"u"&&window.PathKit&&window.PathKit.NewPath)return vg._compoundPathKit(t,e,r);var n=t.resampleByLength(1).contours(),i=e.resampleByLength(1).contours(),o=vg._compoundToPoints(n),s=vg._compoundToPoints(i),l=100;Et.default.JS.ScaleUpPaths(o,l),Et.default.JS.ScaleUpPaths(s,l);var f=new Et.default.Clipper;f.AddPaths(o,Et.default.PolyType.ptSubject,t.isClosed()),f.AddPaths(s,Et.default.PolyType.ptClip,e.isClosed());var u=new Et.default.Paths;f.Execute(lc[r],u,Et.default.PolyFillType.pftNonZero,Et.default.PolyFillType.pftNonZero),u=Et.default.JS.Clean(u,.1*l),Et.default.JS.ScaleDownPaths(u,l);var p=new R,c,m,d;for(c=0;c<u.length;c+=1){for(d=u[c],m=0;m<d.length;m+=1)m===0?p.moveTo(d[m].X,d[m].Y):p.lineTo(d[m].X,d[m].Y);(d[0].X!==d[d.length-1].X||d[0].Y!==d[d.length-1].Y)&&p.closePath()}return p}function hc(t,e){let r=[],n={},i=0;t.forEach(f=>{i===0?n._in=f:i===1?n._pt=f:i===2&&(n._out=f),i+=1,i===3&&(r.push(n),i=0,n={})});let o=[],s=r.length;for(e&&(s+=1),i=0;i<s;i+=1){let f=r[i%r.length];i===0?o.push({cmd:"moveto",pt:f._pt}):(n={cmd:"curveto",pt:f._pt,ctrl1:r[i-1]._out,ctrl2:f._in},o.push(n))}let l=new R;return o.forEach(f=>{f.cmd==="moveto"?l.moveTo(f.pt.x,f.pt.y):f.cmd==="curveto"&&l.curveTo(f.ctrl1.x,f.ctrl1.y,f.ctrl2.x,f.ctrl2.y,f.pt.x,f.pt.y)}),l}function pc(t,e){if(!e||e.length===0)return t;let r=vg.toPoints(t),n=[];for(let o=0;o<r.length;o+=1){let s=r[o],l;o===0?l=r[r.length-1]:l=r[o-1];let f=r[(o+1)%r.length],u=Sr(Math.atan2(f.y-l.y,f.x-l.x)),p=Xt(s.x,s.y,u,-e[o%e.length]),c=Xt(s.x,s.y,u,e[o%e.length]);n.push(p),n.push(s),n.push(c)}let i=hc(n,t.isClosed());return i.fill=t.fill,i.stroke=t.stroke,i.strokeWidth=t.strokeWidth,i}function cc(t,e,r,n,i,o){var s=new R;return s.addRoundedRect(t,e,r,n,i,o),s}function mc(t,e,r,n){var i=arguments,o=new R;return i.length===8?R.prototype.addQuad.apply(o,i):(t=O.read(t),e=O.read(e),r=O.read(r),n=O.read(n),o.addQuad(t.x,t.y,e.x,e.y,r.x,r.y,n.x,n.y)),o}function dc(t,e,r,n){var i=arguments;if(i.length===3?t=O.read(t):i.length===4?typeof i[0]=="number"&&typeof i[1]=="number"?(t=O.read(i[0],i[1]),e=i[2],r=i[3],n=null):(t=O.read(t),n=O.read(n)):(i.length===5||i.length===6)&&(t=O.read(i[0],i[1]),e=i[2],r=i[3],i.length===5&&typeof i[4]=="number"?n=O.read(i[4],i[4]):n=O.read(i[4],i[5])),!n||n.x===0&&n.y===0){var o=new R;return o.addRect(t.x-e/2,t.y-r/2,e,r),o}else return vg.roundedRect(t.x-e/2,t.y-r/2,e,r,n.x,n.y)}function vc(t,e,r){var n=arguments;n.length===4?(t=O.read(n[0],n[1]),e=n[2],r=n[3]):t=O.read(t);var i=new R;return i.addEllipse(t.x-e/2,t.y-r/2,e,r),i}function yc(t,e){var r=arguments;r.length===4?(t=O.read(r[0],r[1]),e=O.read(r[2],r[3])):(t=O.read(t),e=O.read(e));var n=new R;return n.addLine(t.x,t.y,e.x,e.y),n.fill=null,n.stroke="black",n}function gc(t,e,r){var n=arguments;n.length===4?(t=O.read(n[0],n[1]),r=n[2],e=n[3]):t=O.read(t);var i=Xt(t.x,t.y,e,r);return vg.line(t,i)}function xc(t,e,r,n,i,o){var s=arguments;s.length===7?(t=O.read(s[0],s[1]),e=s[2],r=s[3],n=s[4],i=s[5],o=s[6]):t=O.read(t);var l=new R;return l.addArc(t.x,t.y,e,r,n,i,o),l}function Pc(t,e,r,n){var i=arguments;i.length===6?(t=O.read(i[0],i[1]),e=O.read(i[2],i[3]),r=i[4],n=i[5]):(t=O.read(t),e=O.read(e));var o=t.x+r*(e.x-t.x),s=t.y+r*(e.y-t.y),l=We(t.x,t.y,e.x,e.y)+90,f=Xt(o,s,l,n),u=f.x,p=f.y,c=t.x+2/3*(u-t.x),m=t.y+2/3*(p-t.y),d=e.x+2/3*(u-e.x),v=e.y+2/3*(p-e.y),y=new R;return y.moveTo(t.x,t.y),y.curveTo(c,m,d,v,e.x,e.y),y.fill=null,y.stroke=b.BLACK,y}function wc(t,e,r,n){var i=arguments;i.length===5||i.length===4&&typeof i[0]=="number"&&typeof i[1]=="number"?(t=O.read(i[0],i[1]),e=i[2],r=i[3],n=i.length===5?i[4]:!0):(t=O.read(t),i.length===3&&(n=!0)),r=Math.max(r,3);var o,s,l,f,u=t.x,p=t.y,c=e,m=360/r,d=0;n===!0&&(o=Xt(u,p,0,c),s=Xt(u,p,m,c),d=-We(s.x,s.y,o.x,o.y));var v=new R;for(l=0;l<r;l+=1)f=Xt(u,p,m*l+d,c),l===0?v.moveTo(f.x,f.y):v.lineTo(f.x,f.y);return v.close(),v}function _c(t,e,r,n){var i=arguments;i.length===5||i.length===4&&typeof i[0]=="number"&&typeof i[1]=="number"?(t=O.read(i[0],i[1]),e=i[2],r=i[3],n=i[4]):t=O.read(t),n||(n=r);var o,s,l,f,u,p=new R;for(p.moveTo(t.x,t.y+r/2),o=1;o<e*2;o+=1)s=o*Math.PI/e,l=o%2===1?n/2:r/2,f=t.x+l*Math.sin(s),u=t.y+l*Math.cos(s),p.lineTo(f,u);return p.close(),p}function Gi(t){return t!==""}function ol(t){return t.replace(/,/g," ")}function Cc(t){var e,r,n,i,o,s=[],l=t.split("M");for(e=0;e<l.length;e+=1)Gi(l[e])&&s.push(ol(l[e]));var f=new R;for(r=0;r<s.length;r+=1){for(o=[],l=s[r].split(" "),e=0;e<l.length;e+=1)Gi(l[e])&&o.push(l[e]);for(e=0;e<o.length;e+=2)o[e+1]!==void 0&&(n=parseFloat(o[e]),i=parseFloat(o[e+1]),e===0?f.moveTo(n,i):f.lineTo(n,i))}return f.fill=null,f.stroke=b.BLACK,f}function Ic(t,e,r,n,i){var o,s,l,f,u,p,c,m,d,v=[];for(v.length=t*e,i=i!==void 0?i:O.ZERO,t>1?(o=r*(t-1),s=i.x-o/2):s=i.x,e>1?(l=n*(e-1),f=i.y-l/2):f=i.y,d=0,u=0;u<e;u+=1)for(p=0;p<t;p+=1)c=s+p*r,m=f+u*n,v[d]=new O(c,m),d+=1;return v}function Tc(){var t=Array.prototype.slice.call(arguments);return t.unshift(null),new(Function.prototype.bind.apply(It,t))}function Ec(){return new vg.rect({x:0,y:0},100,100,{x:0,y:0})}function bc(){return new vg.ellipse({x:0,y:0},100,100)}Object.assign(O.prototype,Qt);Object.assign(R.prototype,Qt);Object.assign(Q.prototype,Qt);Object.assign(It.prototype,Qt);var zi={};ie(zi,{characterAt:()=>Oc,concatenate:()=>Ac,endsWith:()=>Nc,reverse:()=>Sc,startsWith:()=>Lc,string:()=>Mc,stringContains:()=>Xc,stringEquals:()=>Yc,stringLength:()=>Bc,stringReplace:()=>Rc,stringSplit:()=>Fc,stringTrim:()=>kc,substring:()=>Dc,toCharacterCodes:()=>Wc,toCharacters:()=>Uc,toLowerCase:()=>qc,toTitleCase:()=>Hc,toUpperCase:()=>Gc,toWords:()=>zc,wordCount:()=>Vc});function Oc(t,e){return!t||t.length===0?"":(t=String(t),e<0&&(e=t.length+e),t.charAt(e))}function Ac(){for(var t="",e=0;e<arguments.length;e++){var r=arguments[e];r=r!==void 0?String(r):"",t+=r}return t}function Nc(t,e){return!t||!e?!1:(t=String(t),t.indexOf(e,t.length-e.length)!==-1)}function Sc(t){return t.slice().reverse()}function Lc(t,e){return!t||!e?!1:(t=String(t),t.indexOf(e)===0)}var Mc=String;function Xc(t,e){return!t||!e?!1:(t=String(t),t.indexOf(e)!==-1)}function Yc(t,e,r){return t=String(t),e=String(e),!t||!e?!1:r?t.toLowerCase()===e.toLowerCase():t===e}function Bc(t){return t?(t=String(t),t.length):0}function Rc(t,e,r){return t=String(t),t.replace(new RegExp(e,"g"),r)}function Fc(t,e){return t?((!e||e.length===0)&&(e=""),t=String(t),t.split(e)):[]}function kc(t){return t?(t=String(t),t.trim()):null}function Dc(t,e,r,n){return!t||r<e?"":(t=String(t),e<0&&r<0&&(e=t.length+e,r=t.length+r),r!==void 0&&n&&(r+=1),t.substring(e,r))}function Wc(t){if(!t)return[];var e=[];e.length=t.length;for(var r=0;r<t.length;r+=1)e[r]=t.charCodeAt(r);return e}function Uc(t){return t?(t=String(t),t.split("")):[]}function qc(t){return t=String(t),t.toLowerCase()}function Hc(t){var e,r="";t=String(t);for(var n=0;n<t.length;n+=1)e=t[n],r.length===0||r[r.length-1]===" "?r+=e.toUpperCase():r+=e;return r}function Gc(t){return t=String(t),t.toUpperCase()}function Vc(t){if(!t)return 0;t=String(t);var e=t.split(new RegExp("\\w+"));return e.length-1}function zc(t){var e=t.split(/\W+/);return e[e.length-1]===""&&e.pop(),e}var $i={};ie($i,{combine:()=>Qc,contains:()=>Kc,count:()=>r0,cull:()=>n0,cycle:()=>t0,distinct:()=>ji,equals:()=>e0,first:()=>i0,get:()=>o0,interleave:()=>s0,last:()=>l0,pick:()=>a0,randomSample:()=>f0,repeat:()=>u0,rest:()=>h0,reverse:()=>p0,second:()=>c0,shift:()=>m0,shuffle:()=>d0,slice:()=>v0,sort:()=>y0,switch_:()=>g0,takeEvery:()=>x0,zipMap:()=>P0});function Zc(){return!1}function Ji(t){return typeof t=="object"&&t!==null}function ll(t){return Object.prototype.toString.call(t)}function Jc(t){return Ji(t)&&ll(t)==="[object RegExp]"}function jc(t){return Ji(t)&&ll(t)==="[object Date]"}function $c(t){return t==null}var Kt={isObject:Ji,isRegExp:Jc,isDate:jc,isNullOrUndefined:$c,isBuffer:Zc},sl=Array.prototype.slice,Zi,al;function gr(t,e){if(t===e)return!0;if(Kt.isBuffer(t)&&Kt.isBuffer(e)){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}else return Kt.isDate(t)&&Kt.isDate(e)?t.getTime()===e.getTime():Kt.isRegExp(t)&&Kt.isRegExp(e)?t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase:!Kt.isObject(t)&&!Kt.isObject(e)?t==e:al(t,e)}Zi=function(t){return Object.prototype.toString.call(t)==="[object Arguments]"};al=function(t,e){if(Kt.isNullOrUndefined(t)||Kt.isNullOrUndefined(e)||t.prototype!==e.prototype)return!1;var r=Zi(t),n=Zi(e);if(r&&!n||!r&&n)return!1;if(r)return t=sl.call(t),e=sl.call(e),gr(t,e);var i,o,s,l;try{i=Object.keys(t),o=Object.keys(e)}catch{return!1}if(i.length!==o.length)return!1;for(i.sort(),o.sort(),l=i.length-1;l>=0;l--)if(i[l]!=o[l])return!1;for(l=i.length-1;l>=0;l--)if(s=i[l],!gr(t[s],e[s]))return!1;return!0};function Qc(){var t,e,r=[];for(t=0;t<arguments.length;t++)e=arguments[t],e&&(r=r.concat(e));return r}function Kc(t,e){if(!t)return!1;for(var r=0;r<t.length;r+=1)if(gr.deepEqual(t[r],e))return!0;return!1}function t0(t,e){if(!t||e<=0)return[];for(var r=[],n=t.length,i=0;i<e;i+=1)r.push(t[i%n]);return r}function e0(t,e){return gr.deepEqual(t,e)}function r0(t){return t&&t.length?t.length:0}function n0(t,e){if(!t)return[];if(!e)return t;var r,n,i=[];for(r=0;r<t.length;r++)n=e[r%e.length],n&&i.push(t[r]);return i}function ji(t){if(!t)return[];var e,r,n,i=[],o=[];for(e=0,r=t.length;e<r;e+=1)n=t[e],g.contains(o,n)||(o.push(n),i.push(t[e]));return i}function i0(t){return!t||t.length===0?null:t[0]}function o0(t,e){return!t||t.length===0?null:t[e]}function s0(){let t=Array.from(arguments).filter(n=>!!n);if(t.length===0)return[];let e=[],r=0;for(;;){for(let n=0;n<t.length;n++){let i=t[n];if(i.length>r)e.push(i[r]);else return e}r+=1}}function l0(t){return!t||t.length===0?null:t[t.length-1]}function a0(t,e,r){if(!t||t.length===0||e<=0)return[];!r&&r!==0&&(r=Math.random());for(var n=Mt(r||0),i=[],o=0;o<e;o+=1)i.push(t[Math.floor(n(0,t.length))]);return i}function f0(t,e,r){if(!t||t.length===0||e<=0)return[];!r&&r!==0&&(r=Math.random());var n=g.shuffle(t,r);return e?g.slice(n,0,e):n}function u0(t,e,r){if(!t)return[];if(Array.isArray(t)||(t=[t]),e<=0)return[];var n,i,o,s=[];if(r)for(n=0;n<t.length;n+=1)for(o=t[n],i=0;i<e;i+=1)s.push(o);else for(n=0;n<e;n+=1)s.push.apply(s,t);return s}function h0(t){return t?t.slice(1):[]}function p0(t){return t?t.slice().reverse():[]}function c0(t){return!t||t.length<2?null:t[1]}function m0(t,e){if(!t)return[];e=e%t.length;var r=t.slice(0,e),n=t.slice(e);return n.push.apply(n,r),n}function d0(t,e){var r,n,i,o;for(!e&&e!==0&&(e=Math.random()),o=Mt(e||0),t=t.slice(),r=t.length-1;r>0;r--)n=Math.floor(o(0,r+1)),i=t[r],t[r]=t[n],t[n]=i;return t}function v0(t,e,r,n){if(!t)return[];var i,o;return n?(i=t.slice(0,e),o=t.slice(e+r),i.push.apply(i,o),i):t.slice(e,e+r)}function y0(t,e){if(!t)return[];if(e){if(typeof e=="string")return t.slice().sort(function(r,n){return r[e]>n[e]?1:r[e]===n[e]?0:-1});if(typeof e=="function")return t.slice().sort(e)}return t&&t[0]!==void 0&&t[0]!==null&&typeof t[0]=="number"?t.slice().sort(function(r,n){return r-n}):t.slice().sort()}function g0(t){var e=arguments.length-1;return t=t%e,t<0&&(t+=e),arguments[t+1]}function x0(t,e,r){if(!t)return[];var n,i=[];for(r=r||0,n=0;n<t.length;n+=1)n%e===r&&i.push(t[n]);return i}function P0(t,e){var r,n,i,o={},s=Math.min(t.length,e.length);for(r=0;r<s;r+=1)n=t[r],i=e[r],o[n]=i;return o}var mo={};ie(mo,{convert:()=>Bd,dataScale:()=>Wd,filterData:()=>Rd,groupBy:()=>Fd,keys:()=>kd,lookup:()=>Dd,ticks:()=>Ud});var zl=Nr(cl(),1),Zl=Nr(Vl(),1);function Bd(t,e,r,n,i){var o=arguments.length;if(o===2){var s=arguments[1];e=s.inMin,r=s.inMax,n=s.outMin,i=s.outMax}else o===3&&(e=arguments[1][0],r=arguments[1][1],n=arguments[2][0],i=arguments[2][1]);try{t=(t-e)/(r-e)}catch{t=e}return n+t*(i-n)}function Rd(t,e,r,n){if(!t)return[];var i,o,s,l;if(n==null)return t;var f=[];if(r==="==")for(i=0,o=t.length;i<o;i++)s=t[i],l=s[e],l==n&&f.push(s);else if(r==="!=")for(i=0,o=t.length;i<o;i++)s=t[i],l=s[e],l!=n&&f.push(s);else if(r===">")for(i=0,o=t.length;i<o;i++)s=t[i],l=s[e],l>n&&f.push(s);else if(r===">=")for(i=0,o=t.length;i<o;i++)s=t[i],l=s[e],l>=n&&f.push(s);else if(r==="<")for(i=0,o=t.length;i<o;i++)s=t[i],l=s[e],l<n&&f.push(s);else if(r==="<=")for(i=0,o=t.length;i<o;i++)s=t[i],l=s[e],l<=n&&f.push(s);else throw new Error("Invalid op "+r);return f}function Fd(t,e){return(0,zl.default)((0,Zl.default)(t,e))}function kd(t){for(var e=[],r=0;r<t.length;r++)e=e.concat(Object.keys(t[r]));return ji(e)}function Dd(t,e){var r,n;if(r=t,n=r[e],n!==void 0)return typeof n=="function"&&(n=n.call(r)),n;for(var i,o=e.split("."),s=0;s<o.length;s+=1)i=o[s],r&&(typeof r[i]=="function"?(n=r[i],r=n.call(r)):r=r[i]);return r}function Wd(t,e,r){return{domain:t,outMin:e,outMax:r}}function Ud(t,e,r){r=r!==void 0?r:10;var n=e-t,i=Math.pow(10,Math.floor(Math.log(n/r)/Math.LN10)),o=r/n*i,s=[],l;for(o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),t=Math.ceil(t/i)*i,e=Math.floor(e/i)*i+i*.5,l=t;l<e;l+=i)s.push(l);return s}var Ao={};ie(Ao,{BOTH:()=>Sv,BOTTOM:()=>ba,CENTER:()=>Ta,HORIZONTAL:()=>Av,LEFT:()=>Ca,MIDDLE:()=>Oa,RIGHT:()=>Ia,TOP:()=>Ea,VERTICAL:()=>Nv,align:()=>Lv,angle:()=>Wv,colorize:()=>Mv,coordinates:()=>Uv,copy:()=>Xv,desaturate:()=>Zv,distance:()=>qv,fit:()=>Bv,fitTo:()=>Rv,flip:()=>Yv,grayColor:()=>Hv,hexColor:()=>Gv,hslAdjust:()=>Fv,hslColor:()=>Vv,invert:()=>Jv,rgbAdjust:()=>kv,rgbColor:()=>zv,stack:()=>Dv});function Jl(t){return function(...e){var r=e.pop();return t.call(this,e,r)}}var qd=typeof queueMicrotask=="function"&&queueMicrotask,Hd=typeof setImmediate=="function"&&setImmediate,Gd=typeof process=="object"&&typeof process.nextTick=="function";function Vd(t){setTimeout(t,0)}function zd(t){return(e,...r)=>t(()=>e(...r))}var Kr;qd?Kr=queueMicrotask:Hd?Kr=setImmediate:Gd?Kr=process.nextTick:Kr=Vd;var jl=zd(Kr);function vo(t){return yo(t)?function(...e){let r=e.pop(),n=t.apply(this,e);return $l(n,r)}:Jl(function(e,r){var n;try{n=t.apply(this,e)}catch(i){return r(i)}if(n&&typeof n.then=="function")return $l(n,r);r(null,n)})}function $l(t,e){return t.then(r=>{Ql(e,null,r)},r=>{Ql(e,r&&r.message?r:new Error(r))})}function Ql(t,e,r){try{t(e,r)}catch(n){jl(i=>{throw i},n)}}function yo(t){return t[Symbol.toStringTag]==="AsyncFunction"}function Kl(t){return t[Symbol.toStringTag]==="AsyncGenerator"}function ta(t){return typeof t[Symbol.asyncIterator]=="function"}function Zd(t){if(typeof t!="function")throw new Error("expected a function");return yo(t)?vo(t):t}var ee=Zd;function Dt(t,e=t.length){if(!e)throw new Error("arity is undefined");function r(...n){return typeof n[e-1]=="function"?t.apply(this,n):new Promise((i,o)=>{n[e-1]=(s,...l)=>{if(s)return o(s);i(l.length>1?l:l[0])},t.apply(this,n)})}return r}function go(t,e,r,n){e=e||[];var i=[],o=0,s=ee(r);return t(e,(l,f,u)=>{var p=o++;s(l,(c,m)=>{i[p]=m,u(c)})},l=>{n(l,i)})}function tn(t){return t&&typeof t.length=="number"&&t.length>=0&&t.length%1===0}var Jd={},Ir=Jd;function je(t){function e(...r){if(t!==null){var n=t;t=null,n.apply(this,r)}}return Object.assign(e,t),e}function ea(t){return t[Symbol.iterator]&&t[Symbol.iterator]()}function jd(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}function $d(t){var e=-1;return function(){var n=t.next();return n.done?null:(e++,{value:n.value,key:e})}}function Qd(t){var e=t?Object.keys(t):[],r=-1,n=e.length;return function i(){var o=e[++r];return o==="__proto__"?i():r<n?{value:t[o],key:o}:null}}function xo(t){if(tn(t))return jd(t);var e=ea(t);return e?$d(e):Qd(t)}function en(t){return function(...e){if(t===null)throw new Error("Callback was already called.");var r=t;t=null,r.apply(this,e)}}function $n(t,e,r,n){let i=!1,o=!1,s=!1,l=0,f=0;function u(){l>=e||s||i||(s=!0,t.next().then(({value:m,done:d})=>{if(!(o||i)){if(s=!1,d){i=!0,l<=0&&n(null);return}l++,r(m,f,p),f++,u()}}).catch(c))}function p(m,d){if(l-=1,!o){if(m)return c(m);if(m===!1){i=!0,o=!0;return}if(d===Ir||i&&l<=0)return i=!0,n(null);u()}}function c(m){o||(s=!1,i=!0,n(m))}u()}var ra=t=>(e,r,n)=>{if(n=je(n),t<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!e)return n(null);if(Kl(e))return $n(e,t,r,n);if(ta(e))return $n(e[Symbol.asyncIterator](),t,r,n);var i=xo(e),o=!1,s=!1,l=0,f=!1;function u(c,m){if(!s)if(l-=1,c)o=!0,n(c);else if(c===!1)o=!0,s=!0;else{if(m===Ir||o&&l<=0)return o=!0,n(null);f||p()}}function p(){for(f=!0;l<t&&!o;){var c=i();if(c===null){o=!0,l<=0&&n(null);return}l+=1,r(c.value,c.key,en(u))}f=!1}p()};function Kd(t,e,r,n){return ra(e)(t,ee(r),n)}var Qn=Dt(Kd,4);function tv(t,e,r){r=je(r);var n=0,i=0,{length:o}=t,s=!1;o===0&&r(null);function l(f,u){f===!1&&(s=!0),s!==!0&&(f?r(f):(++i===o||u===Ir)&&r(null))}for(;n<o;n++)e(t[n],n,en(l))}function ev(t,e,r){return Qn(t,1/0,e,r)}function rv(t,e,r){var n=tn(t)?tv:ev;return n(t,ee(e),r)}var na=Dt(rv,3);function nv(t,e,r){return go(na,t,e,r)}var Po=Dt(nv,3);function iv(t,e,r){return Qn(t,1,e,r)}var ia=Dt(iv,3);var wo=Symbol("promiseCallback");function oa(){let t,e;function r(n,...i){if(n)return e(n);t(i.length>1?i:i[0])}return r[wo]=new Promise((n,i)=>{t=n,e=i}),r}function ov(t,e,r,n){n=je(n);var i=ee(r);return ia(t,(o,s,l)=>{i(e,o,(f,u)=>{e=u,l(f)})},o=>n(o,e))}var sa=Dt(ov,4);function _o(...t){var e=t.map(ee);return function(...r){var n=this,i=r[r.length-1];return typeof i=="function"?r.pop():i=oa(),sa(e,r,(o,s,l)=>{s.apply(n,o.concat((f,...u)=>{l(f,u)}))},(o,s)=>i(o,...s)),i[wo]}}function rn(...t){return _o(...t.reverse())}function Kn(t){return t/180*Math.PI}function la(t,e,r,n){return Math.sqrt(Math.pow(r-t,2)+Math.pow(n-e,2))}function tt(t,e,r){return Math.min(r,Math.max(e,t))}function Tr(t){t===void 0?t=[1,0,0,0,1,0,0,0,1]:t=t.slice();function e(r,n){n=n.slice();var i=n[0],o=n[1],s=n[2],l=n[3],f=n[4],u=n[5],p=n[6],c=n[7],m=n[8];return n[0]=r[0]*i+r[1]*l,n[1]=r[0]*o+r[1]*f,n[3]=r[3]*i+r[4]*l,n[4]=r[3]*o+r[4]*f,n[6]=r[6]*i+r[7]*l+p,n[7]=r[6]*o+r[7]*f+c,Tr(n)}return{matrix:function(){return t.slice()},clone:function(){return Tr(t)},prepend:function(r){return r.matrix&&(r=r.matrix()),e(t,r)},append:function(r){return r.matrix&&(r=r.matrix()),e(r,t)},translate:function(r,n){return e([1,0,0,0,1,0,r,n,1],t)},scale:function(r,n){return n===void 0&&(n=r),e([r,0,0,0,n,0,0,0,1],t)},skew:function(r,n){n===void 0&&(n=r);var i=Math.PI*r/180,o=Math.PI*n/180;return e([1,Math.tan(o),0,-Math.tan(i),1,0,0,0,1],t)},rotate:function(r){var n=Math.cos(Kn(r)),i=Math.sin(Kn(r));return e([n,i,0,-i,n,0,0,0,1],t)},transformPoint:function(r){var n=r.x,i=r.y;return{x:n*t[0]+i*t[3]+t[6],y:n*t[1]+i*t[4]+t[7]}}}}var ti={normal:"source-over","linear-dodge":"add"};function aa(t){var e,r,n,i=Object.keys(ti);for(e=0;e<i.length;e+=1)r=i[e],n=ti[r],t[r]=t[n]}function lv(t){return ti[t]!==void 0?ti[t]:t}function av(){if(typeof document>"u")return{};var t,e,r,n,i={},o=document.createElement("canvas"),s=o.getContext("2d");if(!s)return{};var l=["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],f=["multiply","screen","overlay","soft-light","hard-light","color-dodge","color-burn","darken","lighten","difference","exclusion","hue","saturation","luminosity","color","add","subtract","average","negation"],u=["divide","darker-color","lighter-color","linear-burn","linear-light","vivid-light","pin-light","hard-mix"];for(t=0;t<l.length;t+=1)i[l[t]]=!0;for(t=0;t<u.length;t+=1)i[u[t]]=!1;for(o.width=1,o.height=1,t=0;t<f.length;t+=1){e=f[t],r=e==="darken",n=!1,s.save();try{s.fillStyle=r?"#300":"#a00",s.fillRect(0,0,1,1),s.globalCompositeOperation=e,s.globalCompositeOperation===e&&(s.fillStyle=r?"#a00":"#300",s.fillRect(0,0,1,1),n=s.getImageData(0,0,1,1).data[0]!==(r?170:51))}catch{}s.restore(),i[e]=n}return aa(i),i}var fv=function(t,e,r,n,i){var o,s,l,f,u,p,c,m,d,v,y,x,I,C=Math.max,w=Math.min,T=2/255,E=.2126,M=.7152,N=.0722;function L(P,S,F){P/=255,S/=255,F/=255;var Z,U,et;return P===S&&S===F?(U=0,Z=0):P>=S&&S>=F?(U=P-F,Z=60*(S-F)/U):S>P&&P>=F?(U=S-F,Z=60*(S-P)/U+60):S>=F&&F>P?(U=S-P,Z=60*(F-P)/U+120):F>S&&S>P?(U=F-P,Z=60*(F-S)/U+180):F>P&&P>=S?(U=F-S,Z=60*(P-S)/U+240):(U=P-S,Z=60*(P-F)/U+300),et=E*P+M*S+N*F,[Z%360,w(C(U,0),1),w(C(et,0),1)]}function Y(P,S,F){P=P%360;var Z,U,et,it;return P>=0&&P<60?(it=S*P/60,et=F-E*S-M*it,Z=et+S,U=et+it):P>=60&&P<120?(it=S*(P-60)/60,U=F+N*S+E*it,et=U-S,Z=U-it):P>=120&&P<180?(it=S*(P-120)/60,Z=F-M*S-N*it,U=Z+S,et=Z+it):P>=180&&P<240?(it=S*(P-180)/60,et=F+E*S+M*it,Z=et-S,U=et-it):P>=240&&P<300?(it=S*(P-240)/60,U=F-N*S-E*it,et=U+S,Z=U+it):(it=S*(P-300)/60,Z=F+M*S+N*it,U=Z-S,et=Z-it),Z=w(C(Z,0),1)*255,U=w(C(U,0),1)*255,et=w(C(et,0),1)*255,[Z,U,et]}function X(){v=s,y=l,x=f}function B(){v=s+p-p*u,y=l+c-c*u,x=f+m-m*u}function G(){v=p*s/255,y=c*l/255,x=m*f/255}function wt(){v=s*p+s*(1-d)+p*(1-u),y=l*c+l*(1-d)+c*(1-u),x=f*m+f*(1-d)+m*(1-u)}function $(){v=C(p-s,0),y=C(c-l,0),x=C(m-f,0)}function lt(){v=C(p*u-s*d,0)+s*(1-d)+p*(1-u),y=C(c*u-l*d,0)+l*(1-d)+c*(1-u),x=C(m*u-f*d,0)+f*(1-d)+m*(1-u)}function k(){v=s===0?0:p/s*255,y=l===0?0:c/l*255,x=f===0?0:m/f*255}function q(){v=255-((255-p)*(255-s)>>8),y=255-((255-c)*(255-l)>>8),x=255-((255-m)*(255-f)>>8)}function ft(){v=s+p-s*p,y=l+c-l*c,x=f+m-f*m}function D(){v=p>s?p:s,y=c>l?c:l,x=m>f?m:f}function vt(){v=C(s*d,p*u)+s*(1-d)+p*(1-u),y=C(l*d,c*u)+l*(1-d)+c*(1-u),x=C(f*d,m*u)+f*(1-d)+m*(1-u)}function V(){v=p<s?p:s,y=c<l?c:l,x=m<f?m:f}function nt(){v=w(s*d,p*u)+s*(1-d)+p*(1-u),y=w(l*d,c*u)+l*(1-d)+c*(1-u),x=w(f*d,m*u)+f*(1-d)+m*(1-u)}function ct(){p*.3+c*.59+m*.11<=s*.3+l*.59+f*.11?(v=p,y=c,x=m):(v=s,y=l,x=f)}function z(){p*u*.3+c*u*.59+m*u*.11<=s*d*.3+l*d*.59+f*d*.11?(v=p*u,y=c*u,x=m*u):(v=s*d,y=l*d,x=f*d),v+=s*(1-d)+p*(1-u),y+=l*(1-d)+c*(1-u),x+=f*(1-d)+m*(1-u)}function Or(){p*.3+c*.59+m*.11>s*.3+l*.59+f*.11?(v=p,y=c,x=m):(v=s,y=l,x=f)}function Ke(){p*u*.3+c*u*.59+m*u*.11>s*d*.3+l*d*.59+f*d*.11?(v=p*u,y=c*u,x=m*u):(v=s*d,y=l*d,x=f*d),v+=s*(1-d)+p*(1-u),y+=l*(1-d)+c*(1-u),x+=f*(1-d)+m*(1-u)}function tr(){v=w(p+s,255),y=w(c+l,255),x=w(m+f,255)}function Lo(){v=p+s,y=c+l,x=m+f,v=v<255?0:v-255,y=y<255?0:y-255,x=x<255?0:x-255}function re(){v=p-s,y=c-l,x=m-f,v=v<0?-v:v,y=y<0?-y:y,x=x<0?-x:x}function er(){v=s+p-2*w(s*d,p*u),y=l+c-2*w(l*d,c*u),x=f+m-2*w(f*d,m*u)}function Ar(){v=p-(p*T-1)*s,y=c-(c*T-1)*l,x=m-(m*T-1)*f}function rr(){v=s*d+p*u-2*s*p+s*(1-d)+p*(1-u),y=l*d+c*u-2*l*c+l*(1-d)+c*(1-u),x=f*d+m*u-2*f*m+f*(1-d)+m*(1-u)}function La(){p<128?v=s*p*T:v=255-(255-s)*(255-p)*T,c<128?y=l*c*T:y=255-(255-l)*(255-c)*T,m<128?x=f*m*T:x=255-(255-f)*(255-m)*T}function Ut(){2*p<=d?v=2*s*p+s*(1-d)+p*(1-u):v=s*(1+d)+p*(1+u)-2*p*s-d*u,2*c<=d?y=2*l*c+l*(1-d)+c*(1-u):y=l*(1+d)+c*(1+u)-2*c*l-d*u,2*m<=d?x=2*f*m+f*(1-d)+m*(1-u):x=f*(1+d)+m*(1+u)-2*m*f-d*u}function nr(){p<128?v=((s>>1)+64)*p*T:v=255-(191-(s>>1))*(255-p)*T,c<128?y=((l>>1)+64)*c*T:y=255-(191-(l>>1))*(255-c)*T,m<128?x=((f>>1)+64)*m*T:x=255-(191-(f>>1))*(255-m)*T}function Ne(){var P,S=Math.pow;if(d===0){v=s,y=l,x=f;return}P=p/d,2*s<=u?v=p*(u+(2*s-u)*(1-P))+s*(1-d)+p*(1-u):2*s>u&&4*p<=d?v=d*(2*s-u)*(16*S(P,3)-12*S(P,2)-3*P)+s-s*d+p:2*s>u&&4*p>d&&(v=d*(2*s-u)*(S(P,.5)-P)+s-s*d+p),P=c/d,2*l<=u?y=c*(u+(2*l-u)*(1-P))+l*(1-d)+c*(1-u):2*l>u&&4*c<=d?y=d*(2*l-u)*(16*S(P,3)-12*S(P,2)-3*P)+l-l*d+c:2*l>u&&4*c>d&&(y=d*(2*l-u)*(S(P,.5)-P)+l-l*d+c),P=m/d,2*f<=u?x=m*(u+(2*f-u)*(1-P))+f*(1-d)+m*(1-u):2*f>u&&4*m<=d?x=d*(2*f-u)*(16*S(P,3)-12*S(P,2)-3*P)+f-f*d+m:2*f>u&&4*m>d&&(x=d*(2*f-u)*(S(P,.5)-P)+f-f*d+m)}function qt(){s<128?v=p*s*T:v=255-(255-p)*(255-s)*T,l<128?y=c*l*T:y=255-(255-c)*(255-l)*T,f<128?x=m*f*T:x=255-(255-m)*(255-f)*T}function Se(){2*s<=u?v=2*s*p+s*(1-d)+p*(1-u):v=s*(1+d)+p*(1+u)-u*d-2*s*p,2*l<=u?y=2*l*c+l*(1-d)+c*(1-u):y=l*(1+d)+c*(1+u)-u*d-2*l*c,2*f<=u?x=2*f*m+f*(1-d)+m*(1-u):x=f*(1+d)+m*(1+u)-u*d-2*f*m}function Mo(){var P=(p<<8)/(255-s),S=(c<<8)/(255-l),F=(m<<8)/(255-f);v=P>255||s===255?255:P,y=S>255||l===255?255:S,x=F>255||f===255?255:F}function Le(){if(d===0){v=s,y=l,x=f;return}s===u&&p===0?v=s*(1-d):s===u?v=u*d+s*(1-d)+p*(1-u):s<u&&(v=u*d*w(1,p/d*u/(u-s))+s*(1-d)+p*(1-u)),l===u&&c===0?y=l*(1-d):s===u?y=u*d+l*(1-d)+c*(1-u):s<u&&(y=u*d*w(1,c/d*u/(u-l))+l*(1-d)+c*(1-u)),f===u&&m===0?x=f*(1-d):s===u?x=u*d+f*(1-d)+m*(1-u):s<u&&(x=u*d*w(1,m/d*u/(u-f))+f*(1-d)+m*(1-u))}function or(){var P=255-(255-p<<8)/s,S=255-(255-c<<8)/l,F=255-(255-m<<8)/f;v=P<0||s===0?0:P,y=S<0||l===0?0:S,x=F<0||f===0?0:F}function Rt(){if(d===0){v=s,y=l,x=f;return}s===0&&p===d?v=u*d+p*(1-u):s===0?v=p*(1-u):s>0&&(v=u*d*(1-w(1,(1-p/d)*u/s))+s*(1-d)+p*(1-u)),l===0&&c===d?y=u*d+c*(1-u):l===0?y=c*(1-u):l>0&&(y=u*d*(1-w(1,(1-c/d)*u/l))+l*(1-d)+c*(1-u)),f===0&&m===d?x=u*d+m*(1-u):f===0?x=m*(1-u):f>0&&(x=u*d*(1-w(1,(1-m/d)*u/f))+f*(1-d)+m*(1-u))}function Me(){var P=2*s+p-256,S=2*l+c-256,F=2*f+m-256;v=P<0||s<128&&P<0?0:P>255?255:P,y=S<0||l<128&&S<0?0:S>255?255:S,x=F<0||f<128&&F<0?0:F>255?255:F}function ii(){var P;s<128?s?(P=255-(255-p<<8)/(2*s),v=P<0?0:P):v=0:(P=2*s-256,P<255?(P=(p<<8)/(255-P),v=P>255?255:P):v=P<0?0:P),l<128?l?(P=255-(255-c<<8)/(2*l),y=P<0?0:P):y=0:(P=2*l-256,P<255?(P=(c<<8)/(255-P),y=P>255?255:P):y=P<0?0:P),f<128?f?(P=255-(255-m<<8)/(2*f),x=P<0?0:P):x=0:(P=2*f-256,P<255?(P=(m<<8)/(255-P),x=P>255?255:P):x=P<0?0:P)}function Xe(){var P;s<128?(P=2*s,v=p<P?p:P):(P=2*s-256,v=p>P?p:P),l<128?(P=2*l,y=c<P?c:P):(P=2*l-256,y=c>P?c:P),f<128?(P=2*f,x=m<P?m:P):(P=2*f-256,x=m>P?m:P)}function Ye(){var P;s<128?v=255-(255-p<<8)/(2*s)<128||s===0?0:255:(P=2*s-256,v=P<255&&(p<<8)/(255-P)<128?0:255),l<128?y=255-(255-c<<8)/(2*l)<128||l===0?0:255:(P=2*l-256,y=P<255&&(c<<8)/(255-P)<128?0:255),f<128?x=255-(255-m<<8)/(2*f)<128||f===0?0:255:(P=2*f-256,x=P<255&&(m<<8)/(255-P)<128?0:255)}function Ft(){var P=L(p,c,m),S=L(s,l,f),F=Y(S[0],P[1],P[2]);v=F[0],y=F[1],x=F[2]}function Be(){var P=L(p,c,m),S=L(s,l,f),F=Y(P[0],S[1],P[2]);v=F[0],y=F[1],x=F[2]}function oi(){var P=L(p,c,m),S=L(s,l,f),F=Y(P[0],P[1],S[2]);v=F[0],y=F[1],x=F[2]}function Re(){var P=L(p,c,m),S=L(s,l,f),F=Y(S[0],S[1],P[2]);v=F[0],y=F[1],x=F[2]}o={"source-over":B,multiply:wt,subtract:lt,divide:k,screen:ft,lighten:vt,darken:nt,"darker-color":z,"lighter-color":Ke,add:tr,"linear-burn":Lo,difference:er,exclusion:rr,overlay:Ut,"soft-light":Ne,"hard-light":Se,"color-dodge":Le,"color-burn":Rt,"linear-light":Me,"vivid-light":ii,"pin-light":Xe,"hard-mix":Ye,hue:Ft,saturation:Be,luminosity:oi,color:Re};function Fe(P,S){var F=P.x+P.width,Z=P.y+P.height,U=S.x+S.width,et=S.y+S.height,it=C(P.x,S.x),ne=C(P.y,S.y),fn=C(w(F,U)-it,0),Ht=C(w(Z,et)-ne,0);return[it,ne,fn,Ht]}(function(){var P,S,F,Z,U,et,it,ne,fn,Ht=i.data,Xo=i.opacity===0?0:i.opacity||1,si=o[i.type||"_svg_normal"],Yo=i.dx||0,Bo=i.dy||0,un=Fe({x:0,y:0,width:r,height:n},{x:Yo,y:Bo,width:i.width,height:i.height}),Ro=un[0],Fo=un[1],Ma=un[2],Xa=un[3];function Ya(){u=Ht[S+3]/255*Xo,d=t[P+3]/255,it=u+d-u*d,ne=255/it,s=Ht[S]/255*u,l=Ht[S+1]/255*u,f=Ht[S+2]/255*u,p=t[P]/255*d,c=t[P+1]/255*d,m=t[P+2]/255*d,si(),e[P]=v*ne,e[P+1]=y*ne,e[P+2]=x*ne,e[P+3]=it*255}function Ba(){p=t[P],c=t[P+1],m=t[P+2],s=Ht[S],l=Ht[S+1],f=Ht[S+2],si(),e[P]=v,e[P+1]=y,e[P+2]=x,e[P+3]=t[P+3],U=Xo*Ht[S+3]/255,U<1&&(et=1-U,e[P]=t[P]*et+e[P]*U,e[P+1]=t[P+1]*et+e[P+1]*U,e[P+2]=t[P+2]*et+e[P+2]*U)}for(fn=si.name.indexOf("_svg_")===0?Ya:Ba,Z=0;Z<n;Z+=1)for(F=0;F<r;F+=1)P=(Z*r+F)*4,Z>=Fo&&F>=Ro&&F<Ro+Ma&&Z<Fo+Xa?(S=((Z-Bo)*i.width+F-Yo)*4,fn()):(e[P]=t[P],e[P+1]=t[P+1],e[P+2]=t[P+2],e[P+3]=t[P+3])})()};function fa(t,e,r,n,i){fv(t,e,r,n,i)}function uv(t){return function(e,r,n,i,o){o.type=t,fa(e,r,n,i,o)}}var hv=function(){for(var t,e={blend:fa},r=["source-over","add","multiply","subtract","divide","screen","lighten","darken","darker-color","lighter-color","linear-burn","difference","exclusion","overlay","soft-light","hard-light","color-dodge","color-burn","linear-light","vivid-light","pin-light","hard-mix","hue","saturation","luminosity","color"],n=0;n<r.length;n+=1)t=r[n],e[t]=uv(t);for(r=Object.keys(r),n=0;n<r.length;n+=1);return aa(e),e.getNativeModes=av,e.realBlendMode=lv,e}(),Er=hv;var ma=Nr(pa(),1);var ca="ITU-R BT.601",dv="ITU-R BT.709";function dt(t,e){if(!t)return e;var r,n={};for(r in e)e.hasOwnProperty(r)&&(typeof t[r]>"u"?n[r]=e[r]:n[r]=t[r]);return n}function Co(t,e,r){return r<t?0:r>=e?1:(r=(r-t)/(e-t),r*r*(3-2*r))}function ce(t,e,r,n,i,o,s,l){var f,u,p=r*n*4,c,m,d,v,y,x,I,C,w,T,E,M=i[0][0],N=i[0][1],L=i[0][2],Y=i[1][0],X=i[1][1],B=i[1][2],G=i[2][0],wt=i[2][1],$=i[2][2],lt,k,q,ft,D,vt,V,nt,ct;for(u=0;u<n;u+=1)for(x=u*r*4,I=x-r*4,C=x+r*4,u<1&&(I=x),u>=r-1&&(C=x),f=0;f<r;f+=1)c=(u*r+f)*4,w=f*4,T=w-4,E=w+4,f<1&&(T=w),f>=r-1&&(E=w),lt=I+T,k=I+w,q=I+E,ft=x+T,D=x+w,vt=x+E,V=C+T,nt=C+w,ct=C+E,m=t[lt]*M+t[k]*N+t[q]*L+t[ft]*Y+t[D]*X+t[vt]*B+t[V]*G+t[nt]*wt+t[ct]*$,d=t[lt+1]*M+t[k+1]*N+t[q+1]*L+t[ft+1]*Y+t[D+1]*X+t[vt+1]*B+t[V+1]*G+t[nt+1]*wt+t[ct+1]*$,v=t[lt+2]*M+t[k+2]*N+t[q+2]*L+t[ft+2]*Y+t[D+2]*X+t[vt+2]*B+t[V+2]*G+t[nt+2]*wt+t[ct+2]*$,o?y=t[lt+3]*M+t[k+3]*N+t[q+3]*L+t[ft+3]*Y+t[D+3]*X+t[vt+3]*B+t[V+3]*G+t[nt+3]*wt+t[ct+3]*$:y=t[c+3],l&&(m=d=v=(m+d+v)/3),s&&(m=255-m,d=255-d,v=255-v),e[c]=m,e[c+1]=d,e[c+2]=v,e[c+3]=y}function nn(t,e,r,n,i,o,s,l){var f,u,p=r*n*4,c,m,d,v,y,x,I,C,w,T,E,M,N,L,Y,X=i[0][0],B=i[0][1],G=i[0][2],wt=i[0][3],$=i[0][4],lt=i[1][0],k=i[1][1],q=i[1][2],ft=i[1][3],D=i[1][4],vt=i[2][0],V=i[2][1],nt=i[2][2],ct=i[2][3],z=i[2][4],Or=i[3][0],Ke=i[3][1],tr=i[3][2],Lo=i[3][3],re=i[3][4],er=i[4][0],Ar=i[4][1],rr=i[4][2],La=i[4][3],Ut=i[4][4],nr,Ne,qt,Se,Mo,Le,or,Rt,Me,ii,Xe,Ye,Ft,Be,oi,Re,Fe,P,S,F,Z,U,et,it,ne;for(u=0;u<n;u+=1)for(x=u*r*4,I=x-r*4,w=x-r*4*2,C=x+r*4,T=x+r*4*2,u<1&&(I=x),u>=r-1&&(C=x),u<2&&(w=I),u>=r-2&&(T=C),f=0;f<r;f+=1)c=(u*r+f)*4,E=f*4,M=E-4,N=E+4,L=E-8,Y=E+8,f<1&&(M=E),f>=r-1&&(N=E),f<2&&(L=M),f>=r-2&&(Y=N),nr=w+L,Ne=w+M,qt=w+E,Se=w+N,Mo=w+Y,Le=I+L,or=I+M,Rt=I+E,Me=I+N,ii=I+Y,Xe=x+L,Ye=x+M,Ft=x+E,Be=x+N,oi=x+Y,Re=C+L,Fe=C+M,P=C+E,S=C+N,F=C+Y,Z=T+L,U=T+M,et=T+E,it=T+N,ne=T+Y,m=t[nr]*X+t[Ne]*B+t[qt]*G+t[Se]*$+t[qt]*$+t[Le]*lt+t[or]*k+t[Rt]*q+t[Me]*D+t[Rt]*D+t[Xe]*vt+t[Ye]*V+t[Ft]*nt+t[Be]*z+t[Ft]*z+t[Re]*Or+t[Fe]*Ke+t[P]*tr+t[S]*re+t[P]*re+t[Z]*er+t[U]*Ar+t[et]*rr+t[it]*Ut+t[et]*Ut,d=t[nr+1]*X+t[Ne+1]*B+t[qt+1]*G+t[Se+1]*$+t[qt+1]*$+t[Le+1]*lt+t[or+1]*k+t[Rt+1]*q+t[Me+1]*D+t[Rt+1]*D+t[Xe+1]*vt+t[Ye+1]*V+t[Ft+1]*nt+t[Be+1]*z+t[Ft+1]*z+t[Re+1]*Or+t[Fe+1]*Ke+t[P+1]*tr+t[S+1]*re+t[P+1]*re+t[Z+1]*er+t[U+1]*Ar+t[et+1]*rr+t[it+1]*Ut+t[et+1]*Ut,v=t[nr+2]*X+t[Ne+2]*B+t[qt+2]*G+t[Se+2]*$+t[qt+2]*$+t[Le+2]*lt+t[or+2]*k+t[Rt+2]*q+t[Me+2]*D+t[Rt+2]*D+t[Xe+2]*vt+t[Ye+2]*V+t[Ft+2]*nt+t[Be+2]*z+t[Ft+2]*z+t[Re+2]*Or+t[Fe+2]*Ke+t[P+2]*tr+t[S+2]*re+t[P+2]*re+t[Z+2]*er+t[U+2]*Ar+t[et+2]*rr+t[it+2]*Ut+t[et+2]*Ut,o?y=t[nr+3]*X+t[Ne+3]*B+t[qt+3]*G+t[Se+3]*$+t[qt+3]*$+t[Le+3]*lt+t[or+3]*k+t[Rt+3]*q+t[Me+3]*D+t[Rt+3]*D+t[Xe+3]*vt+t[Ye+3]*V+t[Ft+3]*nt+t[Be+3]*z+t[Ft+3]*z+t[Re+3]*Or+t[Fe+3]*Ke+t[P+3]*tr+t[S+3]*re+t[P+3]*re+t[Z+3]*er+t[U+3]*Ar+t[et+3]*rr+t[it+3]*Ut+t[et+3]*Ut:y=t[c+3],l&&(m=d=v=(m+d+v)/3),s&&(m=255-m,d=255-d,v=255-v),e[c]=m,e[c+1]=d,e[c+2]=v,e[c+3]=y}function vv(t,e,r,n,i){var o,s,l,f,u=r*n*4,p,c,m,d,v,y,x,I,C=[],w=13,T,E,M,N=[[1]];for(i=tt(i,3,w),T=-i/2+(i%2?.5:0),E=i+T,l=1;l<w;l+=1)N[0][l]=0;for(l=1;l<w;l+=1)for(N[l]=[1],f=1;f<w;f+=1)N[l][f]=N[l-1][f]+N[l-1][f-1];for(M=N[i-1],l=0,I=0;l<i;l+=1)I+=M[l];for(l=0;l<i;l+=1)M[l]/=I;for(s=0;s<n;s+=1)for(o=0;o<r;o+=1){for(p=c=m=d=0,l=T;l<E;l+=1)y=o+l,x=s,I=M[l-T],y<0&&(y=0),y>=r&&(y=r-1),v=(x*r+y)*4,p+=t[v]*I,c+=t[v+1]*I,m+=t[v+2]*I,d+=t[v+3]*I;v=(s*r+o)*4,C[v]=p,C[v+1]=c,C[v+2]=m,C[v+3]=d}for(s=0;s<n;s+=1)for(o=0;o<r;o+=1){for(p=c=m=d=0,l=T;l<E;l+=1)y=o,x=s+l,I=M[l-T],x<0&&(x=0),x>=n&&(x=n-1),v=(x*r+y)*4,p+=C[v]*I,c+=C[v+1]*I,m+=C[v+2]*I,d+=C[v+3]*I;v=(s*r+o)*4,e[v]=p,e[v+1]=c,e[v+2]=m,e[v+3]=d}}function yv(t,e){return e*=4,[t[e+0],t[e+1],t[e+2],t[e+3]]}function gv(t,e,r){e*=4,t[e+0]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3]}function on(t,e,r,n,i,o,s){r=i/2+(r||0),n=o/2+(n||0);var l,f,u,p,c,m,d;for(l=0;l<o;l+=1)for(f=0;f<i;f+=1)u=f-r,p=l-n,c=Math.sqrt(Math.pow(u,2)+Math.pow(p,2)),m=Math.atan2(p,u),d=s(c,m),c=d[0],m=d[1],gv(e,f+l*i,yv(t,Math.round(r+Math.cos(m)*c)+Math.round(n+Math.sin(m)*c)*i))}var xv={invert:function(t,e,r,n){var i,o=r*n*4;for(i=0;i<o;i+=4)e[i]=255-t[i],e[i+1]=255-t[i+1],e[i+2]=255-t[i+2],e[i+3]=t[i+3]},sepia:function(t,e,r,n){var i,o=r*n*4,s,l,f;for(i=0;i<o;i+=4)s=t[i],l=t[i+1],f=t[i+2],e[i]=s*.393+l*.769+f*.189,e[i+1]=s*.349+l*.686+f*.168,e[i+2]=s*.272+l*.534+f*.131,e[i+3]=t[i+3]},solarize:function(t,e,r,n){var i,o=r*n*4,s,l,f;for(i=0;i<o;i+=4)s=t[i],l=t[i+1],f=t[i+2],e[i]=s>127?255-s:s,e[i+1]=l>127?255-l:l,e[i+2]=f>127?255-f:f,e[i+3]=t[i+3]},brightness:function(t,e,r,n,i){i=dt(i,{brightness:1,contrast:0});var o,s=r*n*4,l,f,u,p=tt(i.contrast,-1,1)/2,c=1+tt(i.brightness,-1,1),m=c<0?-c:c,d=c<0?0:c,v;for(p=.5*Math.tan((p+1)*Math.PI/4),v=-(p-.5)*255,o=0;o<s;o+=4)l=t[o],f=t[o+1],u=t[o+2],l=(l+l*m+d)*p+v,f=(f+f*m+d)*p+v,u=(u+u*m+d)*p+v,e[o]=l,e[o+1]=f,e[o+2]=u,e[o+3]=t[o+3]},desaturate:function(t,e,r,n,i){i=dt(i,{method:ca});var o,s=r*n*4,l,f,u,p;for(i.method===ca?(f=.3,u=.59,p=.11):i.method===dv&&(f=.2125,u=.7154,p=.0721),o=0;o<s;o+=4)l=t[o]*f+t[o+1]*u+t[o+2]*p,e[o]=l,e[o+1]=l,e[o+2]=l,e[o+3]=t[o+3]},lighten:function(t,e,r,n,i){i=dt(i,{amount:.25});var o,s=r*n*4,l=1+tt(i.amount,0,1);for(o=0;o<s;o+=4)e[o]=t[o]*l,e[o+1]=t[o+1]*l,e[o+2]=t[o+2]*l,e[o+3]=t[o+3]},noise:function(t,e,r,n,i){i=dt(i,{amount:.5,strength:.5,mono:!1});var o,s=r*n*4,l,f,u,p,c=tt(i.amount,0,1),m=tt(i.strength,0,1),d=!!i.mono,v=Math.random;for(o=0;o<s;o+=4)f=t[o],u=t[o+1],p=t[o+2],l=v(),l<c&&(d?(l=m*(l/c*2-1)*255,f+=l,u+=l,p+=l):(f+=m*v()*255,u+=m*v()*255,p+=m*v()*255)),e[o]=f,e[o+1]=u,e[o+2]=p,e[o+3]=t[o+3]},flipv:function(t,e,r,n){var i,o,s=r*n*4,l,f;for(o=0;o<n;o+=1)for(i=0;i<r;i+=1)l=(o*r+i)*4,f=(o*r+(r-i-1))*4,e[f]=t[l],e[f+1]=t[l+1],e[f+2]=t[l+2],e[f+3]=t[l+3]},fliph:function(t,e,r,n){var i,o,s=r*n*4,l,f;for(o=0;o<n;o+=1)for(i=0;i<r;i+=1)l=(o*r+i)*4,f=((n-o-1)*r+i)*4,e[f]=t[l],e[f+1]=t[l+1],e[f+2]=t[l+2],e[f+3]=t[l+3]},blur:function(t,e,r,n,i){i=dt(i,{radius:10});for(var o=0;o<t.length;o+=1)e[o]=t[o];(0,ma.default)(e,r,n,i.radius)},glow:function(t,e,r,n,i){i=dt(i,{amount:.75,kernelSize:5});var o,s=r*n*4,l,f,u,p=i.amount,c=[];for(vv(t,c,r,n,i.kernelSize),o=0;o<s;o+=4)l=t[o]+c[o]*p,f=t[o+1]+c[o+1]*p,u=t[o+2]+c[o+2]*p,l>255&&(l=255),f>255&&(f=255),u>255&&(u=255),e[o]=l,e[o+1]=f,e[o+2]=u,e[o+3]=t[o+3]},convolve3x3:function(t,e,r,n,i){ce(t,e,r,n,i.kernel)},convolve5x5:function(t,e,r,n,i){nn(t,e,r,n,i.kernel)},sharpen3x3:function(t,e,r,n,i){i=dt(i,{strength:1});var o=-tt(i.strength,0,1);ce(t,e,r,n,[[o,o,o],[o,1-o*8,o],[o,o,o]])},sharpen5x5:function(t,e,r,n,i){i=dt(i,{strength:1});var o=-tt(i.strength,0,1);nn(t,e,r,n,[[o,o,o,o,o],[o,o,o,o,o],[o,o,1-o*24,o,o],[o,o,o,o,o],[o,o,o,o,o]])},soften3x3:function(t,e,r,n){var i=.1111111111111111;ce(t,e,r,n,[[i,i,i],[i,i,i],[i,i,i]])},soften5x5:function(t,e,r,n){var i=.04;nn(t,e,r,n,[[i,i,i,i,i],[i,i,i,i,i],[i,i,i,i,i],[i,i,i,i,i],[i,i,i,i,i]])},crossedges:function(t,e,r,n,i){i=dt(i,{strength:1});var o=tt(i.strength,0,1)*5;ce(t,e,r,n,[[0,-o,0],[-o,0,o],[0,o,0]],!1,!0)},emboss:function(t,e,r,n,i){i=dt(i,{amount:1,angle:0});var o,s=r*n*4,l=i.amount,f=i.angle,u=Math.cos(-f)*l,p=Math.sin(-f)*l,c=-u-p,m=-u,d=p-u,v=-p,y=p,x=-p+u,I=u,C=p+u,w=[];for(ce(t,w,r,n,[[c,v,x],[m,0,I],[d,y,C]]),o=0;o<s;o+=4)e[o]=128+w[o],e[o+1]=128+w[o+1],e[o+2]=128+w[o+2],e[o+3]=t[o+3]},findedges:function(t,e,r,n){var i,o=r*n*4,s,l,f,u,p,c,m=[],d=[];for(ce(t,m,r,n,[[-1,0,1],[-2,0,2],[-1,0,1]]),ce(t,d,r,n,[[-1,-2,-1],[0,0,0],[1,2,1]]),i=0;i<o;i+=4)s=m[i],l=d[i],f=m[i+1],u=d[i+1],p=m[i+2],c=d[i+2],s<0&&(s=-s),l<0&&(l=-l),f<0&&(f=-f),u<0&&(u=-u),p<0&&(p=-p),c<0&&(c=-c),e[i]=255-(s+l)*.8,e[i+1]=255-(f+u)*.8,e[i+2]=255-(p+c)*.8,e[i+3]=t[i+3]},edgeenhance3x3:function(t,e,r,n){var i=-.1111111111111111;ce(t,e,r,n,[[i,i,i],[i,17/9,i],[i,i,i]])},edgeenhance5x5:function(t,e,r,n){var i=-.04;nn(t,e,r,n,[[i,i,i,i,i],[i,i,i,i,i],[i,i,49/25,i,i],[i,i,i,i,i],[i,i,i,i,i]])},laplace3x3:function(t,e,r,n){ce(t,e,r,n,[[-1,-1,-1],[-1,8,-1],[-1,-1,-1]],!1,!0,!0)},laplace5x5:function(t,e,r,n){nn(t,e,r,n,[[-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1],[-1,-1,24,-1,-1],[-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1]],!1,!0,!0)},rgbAdjust:function(t,e,r,n,i){i=dt(i,{r:0,g:0,b:0,a:0});var o,s=r*n*4,l,f,u,p,c=tt(i.r,-1,1)*255,m=tt(i.g,-1,1)*255,d=tt(i.b,-1,1)*255,v=tt(i.a,-1,1)*255;for(o=0;o<s;o+=4)l=t[o]+c,f=t[o+1]+m,u=t[o+2]+d,p=t[o+3]+v,l<0&&(l=0),f<0&&(f=0),u<0&&(u=0),p<0&&(p=0),l>255&&(l=255),f>255&&(f=255),u>255&&(u=255),p>255&&(p=255),e[o]=l,e[o+1]=f,e[o+2]=u,e[o+3]=p},colorfilter:function(t,e,r,n,i){i=dt(i,{luminosity:!1,r:1,g:.5,b:0});var o,s=r*n*4,l,f,u,p=!!i.luminosity,c,m,d,v,y,x,I,C,w=tt(i.r,0,1),T=tt(i.g,0,1),E=tt(i.b,0,1);for(o=0;o<s;o+=4)l=t[o]/255,f=t[o+1]/255,u=t[o+2]/255,v=l*.3+f*.59+u*.11,l=(l+l*w)/2,f=(f+f*T)/2,u=(u+u*E)/2,p&&(c=m=l,f>m&&(m=f),u>m&&(m=u),f<c&&(c=f),u<c&&(c=u),x=m-c,l===m?d=(f-u)/x%6:f===m?d=(u-l)/x+2:d=(l-f)/x+4,y=d>>0,I=x*(d-y),l=f=u=v-(l*.3+f*.59+u*.11),y===0?(l+=x,f+=I):y===1?(l+=x-I,f+=x):y===2?(f+=x,u+=I):y===3?(f+=x-I,u+=x):y===4?(l+=I,u+=x):y===5&&(l+=x,u+=x-I)),e[o]=l*255,e[o+1]=f*255,e[o+2]=u*255,e[o+3]=t[o+3]},hslAdjust:function(t,e,r,n,i){i=dt(i,{h:.5,s:.3,l:.1,a:0});var o,s=r*n*4,l,f,u,p,c=tt(i.h,-1,1),m=tt(i.s,-1,1),d=tt(i.l,-1,1),v=tt(i.a,-1,1)*255,y=1+m*(m<0?1:2),x=d<0?1+d:1-d,I=d<0?0:d*255,C,w,T,E,M,N,L,Y,X,B;for(c=c*6%6,o=0;o<s;o+=4)l=t[o],f=t[o+1],u=t[o+2],p=t[o+3]+v,(c!==0||m!==0)&&(C=l,f>C&&(C=f),u>C&&(C=u),w=l,f<w&&(w=f),u<w&&(w=u),T=C-w,N=(w+C)/510,N>0&&T>0&&(N<=.5?(M=T/(C+w)*y,M>1&&(M=1),L=N*(1+M)):(M=T/(510-C-w)*y,M>1&&(M=1),L=N+M-N*M),l===C?f===w?E=5+(C-u)/T+c:E=1-(C-f)/T+c:f===C?u===w?E=1+(C-l)/T+c:E=3-(C-u)/T+c:l===w?E=3+(C-f)/T+c:E=5-(C-l)/T+c,E<0&&(E+=6),E>=6&&(E-=6),Y=N+N-L,B=E>>0,X=(L-Y)*(E-B),B===0?(l=L,f=Y+X,u=Y):B===1?(l=L-X,f=L,u=Y):B===2?(l=Y,f=L,u=Y+X):B===3?(l=Y,f=L-X,u=L):B===4?(l=Y+X,f=Y,u=L):B===5&&(l=L,f=Y,u=L-X),l*=255,f*=255,u*=255)),l=l*x+I,f=f*x+I,u=u*x+I,l<0&&(l=0),f<0&&(f=0),u<0&&(u=0),p<0&&(p=0),l>255&&(l=255),f>255&&(f=255),u>255&&(u=255),p>255&&(p=255),e[o]=l,e[o+1]=f,e[o+2]=u,e[o+3]=p},posterize:function(t,e,r,n,i){i=dt(i,{levels:5});var o,s=r*n*4,l,f,u,p=tt(i.levels,2,256),c=256/p,m=256/(p-1);for(o=0;o<s;o+=4)e[o]=m*(t[o]/c>>0),e[o+1]=m*(t[o+1]/c>>0),e[o+2]=m*(t[o+2]/c>>0),e[o+3]=t[o+3]},removenoise:function(t,e,r,n){var i,o,s=r*n*4,l,f,u,p,c,m,d,v,y,x,I,C,w,T,E,M,N;for(o=0;o<n;o+=1)for(m=o*r*4,d=m-r*4,v=m+r*4,o<1&&(d=m),o>=r-1&&(v=m),i=0;i<r;i+=1)c=(o*r+i)*4,y=i*4,x=y-4,I=y+4,i<1&&(x=y),i>=r-1&&(I=y),C=E=t[m+x],p=t[m+I],p<C&&(C=p),p>E&&(E=p),p=t[d+y],p<C&&(C=p),p>E&&(E=p),p=t[v+y],p<C&&(C=p),p>E&&(E=p),w=t[m+x+1],p=t[m+I+1],p<w&&(w=p),p=t[d+y+1],p<w&&(w=p),p=t[v+y+1],p<w&&(w=p),T=t[m+x+2],p=t[m+I+2],p<T&&(T=p),p=t[d+y+2],p<T&&(T=p),p=t[v+y+2],p<T&&(T=p),l=t[c],f=t[c+1],u=t[c+2],l<C&&(l=C),l>E&&(l=E),f<w&&(f=w),f>M&&(f=M),u<T&&(u=T),u>N&&(u=N),e[c]=l,e[c+1]=f,e[c+2]=u,e[c+3]=t[c+3]},mosaic:function(t,e,r,n,i){i=dt(i,{blockSize:8});var o=tt(i.blockSize,1,Math.max(r,n)),s=Math.ceil(n/o),l=Math.ceil(r/o),f,u,p,c,m,d,v,y,x,I,C,w,T,E,M=s*l,N,L=0;for(f=0,x=0,v=0;v<s;v+=1){for(u=tt(f+o,0,n),p=0,y=0;y<l;y+=1){for(c=tt(p+o,0,r),m=f*r+p<<2,I=t[m],C=t[m+1],w=t[m+2],T=f;T<u;T+=1)for(E=p;E<c;E+=1)d=T*r+E<<2,e[d]=I,e[d+1]=C,e[d+2]=w,e[d+3]=t[d+3];p=c,x+=1}f=u}},equalize:function(t,e,r,n,i){var o=r*n,s,l,f,u,p,c,m=Math.round,d=new Array(256);for(l=0;l<256;l+=1)d[l]=0;for(l=0;l<o;l+=1)s=l*4,f=tt(m(t[s]*.3+t[s+1]*.59+t[s+2]*.11),0,255),e[s+3]=f,d[f]+=1;var v=new Array(256);for(v[0]=d[0],l=1;l<256;l+=1)v[l]=v[l-1]+d[l];for(l=0;l<256;l+=1)v[l]=v[l]/o*255;for(l=0;l<o;l+=1)s=l*4,f=e[s+3],u=v[f]/(f||1),e[s]=tt(m(t[s]*u),0,255),e[s+1]=tt(m(t[s+1]*u),0,255),e[s+2]=tt(m(t[s+2]*u),0,255),e[s+3]=t[s+3]},mask:function(t,e,r,n,i){var o,s=r*n*4,l=i.data;for(o=0;o<s;o+=4)e[o]=t[o],e[o+1]=t[o+1],e[o+2]=t[o+2],e[o+3]=t[o+3]*l[o]/255*l[o+3]/255},bump:function(t,e,r,n,i){i=dt(i,{dx:0,dy:0,radius:0,zoom:0});var o=i.radius,s=tt(i.zoom,0,1);return on(t,e,i.dx,i.dy,r,n,function(l,f){return[l*Co(0,s,l/o),f]})},dent:function(t,e,r,n,i){i=dt(i,{dx:0,dy:0,radius:0,zoom:0});var o=i.radius,s=tt(i.zoom,0,1);return on(t,e,i.dx,i.dy,r,n,function(l,f){return[2*l-l*Co(0,s,l/o),f]})},pinch:function(t,e,r,n,i){i=dt(i,{dx:0,dy:0,zoom:0});var o=la(0,0,r,n),s=tt(i.zoom*.75,-.75,.75);return on(t,e,i.dx,i.dy,r,n,function(l,f){return[l*Math.pow(o/l,s)*(1-s),f]})},splash:function(t,e,r,n,i){i=dt(i,{dx:0,dy:0,radius:0});var o=i.radius;return on(t,e,i.dx,i.dy,r,n,function(s,l){return[s>o?o:s,l]})},twirl:function(t,e,r,n,i){i=dt(i,{dx:0,dy:0,radius:0,angle:0});var o=Kn(i.angle),s=i.radius;return on(t,e,i.dx,i.dy,r,n,function(l,f){return[l,f+(1-Co(-s,s,l))*o]})}},da=xv;var va=Er.getNativeModes();function ya(t,e,r){return t.createImageData?t.createImageData(e,r):t.getImageData(0,0,e,r)}var H={};H.toImage=function(t){var e=new Image;return e.width=t.width,e.height=t.height,e.src=t.toDataURL(),e};H.load=function(t,e){if(e.isFill())return H.generateColor(t,e);if(e.isGradient())return H.generateGradient(t,e);if(e.isHtmlCanvas())return H.loadHtmlCanvas(e.data);if(e.isImage())return H.loadImage(e.data);if(e.isImageCanvas())return H.loadImageCanvas(e.data)};H.loadHtmlCanvas=function(t){return t};H.loadImageCanvas=function(t){return t.render()};H.loadImage=function(t){var e=document.createElement("canvas"),r=e.getContext("2d");return e.width=t.width,e.height=t.height,r.drawImage(t,0,0,e.width,e.height),e};H.generateColor=function(t,e){var r=e.width!==void 0?e.width:t.width,n=e.height!==void 0?e.height:t.height,i=document.createElement("canvas"),o=i.getContext("2d");return i.width=r,i.height=n,o.fillStyle=e.data,o.fillRect(0,0,r,n),i};H.generateGradient=function(t,e){var r,n,i,o,s,l=e.width!==void 0?e.width:t.width,f=e.height!==void 0?e.height:t.height,u=l/2,p=f/2,c=document.createElement("canvas"),m=c.getContext("2d"),d=e.data,v=d.type||"linear",y=d.rotation||0;return v==="radial"?r=m.createRadialGradient(u,p,0,u,p,Math.min(l,f)/2):(y<0&&(y+=360),0<=y&&y<45?(n=0,i=f/2*(45-y)/45,o=l,s=f-i):45<=y&&y<135?(n=l*(y-45)/(135-45),i=0,o=l-n,s=f):135<=y&&y<225?(n=l,i=f*(y-135)/(225-135),o=0,s=f-i):225<=y&&y<315?(n=l*(1-(y-225)/(315-225)),i=f,o=l-n,s=0):315<=y&&(n=0,i=f-f/2*(y-315)/(360-315),o=l,s=f-i),r=m.createLinearGradient(n,i,o,s)),r.addColorStop(d.spread||0,d.startColor),r.addColorStop(1,d.endColor),c.width=l,c.height=f,m.fillStyle=r,m.fillRect(0,0,l,f),c};H.processImage=function(t,e){if(e.length===0)return t;for(var r,n,i=t.getContext("2d"),o=t.width,s=t.height,l=i.getImageData(0,0,o,s),f=ya(i,o,s),u=0;u<e.length;u+=1)u>0&&(n=l,l=f,f=n),r=e[u],da[r.name](l.data,f.data,o,s,r.options);return i.putImageData(f,0,0),t};H.processMask=function(t,e){if(e.layers.length===0)return t;e.width=t.width,e.height=t.height;var r=H.renderBW(e),n=r.getContext("2d").getImageData(0,0,r.width,r.height).data,i={name:"mask",options:{data:n,x:0,y:0,width:r.width,height:r.height}};return H.processImage(t,[i])};H.processLayer=function(t,e){var r=H.load(t,e),n=H.processMask(r,e.mask);return H.processImage(n,e.filters)};function Io(t,e,r){var n=r.transform.matrix();t.translate(e.width/2,e.height/2),t.transform(n[0],n[1],n[3],n[4],n[6],n[7]),(r.flip_h||r.flip_v)&&t.scale(r.flip_h?-1:1,r.flip_v?-1:1),t.translate(-r.img.width/2,-r.img.height/2)}function Pv(t,e){var r,n,i,o,s,l=e.img.width,f=e.img.height,u={x:0,y:0},p={x:l,y:0},c={x:0,y:f},m={x:l,y:f},d=[u,p,c,m],v=Tr();v=v.translate(t.width/2,t.height/2),v=v.append(e.transform),v=v.translate(-e.img.width/2,-e.img.height/2);for(var y=0;y<4;y+=1)r=v.transformPoint(d[y]),y===0?(n=o=r.x,i=s=r.y):(r.x<n&&(n=r.x),r.x>o&&(o=r.x),r.y<i&&(i=r.y),r.y>s&&(s=r.y));return{x:n,y:i,width:o-n,height:s-i}}function wv(t,e){var r=t.x+t.width,n=t.y+t.height,i=e.x+e.width,o=e.y+e.height,s=Math.max(t.x,e.x),l=Math.max(t.y,e.y),f=Math.max(Math.min(r,i)-s,0),u=Math.max(Math.min(n,o)-l,0);return{x:s,y:l,width:f,height:u}}function _v(t,e){var r=Pv(t,e);return r=wv(r,{x:0,y:0,width:t.width,height:t.height}),{x:Math.round(r.x),y:Math.round(r.y),width:Math.ceil(r.width),height:Math.ceil(r.height)}}function Cv(t,e,r){var n=document.createElement("canvas"),i=n.getContext("2d");return n.width=r.width,n.height=r.height,i.translate(-r.x,-r.y),Io(i,t,e),i.drawImage(e.img,0,0),i.getImageData(0,0,r.width,r.height)}H.mergeManualBlend=function(t,e){return function(r){for(var n,i,o,s,l,f,u=r.getContext("2d"),p=t.width,c=t.height,m=u.getImageData(0,0,p,c),d=ya(u,p,c),v=0;v<e.length;v+=1)if(n=e[v],f=_v(t,n),f.width>0&&f.height>0){if(v>0&&(s=m,m=d,d=s),o=Cv(t,n,f),l={data:o.data,width:f.width,height:f.height,opacity:n.opacity,dx:f.x,dy:f.y},Er[n.blendmode]===void 0)throw new Error("No blend mode named '"+n.blendmode+"'");i=Er.realBlendMode(n.blendmode),Er[i](m.data,d.data,p,c,l)}return u.putImageData(d,0,0),r}};H.singleLayerWithOpacity=function(t,e){var r=document.createElement("canvas"),n=r.getContext("2d");return r.width=t.width,r.height=t.height,n.save(),Io(n,t,e),e.opacity!==1&&(n.globalAlpha=e.opacity),n.drawImage(e.img,0,0),n.restore(),r};H.mergeNativeBlend=function(t,e){return function(r){for(var n=r.getContext("2d"),i,o=0;o<e.length;o+=1)i=e[o],n.save(),Io(n,t,i),i.opacity!==1&&(n.globalAlpha=i.opacity),i.blendmode!=="source-over"&&(n.globalCompositeOperation=Er.realBlendMode(i.blendmode)),n.drawImage(i.img,0,0),n.restore();return r}};H.createRenderPipe=function(t,e,r){var n,i,o,s,l=[];function f(){if(i!==void 0){var p=i?t.mergeNativeBlend:t.mergeManualBlend;l.push(p(e,o))}}for(var u=1;u<r.length;u+=1)s=r[u],n=s.blendmode,(i===void 0||i!==va[n])&&(f(),o=[]),o.push(s),i=va[n],u===r.length-1&&f();return l};H.merge=function(t,e){for(var r=H.createRenderPipe(H,t,e),n=H.singleLayerWithOpacity(t,e[0]),i=0;i<r.length;i+=1)n=r[i](n);return n};H.composite=function(t,e){return!e||e.length===0?null:e.length===1?H.singleLayerWithOpacity(t,e[0]):H.merge(t,e)};H.getLayerData=function(t,e){for(var r,n,i,o=[],s=0;s<e.length;s+=1)n=t.layers[s],i=e[s],r={img:i,opacity:n.opacity,blendmode:n.blendmode,transform:n.transform,flip_h:n.flip_h,flip_v:n.flip_v},o.push(r);return o};H.render=function(t){for(var e=[],r=0;r<t.layers.length;r+=1)e.push(H.processLayer(t,t.layers[r]));return H.composite(t,H.getLayerData(t,e))};H.renderBW=function(t){var e=H.render(t),r=e.getContext("2d").getImageData(0,0,e.width,e.height).data,n={name:"desaturate",options:{method:"ITU-R BT.709"}};return H.processImage(e,[n])};var St=H;function ga(t,e){e(null,t)}var rt={};rt.toImage=function(){return function(t,e){e(null,St.toImage(t))}};rt.load=function(t,e){if(e.isPath())return rt.loadFile(e.data);if(e.isFill())return rt.generateColor(t,e);if(e.isGradient())return rt.generateGradient(t,e);if(e.isHtmlCanvas())return rt.loadHtmlCanvas(e.data);if(e.isImage())return rt.loadImage(e.data);if(e.isImageCanvas())return rt.loadImageCanvas(e.data)};rt.loadFile=function(t){return function(e,r){var n=document.createElement("canvas"),i=n.getContext("2d"),o=new Image;o.onload=function(){n.width=o.width,n.height=o.height,i.drawImage(o,0,0,n.width,n.height),r(null,n)},o.src=t}};rt.loadHtmlCanvas=function(t){return function(e,r){r(null,t)}};rt.loadImageCanvas=function(t){return function(e,r){t.render(function(n){r(null,n)})}};rt.loadImage=function(t){return function(e,r){var n=St.loadImage(t);r(null,n)}};rt.generateColor=function(t,e){return function(r,n){var i=St.generateColor(t,e);n(null,i)}};rt.generateGradient=function(t,e){return function(r,n){var i=St.generateGradient(t,e);n(null,i)}};rt.processImage=function(t){return t.length===0?ga:function(e,r){St.processImage(e,t),r(null,e)}};rt.processMask=function(t){return t.layers.length===0?ga:function(e,r){t.width=e.width,t.height=e.height,rt.renderBW(t,function(n){var i=n.getContext("2d").getImageData(0,0,n.width,n.height).data,o={name:"mask",options:{data:i,x:0,y:0,width:n.width,height:n.height}},s=rt.processImage([o]);s(e,r)})}};function Iv(t){return function(e,r){rn(rt.processImage(e.filters),rt.processMask(e.mask),rt.load(t,e))(null,r)}}rt.mergeManualBlend=function(t,e){return function(r,n){St.mergeManualBlend(t,e)(r),n(null,r)}};rt.mergeNativeBlend=function(t,e){return function(r,n){St.mergeNativeBlend(t,e)(r),n(null,r)}};rt.merge=function(t,e,r){var n=St.createRenderPipe(rt,t,e);n.reverse();var i=St.singleLayerWithOpacity(t,e[0]);n.push(function(o,s){s(null,i)}),rn.apply(null,n)(null,function(){r(i)})};rt.composite=function(t,e,r){if(!e||e.length===0){r(null);return}if(e.length===1){r(St.singleLayerWithOpacity(t,e[0]));return}rt.merge(t,e,r)};rt.render=function(t,e){Po(t.layers,Iv(t),function(r,n){e&&rt.composite(t,St.getLayerData(t,n),e)})};rt.renderBW=function(t,e){rt.render(t,function(r){var n=r.getContext("2d").getImageData(0,0,r.width,r.height).data,i={name:"desaturate",options:{method:"ITU-R BT.709"}},o=rt.processImage([i]);o(r,function(s,l){e(l)})})};var xa=rt;var Pa=800,wa=800,ei="path",sn="image",ln="htmlCanvas",br="iCanvas",ri="fill",an="gradient",bo=Tr(),me=bo,Tv=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","transparent","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"];function ni(t,e,r,n,i){var o,s,l,f,u,p,c,m,d;if(t===void 0)o=s=l=0,f=1;else if(Array.isArray(t))d=e||{},o=t[0]!==void 0?t[0]:0,s=t[1]!==void 0?t[1]:0,l=t[2]!==void 0?t[2]:0,f=t[3]!==void 0?t[3]:d.base||1;else if(t.r!==void 0)d=e||{},o=t.r,s=t.g,l=t.b,f=t.a!==void 0?t.a:d.base||1;else if(typeof t=="string"){if(t.indexOf("#")===0||t.indexOf("rgb")===0||Tv.indexOf(t)!==-1)return t}else typeof t=="number"&&(arguments.length===1?(o=s=l=t,f=1):arguments.length===2?(o=s=l=t,typeof e=="number"?f=e:(d=e,f=d.base||1)):arguments.length===3?typeof r=="number"?(o=t,s=e,l=r,f=1):(o=s=l=t,f=e,d=r):arguments.length===4?(o=t,s=e,l=r,typeof n=="number"?f=n:(d=n||{},f=d.base||1)):(o=t,s=e,l=r,f=n,d=i));if(!(typeof o=="number"&&typeof s=="number"&&typeof l=="number"&&typeof f=="number"))throw new Error("Invalid color arguments");return d=d||{},d.base!==void 0&&(o/=d.base,s/=d.base,l/=d.base,f/=d.base),u=Math.round(o*255),p=Math.round(s*255),c=Math.round(l*255),"rgba("+u+", "+p+", "+c+", "+f+")"}function _a(t,e,r,n,i){var o,s,l,f,u,p,c={};if(arguments.length===1)p=t||{},o=p.startColor,s=p.endColor,l=p.type,f=p.rotation,u=p.spread;else if(arguments.length>=2)if(o=t,s=e,l="linear",f=0,u=0,arguments.length===3)typeof r=="string"?l=r:typeof r=="number"&&(f=r);else if(arguments.length===4)if(typeof r=="number")f=r,u=n;else if(r==="linear")f=n;else if(r==="radial")l=r,u=n;else throw new Error("Wrong argument provided: "+r);else arguments.length===5&&(l=r,f=n,u=i);if(!o&&o!==0)throw new Error("No startColor was given.");if(!s&&s!==0)throw new Error("No endColor was given.");try{c.startColor=ni(o)}catch{throw new Error("startColor is not a valid color: "+o)}try{c.endColor=ni(s)}catch{throw new Error("endColor is not a valid color: "+s)}if(l===void 0&&(l="linear"),l!=="linear"&&l!=="radial")throw new Error("Unknown gradient type: "+l);if(c.type=l,u===void 0&&(u=0),typeof u!="number")throw new Error("Spread value is not a number: "+u);if(l==="linear"){if(f===void 0&&(f=0),typeof f!="number")throw new Error("Rotation value is not a number: "+f);c.rotation=f}return c.spread=tt(u,0,.99),c}function Ev(t){if(typeof t=="string")return ei;if(t instanceof Image)return sn;if(t instanceof HTMLCanvasElement)return ln;if(t instanceof Oe)return br;if(t.r!==void 0&&t.g!==void 0&&t.b!==void 0&&t.a!==void 0)return ri;if(t.startColor!==void 0&&t.endColor!==void 0)return an;throw new Error("Cannot establish type for data ",t)}var ut=class{constructor(e,r){r||(r=Ev(e)),this.data=e,this.type=r,(r===ln||r===br||r===sn)&&(this.width=e.width,this.height=e.height),this.opacity=1,this.blendmode="source-over",this.transform=bo,this.flip_h=!1,this.flip_v=!1,this.mask=new Oe,this.filters=[]}clone(){function e(i){var o,s,l={};if(l.name=i.name,i.options!==void 0){l.options={};for(var f=Object.keys(i.options),u=0;u<f.length;u+=1)o=f[u],s=i.options[o],Array.isArray(s)?l.options[o]=s.slice(0):l.options[o]=s}return l}var r=Object.create(ut.prototype);r.data=this.data,r.type=this.type,r.width=this.width,r.height=this.height,r.opacity=this.opacity,r.blendmode=this.blendmode,r.transform=this.transform,r.flip_h=this.flip_h,r.flip_v=this.flip_v,r.mask=this.mask.clone(),r.filters=[],this.type===br?r.data=this.data.clone():this.type===an&&(r.data={startColor:this.data.startColor,endColor:this.data.endColor,type:this.data.type,rotation:this.data.rotation,spread:this.data.spread});for(var n=0;n<this.filters.length;n+=1)r.filters.push(e(this.filters[n]));return r}setOpacity(e){this.opacity=tt(e,0,1)}translate(e,r){r=r===void 0?0:r;var n=me.translate(e,r);this.transform=this.transform.prepend(n)}scale(e,r){r=r===void 0?e:r;var n=me.scale(e,r);this.transform=this.transform.prepend(n)}rotate(e){var r=me.rotate(e);this.transform=this.transform.prepend(r)}skew(e,r){r=r===void 0?e:r;var n=me.skew(e,r);this.transform=this.transform.prepend(n)}flipHorizontal(e){e!==void 0?this.flip_h=e:this.flip_h=!this.flip_h}flipVertical(e){e!==void 0?this.flip_v=e:this.flip_v=!this.flip_v}addFilter(e,r){this.filters.push({name:e,options:r})}draw(e){var r=this.width===void 0?Pa:this.width,n=this.height===void 0?wa:this.height,i=new Oe(r,n);i.addLayer(this),i.draw(e)}toCanvas(){var e=document.createElement("canvas");e.width=this.width,e.height=this.height;var r=e.getContext("2d");return this.draw(r),e}static fromFile(e){return new ut(e,ei)}static fromImage(e){return new ut(e,sn)}static fromCanvas(e){return e instanceof HTMLCanvasElement?ut.fromHtmlCanvas(e):ut.fromImageCanvas(e)}static fromHtmlCanvas(e){return new ut(e,ln)}static fromImageCanvas(e){return new ut(e,br)}static fromColor(e){return new ut(ni(e),ri)}static fromGradient(){return new ut(_a.apply(null,arguments),an)}isPath(){return this.type===ei}isFill(){return this.type===ri}isGradient(){return this.type===an}isHtmlCanvas(){return this.type===ln}isImage(){return this.type===sn}isImageCanvas(){return this.type===br}};ut.Transform=ut.IDENTITY_TRANSFORM=bo;var Eo=class{constructor(e){this.width=e.width,this.height=e.height;var r=e.getContext("2d");this._data=r.getImageData(0,0,this.width,this.height),this.array=this._data.data}get(e){e*=4;var r=this.array;return[r[e+0],r[e+1],r[e+2],r[e+3]]}set(e,r){e*=4;var n=this.array;n[e+0]=r[0],n[e+1]=r[1],n[e+2]=r[2],n[e+3]=r[3]}toCanvas(){var e=document.createElement("canvas");e.width=this.width,e.height=this.height;var r=e.getContext("2d");return r.putImageData(this._data,0,0),e}},Oe=class{constructor(e,r){e||(e=Pa),r||(r=wa),this.width=e,this.height=r,this.layers=[]}clone(){for(var e=new Oe(this.width,this.height),r=0;r<this.layers.length;r+=1)e.layers.push(this.layers[r].clone());return e}addLayer(e){var r;try{return this.addGradientLayer.apply(this,arguments)}catch{}try{return this.addColorLayer.apply(this,arguments)}catch{}if(arguments.length===1&&(typeof e=="string"?r=new ut(e,ei):e instanceof ut?r=e:e instanceof HTMLCanvasElement?r=new ut(e,ln):e instanceof Image?r=new ut(e,sn):e instanceof Oe&&(r=new ut(e,br))),!r)throw new Error("Error creating layer.");return this.layers.push(r),r}addColorLayer(){var e=ni.apply(null,arguments),r=new ut(e,ri);return this.layers.push(r),r}addGradientLayer(){var e=_a.apply(null,arguments),r=new ut(e,an);return this.layers.push(r),r}render(e){var r=e?xa:St;return r.render(this,e)}draw(e,r){if(r)this.render(function(i){e.drawImage(i,0,0,i.width,i.height)});else{var n=this.render();e.drawImage(n,0,0,n.width,n.height)}}};function bv(t){return t?t.x!==void 0&&t.y!==void 0:!1}function Ov(t){var e=t[0],r=t.length>1?t[1]:e;return{x:e,y:r}}function $e(t){return{x:t,y:t}}function To(t){return t!=null}function be(t){if(Array.isArray(t))return Ov(t);if(typeof t=="number")return $e(t);if(bv(t))return t}var Lt=class{constructor(e,r,n){this.canvas=e,this.originalWidth=e?e.width:0,this.originalHeight=e?e.height:0,this.transform=r||n?me.translate(r,n):ut.IDENTITY_TRANSFORM}clone(){var e=new Lt;return e.canvas=this.canvas,e.originalWidth=this.originalWidth,e.originalHeight=this.originalHeight,e.transform=this.transform,e}withCanvas(e){var r=this.clone();return r.canvas=e,r}_transform(e){var r=this.clone();return r.transform=r.transform.prepend(e),r}translate(e){var r=$e(0),n=arguments;return n.length===1&&To(e)?r=be(e):n.length===2&&(r={x:n[0],y:n[1]}),r.x===0&&r.y===0?this:this._transform(me.translate(r.x,r.y))}rotate(e){if(!e)return this;var r=$e(0),n=arguments;return n.length===2?r=be(n[1]):n.length===3&&(r={x:n[1],y:n[2]}),this._transform(me.translate(r.x,r.y).rotate(e).translate(-r.x,-r.y))}scale(e){var r=$e(1),n=$e(0),i=arguments;return i.length===1&&To(e)?r=be(e):i.length===2?typeof e=="number"&&typeof i[1]=="number"?r={x:i[0],y:i[1]}:(r=be(e),n=be(i[1])):i.length===4&&(r={x:i[0],y:i[1]},n={x:i[2],y:i[3]}),r.x===1&&r.y===1?this:this._transform(me.translate(n.x,n.y).scale(r.x,r.y).translate(-n.x,-n.y))}skew(e){var r=$e(0),n=$e(0),i=arguments;return i.length===1&&To(e)?r=be(e):i.length===2?typeof e=="number"&&typeof i[1]=="number"?r={x:i[0],y:i[1]}:(r=be(e),n=be(i[1])):i.length===4&&(r={x:i[0],y:i[1]},n={x:i[2],y:i[3]}),r.x===0&&r.y===0?this:this._transform(me.translate(n.x,n.y).skew(r.x,r.y).translate(-n.x,-n.y))}transformed(){return img.merge([this])}bounds(){for(var e=this.transform,r=this.originalWidth/2,n=this.originalHeight/2,i={x:-r,y:-n},o={x:r,y:-n},s={x:-r,y:n},l={x:r,y:n},f=[i,o,s,l],u,p,c,m,d,v=0;v<4;v+=1)u=e.transformPoint(f[v]),v===0?(p=m=u.x,c=d=u.y):(u.x<p&&(p=u.x),u.x>m&&(m=u.x),u.y<c&&(c=u.y),u.y>d&&(d=u.y));return{x:p,y:c,width:m-p,height:d-c}}colorize(e){var r=ut.fromColor(e);r.width=this.originalWidth,r.height=this.originalHeight;var n=new Lt(r.toCanvas());return n=n._transform(this.transform.matrix()),img.merge([this,n])}desaturate(e){var r=this.toLayer(!1);return r.addFilter("desaturate",e),this.withCanvas(r.toCanvas())}crop(e){function r(p,c){var m=p.x+p.width,d=p.y+p.height,v=c.x+c.width,y=c.y+c.height,x=Math.max(p.x,c.x),I=Math.max(p.y,c.y),C=Math.max(Math.min(m,v)-x,0),w=Math.max(Math.min(d,y)-I,0);return{x,y:I,width:C,height:w}}var n=this.bounds(),i=e.bounds(),o=r(n,i),s=Math.ceil(o.width),l=Math.ceil(o.height);if(o.width===0||o.height===0)throw new Error("Resulting image has no dimensions");var f=new img.ImageCanvas(s,l),u=f.addLayer(this.toLayer());return u.translate(s/2-i.width-i.x,l/2-i.height-i.y),s<i.width&&o.x>n.x&&u.translate(i.width-s,0),l<i.height&&o.y>n.y&&u.translate(0,i.height-l),new Lt(f.render(),o.x+s/2,o.y+l/2)}draw(e){e.save();var r=this.transform.matrix();e.transform(r[0],r[1],r[3],r[4],r[6],r[7]),e.translate(-this.originalWidth/2,-this.originalHeight/2),e.drawImage(this.canvas,0,0),e.restore()}toLayer(e){var r=document.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height;var n=r.getContext("2d");n.drawImage(this.canvas,0,0);var i=img.Layer.fromHtmlCanvas(r);return e===void 0&&(e=!0),e&&(i.transform=this.transform),i}getPixels(){return new Eo(this.canvas)}toImage(){var e=this.bounds(),r=this.crop({bounds:function(){return e}}),n=new Image;return n.width=r.canvas.width,n.height=r.canvas.height,n.src=r.canvas.toDataURL(),n}};var Av="horizontal",Nv="vertical",Sv="both",Ca="left",Ia="right",Ta="center",Ea="top",ba="bottom",Oa="middle";function Ae(t,e,r){return Math.min(r,Math.max(e,t))}function Oo(t,e){return e.transformShape(t)}function Aa(t,e){return t._transform(e.m)}function Qe(t,e){if(t instanceof R||t instanceof Q||t instanceof It||t.x!==void 0&&t.y!==void 0)return Oo(t,e);if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n+=1)r.push(Qe(t[n],e));return r}else if(t instanceof Lt)return Aa(t,e)}function Lv(t,e,r,n){if(t){var i,o,s,l=e.x,f=e.y,u=Jr(t);return r===Ca?i=l-u.x:r===Ia?i=l-u.x-u.width:r===Ta?i=l-u.x-u.width/2:i=0,n===Ea?o=f-u.y:n===ba?o=f-u.y-u.height:n===Oa?o=f-u.y-u.height/2:o=0,s=new W().translate(i,o),Qe(t,s)}}function Mv(t,e){var r=arguments;if((typeof e!="object"||e instanceof b)&&(e={},r[1]!==void 0&&(e.fill=r[1]),r[2]!==void 0&&(e.stroke=r[2]),r[3]!==void 0&&(e.strokeWidth=r[3])),t instanceof R||t instanceof Q)return t.colorize(e);if(t instanceof Lt||t instanceof It){if(e.fill||e.fill===0)return t.colorize(e.fill);throw new Error("No color given")}}function Xv(t,e,r,n,i,o){if(!t)return[];var s,l,f,u,p,c=[],m=0,d=0,v=0,y=1,x=1,I=!1;for(t instanceof R||t instanceof Q||t instanceof It?p=Oo:Array.isArray(t)&&t.length>0&&t[0].x!==void 0&&t[0].y!==void 0?(I=!0,p=Oo):t instanceof Lt&&(p=Aa),s=0;s<e;s+=1){for(l=new W,f=0;f<r.length;f+=1)u=r[f],u==="t"?l=l.translate(m,d):u==="r"?l=l.rotate(v):u==="s"&&(l=l.scale(y,x));I?c=c.concat(p(t,l)):c.push(p(t,l)),m+=n.x,d+=n.y,v+=i,y+=o.x,x+=o.y}return c}function Yv(t,e){if(e==="none")return t;if(t instanceof R||t instanceof Q||t instanceof It||Array.isArray(t)&&t.length>0&&t[0].x!==void 0&&t[0].y!==void 0){var r=e===g.HORIZONTAL||e===g.BOTH?-1:1,n=e===g.VERTICAL||e===g.BOTH?-1:1;return qi(t,new O(r,n),Hi(t))}else if(t instanceof Lt){var i=t,o=i.toLayer(!1);return(e===g.HORIZONTAL||e===g.BOTH)&&o.flipHorizontal(),(e===g.VERTICAL||e===g.BOTH)&&o.flipVertical(),i.withCanvas(o.toCanvas())}}function Bv(t,e,r,n,i){if(t){i=i!==void 0?i:!1;var o,s,l,f=Jr(t),u=f.x,p=f.y,c=f.width,m=f.height;return c=c>1e-12?c:0,m=m>1e-12?m:0,o=new W,o=o.translate(e.x,e.y),i?(s=c>0?r/c:1,l=m>0?n/m:1):(s=c>0?r/c:Number.MAX_VALUE,l=m>0?n/m:Number.MAX_VALUE,s=l=Math.min(s,l)),o=o.scale(s,l),o=o.translate(-c/2-u,-m/2-p),Qe(t,o)}}function Rv(t,e,r){if(t){if(!e)return t;var n=Jr(e),i=n.x,o=n.y,s=n.width,l=n.height;return g.fit(t,{x:i+s/2,y:o+l/2},s,l,r)}}function Fv(t,e,r,n,i){if(i||(i=0),t instanceof Lt){var o=t,s=o.toLayer(!1);return s.addFilter("hslAdjust",{h:e,s:r,l:n,a:i}),o.withCanvas(s.toCanvas())}e=Ae(e,-1,1),r=Ae(r,-1,1),n=Ae(n,-1,1),i=Ae(i,-1,1);var l=1+r*(r<0?1:2),f=n<0?1+n:1-n,u=n<0?0:n,p,c,m,d,v,y,x,I,C,w,T,E;e=e*6%6;function M(N){if(N instanceof Q){for(var L=[],Y=0;Y<N.shapes.length;Y+=1)L.push(M(N.shapes[Y]));return new Q(L)}else if(N instanceof R){var X=N.clone();return X.fill=M(X.fill),X.stroke=M(X.stroke),X}var B=N;return B instanceof b||(B=b.parse(B)),p=B.r,c=B.g,m=B.b,(e!==0||r!==0)&&(d=p,c>d&&(d=c),m>d&&(d=m),v=p,c<v&&(v=c),m<v&&(v=m),y=d-v,C=(v+d)/2,C>0&&y>0&&(C<=.5?(I=y/(d+v)*l,I>1&&(I=1),t=C*(1+I)):(I=y/(2-d-v)*l,I>1&&(I=1),t=C+I-C*I),p===d?c===v?x=5+(d-m)/y+e:x=1-(d-c)/y+e:c===d?m===v?x=1+(d-p)/y+e:x=3-(d-m)/y+e:p===v?x=3+(d-c)/y+e:x=5-(d-p)/y+e,x<0&&(x+=6),x>=6&&(x-=6),w=C+C-t,E=x>>0,T=(t-w)*(x-E),E===0?(p=t,c=w+T,m=w):E===1?(p=t-T,c=t,m=w):E===2?(p=w,c=t,m=w+T):E===3?(p=w,c=t-T,m=t):E===4?(p=w+T,c=w,m=t):E===5&&(p=t,c=w,m=t-T))),p=p*f+u,c=c*f+u,m=m*f+u,p<0&&(p=0),c<0&&(c=0),m<0&&(m=0),p>1&&(p=1),c>1&&(c=1),m>1&&(m=1),new b(p,c,m,B.a+i)}return M(t)}function kv(t,e,r,n,i){i||(i=0),e=Ae(e,-1,1),r=Ae(r,-1,1),n=Ae(n,-1,1),i=Ae(i,-1,1);function o(s){if(s instanceof Lt){var l=s,f=l.toLayer(!1);return f.addFilter("rgbAdjust",{r:e,g:r,b:n,a:i}),l.withCanvas(f.toCanvas())}else if(s instanceof Q){for(var u=[],p=0;p<s.shapes.length;p+=1)u.push(o(s.shapes[p]));return new Q(u)}else if(s instanceof R){var c=s.clone();return c.fill=o(c.fill),c.stroke=o(c.stroke),c}var m=s;return m instanceof b||(m=b.parse(m)),new b(m.r+e,m.g+r,m.b+n,m.a+i)}return o(t)}function Dv(t,e,r){if(!t)return[];if(t.length<=1)return t;var n,i,o,s,l,f,u=t[0].bounds(),p=[];if(e==="e")for(o=u.x,n=0;n<t.length;n+=1)i=t[n],f=i.bounds(),l=new W().translate(o-f.x,0),p.push(Qe(i,l)),o+=f.width+r;else if(e==="w")for(o=u.x+u.width,n=0;n<t.length;n+=1)i=t[n],f=i.bounds(),l=new W().translate(o-(f.x+f.width),0),p.push(Qe(i,l)),o-=f.width+r;else if(e==="n")for(s=u.y+u.height,n=0;n<t.length;n+=1)i=t[n],f=i.bounds(),l=new W().translate(0,s-(f.y+f.height)),p.push(Qe(i,l)),s-=f.height+r;else if(e==="s")for(s=u.y,n=0;n<t.length;n+=1)i=t[n],f=i.bounds(),l=new W().translate(0,s-f.y),p.push(Qe(i,l)),s+=f.height+r;return p}function Wv(t,e){var r=arguments;return r.length===4?(t=O.read(r[0],r[1]),e=O.read(r[2],r[3])):(t=O.read(t),e=O.read(e)),Xi(Math.atan2(e.y-t.y,e.x-t.x))}function Uv(t,e,r){var n=arguments;return n.length===4?(t=O.read(n[0],n[1]),e=n[2],r=n[3]):t=O.read(t),Xt(t.x,t.y,e,r)}function qv(t,e){var r=arguments;return r.length===4?(t=O.read(r[0],r[1]),e=O.read(r[2],r[3])):(t=O.read(t),e=O.read(e)),Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Hv(t,e){return!e&&e!==0&&(e=1),b.gray(t,e,1)}function Gv(t){function e(r){return!isNaN(parseFloat(r))&&isFinite(r)}return e(t)?t=t.toString(16):t=String(t),t[0]!=="#"&&(t="#"+t),b.parse(t)}function Vv(t,e,r,n){return!n&&n!==0&&(n=1),b.hsl(t,e,r,n,1)}function zv(t,e,r,n){return!n&&n!==0&&(n=1),b.rgb(t,e,r,n,1)}function Zv(t,e){return t?t.desaturate({method:e}):null}function Jv(t){if(!t)return null;if(t instanceof Lt){var e=t,r=e.toLayer(!1);return r.addFilter("invert"),e.withCanvas(r.toCanvas())}return t.invert()}var So={};ie(So,{easeInBack:()=>Py,easeInBounce:()=>Na,easeInCirc:()=>my,easeInCubic:()=>Kv,easeInElastic:()=>yy,easeInExpo:()=>hy,easeInOutBack:()=>_y,easeInOutBounce:()=>Cy,easeInOutCirc:()=>vy,easeInOutCubic:()=>ey,easeInOutElastic:()=>xy,easeInOutExpo:()=>cy,easeInOutQuad:()=>Qv,easeInOutQuart:()=>iy,easeInOutQuint:()=>ly,easeInOutSine:()=>uy,easeInQuad:()=>jv,easeInQuart:()=>ry,easeInQuint:()=>oy,easeInSine:()=>ay,easeOutBack:()=>wy,easeOutBounce:()=>No,easeOutCirc:()=>dy,easeOutCubic:()=>ty,easeOutElastic:()=>gy,easeOutExpo:()=>py,easeOutQuad:()=>$v,easeOutQuart:()=>ny,easeOutQuint:()=>sy,easeOutSine:()=>fy,easing:()=>Iy});function jv(t,e,r,n){return r*(t/=n)*t+e}function $v(t,e,r,n){return-r*(t/=n)*(t-2)+e}function Qv(t,e,r,n){return(t/=n/2)<1?r/2*t*t+e:-r/2*(--t*(t-2)-1)+e}function Kv(t,e,r,n){return r*(t/=n)*t*t+e}function ty(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e}function ey(t,e,r,n){return(t/=n/2)<1?r/2*t*t*t+e:r/2*((t-=2)*t*t+2)+e}function ry(t,e,r,n){return r*(t/=n)*t*t*t+e}function ny(t,e,r,n){return-r*((t=t/n-1)*t*t*t-1)+e}function iy(t,e,r,n){return(t/=n/2)<1?r/2*t*t*t*t+e:-r/2*((t-=2)*t*t*t-2)+e}function oy(t,e,r,n){return r*(t/=n)*t*t*t*t+e}function sy(t,e,r,n){return r*((t=t/n-1)*t*t*t*t+1)+e}function ly(t,e,r,n){return(t/=n/2)<1?r/2*t*t*t*t*t+e:r/2*((t-=2)*t*t*t*t+2)+e}function ay(t,e,r,n){return-r*Math.cos(t/n*(Math.PI/2))+r+e}function fy(t,e,r,n){return r*Math.sin(t/n*(Math.PI/2))+e}function uy(t,e,r,n){return-r/2*(Math.cos(Math.PI*t/n)-1)+e}function hy(t,e,r,n){return t===0?e:r*Math.pow(2,10*(t/n-1))+e}function py(t,e,r,n){return t===n?e+r:r*(-Math.pow(2,-10*t/n)+1)+e}function cy(t,e,r,n){return t===0?e:t===n?e+r:(t/=n/2)<1?r/2*Math.pow(2,10*(t-1))+e:r/2*(-Math.pow(2,-10*--t)+2)+e}function my(t,e,r,n){return-r*(Math.sqrt(1-(t/=n)*t)-1)+e}function dy(t,e,r,n){return r*Math.sqrt(1-(t=t/n-1)*t)+e}function vy(t,e,r,n){return(t/=n/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+e:r/2*(Math.sqrt(1-(t-=2)*t)+1)+e}function yy(t,e,r,n){var i=1.70158,o=0,s=r;return t===0?e:(t/=n)===1?e+r:(o||(o=n*.3),s<Math.abs(r)?(s=r,i=o/4):i=o/(2*Math.PI)*Math.asin(r/s),-(s*Math.pow(2,10*(t-=1))*Math.sin((t*n-i)*(2*Math.PI)/o))+e)}function gy(t,e,r,n){var i=1.70158,o=0,s=r;return t===0?e:(t/=n)===1?e+r:(o||(o=n*.3),s<Math.abs(r)?(s=r,i=o/4):i=o/(2*Math.PI)*Math.asin(r/s),s*Math.pow(2,-10*t)*Math.sin((t*n-i)*(2*Math.PI)/o)+r+e)}function xy(t,e,r,n){var i=1.70158,o=0,s=r;return t===0?e:(t/=n/2)===2?e+r:(o||(o=n*(.3*1.5)),s<Math.abs(r)?(s=r,i=o/4):i=o/(2*Math.PI)*Math.asin(r/s),t<1?-.5*(s*Math.pow(2,10*(t-=1))*Math.sin((t*n-i)*(2*Math.PI)/o))+e:s*Math.pow(2,-10*(t-=1))*Math.sin((t*n-i)*(2*Math.PI)/o)*.5+r+e)}function Py(t,e,r,n,i){return i===void 0&&(i=1.70158),r*(t/=n)*t*((i+1)*t-i)+e}function wy(t,e,r,n,i){return i===void 0&&(i=1.70158),r*((t=t/n-1)*t*((i+1)*t+i)+1)+e}function _y(t,e,r,n,i){return i===void 0&&(i=1.70158),(t/=n/2)<1?r/2*(t*t*(((i*=1.525)+1)*t-i))+e:r/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e}function Na(t,e,r,n){return r-No(n-t,0,r,n)+e}function No(t,e,r,n){return(t/=n)<1/2.75?r*(7.5625*t*t)+e:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+e:r*(7.5625*(t-=2.625/2.75)*t+.984375)+e}function Cy(t,e,r,n){return t<n/2?Na(t*2,0,r,n)*.5+e:No(t*2-n,0,r,n)*.5+r*.5+e}function Iy(t){var e=g[t],r=Array.prototype.slice.call(arguments,1);return e.apply(null,r)}function Ty(t){var e=Wt.Layer.fromImage(t);return new Wt.Img(e.toCanvas())}function Ey(t){return t?String(t):""}function Sa(t,e){var r=[],n,i="",o,s=!1;for(t=t.trim(),o=0;o<t.length;o+=1)n=t[o],n==='"'?t[o+1]==='"'?(i+='"',o+=1):s=!s:n===e?s?i+=n:(r.push(i),i=""):i+=n;return r.push(i),r}function by(t,e){var r,n;if(e=e||",",!t)return null;r=t.split(/\r\n|\r|\n/g),n=Sa(r[0],e),r=r.slice(1);for(var i,o=[],s,l,f,u,p=0;p<r.length;p+=1)if(i=r[p],i){for(s={},l=Sa(i,e),u=0;u<l.length;u+=1)f=l[u],s[n[u]]=isNaN(f)?f:parseFloat(f);o.push(s)}return o}function Oy(){var t=Pe(arguments);if(Array.isArray(t)){for(var e=[],r=0;r<t.length;r+=1)t[r]&&e.push(t[r]);if(e.length>0){var n=e[0];if(n&&(n.commands||n.shapes||n.fontFamily))return Ui(e);if(n instanceof img.Img)return img.merge(e)}}return null}function Ay(t,e,r){if(r=r!==void 0?r:.5,typeof t=="number")return t*(1-r)+e*r;if(t instanceof Wt.Color&&e instanceof Wt.Color)return new Wt.Color(Wt.mix(t.r,e.r,r),Wt.mix(t.g,e.g,r),Wt.mix(t.b,e.b,r),Wt.mix(t.a,e.a,r));if(typeof t=="object"){for(var n={},i=Object.keys(t),o=0,s=i.length;o<s;o+=1){var l=i[o],f=t[l],u=e[l];f!==void 0&&u!==void 0&&(n[l]=Wt.mix(f,u,r))}return n}else return 0}var Wt={...Vi,...img,...Ri,...Yi,...zi,...$i,...mo,...imageCommands,...Ao,...So,importSvg,importImage:Ty,importText:Ey,importCSV:by,merge:Oy,mix:Ay},Ny=Wt;return Ua(Sy);})();
/*!
 * Image processing based on Pixastic library:
 *
 * Pixastic - JavaScript Image Processing
 * http://pixastic.com/
 * Copyright 2012, Jacob Seidelin
 *
 * Dual licensed under the MPL 1.1 or GPLv3 licenses.
 * http://pixastic.com/license-mpl.txt
 * http://pixastic.com/license-gpl-3.0.txt
 *
 */
//# sourceMappingURL=g.min.js.map
